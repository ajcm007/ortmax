!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define("1ds",["jQuery"],t):"object"==typeof exports?exports["1ds"]=t(require("jQuery")):e["1ds"]=t(e.jQuery)}(window,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}({1:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"l",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return g}));var r="function",i="object",a="undefined",o="prototype",s="hasOwnProperty",c="default",u=Object,l=u[o],f=u.assign,p=u.create,d=u.defineProperty,g=l[s]},17:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},18:function(e,t,n){"use strict";n.r(t);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var a=n(4),o=n(27),s=Object,c=s.getPrototypeOf,u=0;function l(e,t){return e&&s.prototype.hasOwnProperty.call(e,t)}function f(e){return e&&(e===s.prototype||e===Array.prototype)}function p(e){return f(e)||e===Function.prototype}function d(e){if(e){if(c)return c(e);var t=e.__proto__||e.prototype||(e.constructor?e.constructor.prototype:null);if(t)return t}return null}function g(e,t){var n=[],r=s.getOwnPropertyNames;if(r)n=r(e);else for(var i in e)"string"==typeof i&&l(e,i)&&n.push(i);if(n&&n.length>0)for(var a=0;a<n.length;a++)t(n[a])}function h(e,t,n){return"constructor"!==t&&"function"==typeof e[t]&&(n||l(e,t))}function v(e){throw new TypeError("DynamicProto: "+e)}function m(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function y(e,t,n,r){var i=null;if(e&&l(n,"_dynClass")){var a=e._dynInstFuncs||{};if((i=(a[n._dynClass]||{})[t])||v("Missing ["+t+"] function"),!i._dynInstChk&&!1!==a._dynInstChk){for(var o=!l(e,t),s=d(e),c=[];o&&s&&!p(s)&&!m(c,s);){var u=s[t];if(u){o=u===r;break}c.push(s),s=d(s)}try{o&&(e[t]=i),i._dynInstChk=1}catch(e){a._dynInstChk=!1}}}return i}function C(e,t,n){var r=t[e];return r===n&&(r=d(t)[e]),"function"!=typeof r&&v("["+e+"] is not a function"),r}function T(e,t,n,r,i){if(!f(e)){var a=n._dynInstFuncs=n._dynInstFuncs||{},o=a[t]=a[t]||{};!1!==a._dynInstChk&&(a._dynInstChk=!!i),g(n,(function(t){h(n,t,!1)&&n[t]!==r[t]&&(o[t]=n[t],delete n[t],(!l(e,t)||e[t]&&!e[t]._isDynProxy)&&(e[t]=function(e,t){var n=function(){var r=y(this,t,e,n)||C(t,e,n);return r.apply(this,arguments)};return n._isDynProxy=1,n}(e,t)))}))}}function b(e,t){return l(e,"prototype")?e.name||t||"_unknown_":((e||{}).constructor||{}).name||t||"_unknown_"}function I(e,t,n,r){l(e,"prototype")||v("theClass is an invalid class definition.");var i=e.prototype;(function(e,t){if(c)for(var n=[],r=d(t);r&&!p(r)&&!m(n,r);){if(r===e)return!0;n.push(r),r=d(r)}return!1})(i,t)||v("["+b(e)+"] is not in class hierarchy of ["+b(t)+"]");var a=null;l(i,"_dynClass")?a=i._dynClass:(a="_dynCls$"+b(e,"_")+"$"+u,u++,i._dynClass=a);var o=I._dfOpts,s=!!o.useBaseInst;s&&r&&void 0!==r.useBaseInst&&(s=!!r.useBaseInst);var f=function(e){var t={};return g(e,(function(n){!t[n]&&h(e,n,!1)&&(t[n]=e[n])})),t}(t);n(t,function(e,t,n,r){function i(e,t,n){var i=t[n];if(i._isDynProxy&&r){var a=e._dynInstFuncs||{};!1!==a._dynInstChk&&(i=(a[t._dynClass]||{})[n]||i)}return function(){return i.apply(e,arguments)}}var a={};g(n,(function(e){a[e]=i(t,n,e)}));for(var o=d(e),s=[];o&&!p(o)&&!m(s,o);)g(o,(function(e){!a[e]&&h(o,e,!c)&&(a[e]=i(t,o,e))})),s.push(o),o=d(o);return a}(i,t,f,s));var y=!!c&&!!o.setInstFuncs;y&&r&&(y=!!r.setInstFuncs),T(i,a,t,f,!1!==y)}I._dfOpts={setInstFuncs:!0,useBaseInst:!0};var S=I,E=n(1),x=n(6),w=E.d,k=E.b.freeze;E.b.seal;function A(e){return E.f.toString.call(e)}function P(e,t){return typeof e===t}function N(e){return void 0===e||typeof e===E.l}function _(e){return null===e||N(e)}function D(e){return!_(e)}function O(e,t){return e&&E.e.call(e,t)}function M(e){return typeof e===E.j}function R(e){return typeof e===E.h}function L(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!_(e))try{_(e.addEventListener)?_(e.attachEvent)||(e.attachEvent("on"+t,n),i=!0):(e.addEventListener(t,n,r),i=!0)}catch(e){}return i}function V(e,t){if(e)for(var n in e)E.e.call(e,n)&&t.call(e,n,e[n])}function U(e,t){if(e&&t){var n=t.length,r=e.length;if(e===t)return!0;if(r>=n){for(var i=r-1,a=n-1;a>=0;a--){if(e[i]!=t[a])return!1;i--}return!0}}return!1}function F(e,t){var n=!1;if(e&&t){var r=t.length;if(e===t)return!0;if(e.length>=r){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;n=!0}}return n}function q(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function H(e){return"[object Date]"===A(e)}function j(e){return"[object Array]"===A(e)}function B(e){return"[object Error]"===A(e)}function z(e){return"string"==typeof e}function W(e){return"number"==typeof e}function G(e){return"boolean"==typeof e}function K(e){if(e){if(e.toISOString)return e.toISOString();if(H(e)){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}}function Q(e,t,n){var r=e.length;try{for(var i=0;i<r&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}catch(e){}}function X(e,t,n){var r=e.length,i=n||0;try{for(var a=Math.max(i>=0?i:r-Math.abs(i),0);a<r;a++)if(a in e&&e[a]===t)return a}catch(e){}return-1}function J(e,t,n){var r=e.length,i=n||e,a=new Array(r);try{for(var o=0;o<r;o++)o in e&&(a[o]=t.call(i,e[o],e))}catch(e){}return a}function $(e,t,n){var r,i=e.length,a=0;if(arguments.length>=3)r=arguments[2];else{for(;a<i&&!(a in e);)a++;r=e[a++]}for(;a<i;)a in e&&(r=t(r,e[a],a,e)),a++;return r}function Y(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}var Z=!{toString:null}.propertyIsEnumerable("toString"),ee=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function te(e){var t=typeof e;t===E.h||t===E.j&&null!==e||Object(x.c)("objKeys called on non-object");var n=[];for(var r in e)e&&E.e.call(e,r)&&n.push(r);if(Z)for(var i=ee.length,a=0;a<i;a++)e&&E.e.call(e,ee[a])&&n.push(ee[a]);return n}function ne(e,t,n,r){if(w)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),w(e,t,i),!0}catch(e){}return!1}function re(e){return k&&(e=k(e)),e}function ie(){var e=Date;return e.now?e.now():(new e).getTime()}function ae(e){return B(e)?e.name:""}function oe(e,t,n,r,i){var a=n;return e&&((a=e[t])===n||i&&!i(a)||r&&!r(n)||(a=n,e[t]=a)),a}function se(e){return!e}function ce(e){return!!e}function ue(e){throw new Error(e)}function le(e){return e&&(e=Object(E.b)(E.a?Object(E.a)({},e):e)),e}var fe,pe=null,de=function(){function e(t,n,r){var i,a=this,o=!1;(a.start=ie(),a.name=t,a.isAsync=r,a.isChildEvt=function(){return!1},R(n))&&(o=ne(a,"payload",(function(){return!i&&R(n)&&(i=n(),n=null),i})));a.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?a[t]:(a.ctx||{})[t]:null},a.setCtx=function(t,n){if(t)if(t===e.ParentContextKey)a[t]||(a.isChildEvt=function(){return!0}),a[t]=n;else if(t===e.ChildrenContextKey)a[t]=n;else{(a.ctx=a.ctx||{})[t]=n}},a.complete=function(){var t=0,r=a.getCtx(e.ChildrenContextKey);if(j(r))for(var i=0;i<r.length;i++){var s=r[i];s&&(t+=s.time)}a.time=ie()-a.start,a.exTime=a.time-t,a.complete=function(){},!o&&R(n)&&(a.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),ge=function e(t){this.ctx={},S(e,this,(function(e){e.create=function(e,t,n){return new de(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&R(t.perfEvent)&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))};function he(e,t,n,r,i){if(e){var a=e;if(R(a.getPerfMgr)&&(a=a.getPerfMgr()),a){var o=void 0,s=a.getCtx("CoreUtils.doPerf");try{if(o=a.create(t(),r,i)){if(s&&o.setCtx&&(o.setCtx(de.ParentContextKey,s),s.getCtx&&s.setCtx)){var c=s.getCtx(de.ChildrenContextKey);c||(c=[],s.setCtx(de.ChildrenContextKey,c)),c.push(o)}return a.setCtx("CoreUtils.doPerf",o),n(o)}}catch(e){o&&o.setCtx&&o.setCtx("exception",e)}finally{o&&a.fire(o),a.setCtx("CoreUtils.doPerf",s)}}}return n()}!function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"}(fe||(fe={}));var ve={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105},me=0,ye=13,Ce=32,Te=1,be=2,Ie=3,Se=4,Ee=0,xe=1,we=6,ke=7,Ae=Object(o.a)(Object(o.a)({},ve),{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}),Pe=null,Ne=null,_e=!1,De=null,Oe=null;function Me(e,t){var n=!1;if(e){try{if(!(n=t in e)){var r=e[E.k];r&&(n=t in r)}}catch(e){}if(!n)try{n=!N((new e)[t])}catch(e){}}return n}function Re(e){var t=Object(x.a)();return t&&t[e]?t[e]:"window"===e&&Le()?window:null}function Le(){return Boolean(typeof window===E.j&&window)}function Ve(){return Le()?window:Re("window")}function Ue(){return Boolean(typeof document===E.j&&document)?document:Re("document")}function Fe(){return Boolean(typeof navigator===E.j&&navigator)}function qe(){return Fe()?navigator:Re("navigator")}function He(){return Boolean(typeof history===E.j&&history)?history:Re("history")}function je(e){if(e&&_e){var t=Re("__mockLocation");if(t)return t}return typeof location===E.j&&location?location:Re("location")}function Be(){return Re("performance")}function ze(){return Boolean(typeof JSON===E.j&&JSON||null!==Re("JSON"))}function We(){return ze()?JSON||Re("JSON"):null}function Ge(){var e=qe();return!(!e||!e.product)&&"ReactNative"===e.product}function Ke(){var e=qe();if(e&&(e.userAgent!==Ne||null===Pe)){var t=((Ne=e.userAgent)||"").toLowerCase();Pe=q(t,"msie")||q(t,"trident/")}return Pe}function Qe(e){if(void 0===e&&(e=null),!e){var t=qe()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(q(n,"msie")){var r=Ue()||{};return Math.max(parseInt(n.split("msie")[1]),r.documentMode||0)}if(q(n,"trident/")){var i=parseInt(n.split("trident/")[1]);if(i)return i+4}return null}function Xe(e){var t=Object[E.k].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":ze()&&(n=We().stringify(e)),t+n}function Je(){return null===Oe&&(Oe=Fe()&&Boolean(qe().sendBeacon)),Oe}function $e(e){var t=!1;try{t=!!Re("fetch");var n=Re("Request");t&&e&&n&&(t=Me(n,"keepalive"))}catch(e){}return t}function Ye(){return null===De&&(De="undefined"!=typeof XDomainRequest)&&Ze()&&(De=De&&!Me(Re("XMLHttpRequest"),"withCredentials")),De}function Ze(){var e=!1;try{e=!!Re("XMLHttpRequest")}catch(e){}return e}var et,tt=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],nt=null;function rt(e,t){return function(){var n=arguments,r=it(t);if(r){var i=r.listener;i&&i[e]&&i[e].apply(i,n)}}}function it(e){var t,n=nt;return n||!0===e.disableDbgExt||(n=nt||((t=Re("Microsoft"))&&(nt=t.ApplicationInsights),nt)),n?n.ChromeDbgExt:null}function at(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function ot(e,t){var n=typeof console!==E.l?console:Re("console");if(n){var r="log";n[e]&&(r=e),R(n[r])&&n[r](t)}}var st=function(){function e(e,t,n,r){void 0===n&&(n=!1);this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e;var i="";ze()&&(i=We().stringify(r));var a=(t?" message:"+at(t):"")+(r?" props:"+at(i):"");this.message+=a}return e.dataType="MessageData",e}();function ct(e,t){return(e||{}).logger||new ut(t)}var ut=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};S(e,this,(function(e){function i(e,n){var r=t[e];return _(r)?n:r}function a(e,n){var r=it(t);r&&r.diagLog&&r.diagLog(e,n)}_(t)&&(t={}),e.consoleLoggingLevel=function(){return i("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return i("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return i("maxMessageLimit",25)},e.enableDebugExceptions=function(){return i("enableDebugExceptions",!1)},e.throwInternal=function(t,n,i,o,s){void 0===s&&(s=!1);var c=new st(n,i,s,o);if(e.enableDebugExceptions())throw c;var u=t===fe.CRITICAL?"errorToConsole":"warnToConsole";if(N(c.message))a("throw"+(t===fe.CRITICAL?"Critical":"Warning"),c);else{var l=e.consoleLoggingLevel();if(s){var f=+c.messageId;!r[f]&&l>=t&&(e[u](c.message),r[f]=!0)}else l>=t&&e[u](c.message);e.logInternalMessage(t,c)}},e.warnToConsole=function(e){ot("warn",e),a("warning",e)},e.errorToConsole=function(e){ot("error",e),a("error",e)},e.resetInternalMessageCount=function(){n=0,r={}},e.logInternalMessage=function(t,i){if(!(n>=e.maxInternalMessageLimit())){var o=!0,s="AITR_"+i.messageId;if(r[s]?o=!1:r[s]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(i),n++,a(t===fe.CRITICAL?"error":"warn",i)),n===e.maxInternalMessageLimit())){var c="Internal events throttle limit per PageView reached for this app.",u=new st(ve.MessageLimitPerPVExceeded,c,!1);e.queue.push(u),t===fe.CRITICAL?e.errorToConsole(c):e.warnToConsole(c)}}}}))},lt=function(e,t){var n=this,r=null,i=R(e.processTelemetry),a=R(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return r},n.setNext=function(e){r=e},n.processTelemetry=function(o,s){s||(s=t);var c=e?e.identifier:"TelemetryPluginChain";he(s?s.core():null,(function(){return c+":processTelemetry"}),(function(){if(e&&i){n._hasRun=!0;try{s.setNext(r),a&&e.setNextPlugin(r),r&&(r._hasRun=!1),e.processTelemetry(o,s)}catch(n){var t=r&&r._hasRun;r&&t||s.diagLog().throwInternal(fe.CRITICAL,ve.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+Xe(n)),r&&!t&&r.processTelemetry(o,s)}}else r&&(n._hasRun=!0,r.processTelemetry(o,s))}),(function(){return{item:o}}),!o.sync)}};function ft(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var a=e[i];if(a&&R(a.processTelemetry)){var o=new lt(a,t);n.push(o),r&&r.setNext(o),r=o}}return n.length>0?n[0]:null}var pt=function e(t,n,r,i){var a=this,o=null;null!==i&&(t&&R(t.getPlugin)?o=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();(i||a===n)&&(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),ft(r,t)}(t,a,i||t.getPlugin()):i?o=function(e,t,n){var r=e,i=!1;return n&&e&&(r=[],Q(e,(function(e){(i||e===n)&&(i=!0,r.push(e))}))),n&&!i&&(r||(r=[]),r.push(n)),ft(r,t)}(t,a,i):N(i)&&(o=ft(t,a))),a.core=function(){return r},a.diagLog=function(){return ct(r,n)},a.getCfg=function(){return n},a.getExtCfg=function(e,t){var r;if(void 0===t&&(t={}),n){var i=n.extensionConfig;i&&e&&(r=i[e])}return r||t},a.getConfig=function(e,t,r){var i;void 0===r&&(r=!1);var o=a.getExtCfg(e,null);return o&&!_(o[t])?i=o[t]:n&&!_(n[t])&&(i=n[t]),_(i)?r:i},a.hasNext=function(){return null!=o},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processNext=function(e){var t=o;t&&(o=t.getNext(),t.processTelemetry(e,a))},a.createNew=function(t,i){return void 0===t&&(t=null),new e(t||o,n,r,i)}},dt=function(){function e(){var e=this,t=!1,n=null,r=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){r=e},e.processNext=function(e,t){t?t.processNext(e):r&&R(r.processTelemetry)&&r.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var i=t;if(!i){var a=n||new pt(null,{},e.core);i=r&&r.getPlugin?a.createNew(null,r.getPlugin):a.createNew(null,r)}return i},e._baseTelInit=function(i,a,o,s){i&&oe(i,"extensionConfig",[],null,_),!s&&a&&(s=a.getProcessTelContext().getNext());var c=r;r&&r.getPlugin&&(c=r.getPlugin()),e.core=a,n=new pt(s,i,a,c),t=!0}}return e.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},e}();function gt(e,t){for(var n=[],r=null,i=e.getNext();i;){var a=i.getPlugin();a&&(r&&R(r.setNextPlugin)&&R(a.processTelemetry)&&r.setNextPlugin(a),R(a.isInitialized)&&a.isInitialized()||n.push(a),r=a,i=i.getNext())}Q(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function ht(e){return e.sort((function(e,t){var n=0,r=R(t.processTelemetry);return R(e.processTelemetry)?n=r?e.priority-t.priority:1:r&&(n=-1),n}))}var vt=function(e){function t(){var n,r=e.call(this)||this;function i(e){e&&e.length>0&&(function(e){Q(e,(function(e){e.priority<500&&ue("Channel has invalid priority"+e.identifier)}))}(e=e.sort((function(e,t){return e.priority-t.priority}))),n.push(e))}return r.identifier="ChannelControllerPlugin",r.priority=500,S(t,r,(function(e,t){e.setNextPlugin=function(e){},e.processTelemetry=function(e,t){n&&Q(n,(function(n){n.length>0&&r._getTelCtx(t).createNew(n).processNext(e)}))},e.getChannelControls=function(){return n},e.initialize=function(r,a,o){e.isInitialized()||(t.initialize(r,a,o),function(e,t){n=[],e&&Q(e,(function(e){return i(e)}));if(t){var r=[];Q(t,(function(e){e.priority>500&&r.push(e)})),i(r)}}((r||{}).channels,o),Q(n,(function(e){return gt(new pt(e,r,a),o)})))}})),r}var n;return Object(o.b)(t,e),t._staticInit=(ne(n=t.prototype,"ChannelControls",n.getChannelControls),void ne(n,"channelQueue",n.getChannelControls)),t}(dt),mt=null,yt=null,Ct=null,Tt=Ue(),bt={},It={};function St(e,t){var n=wt._ckMgr||It._ckMgr;return n||(n=wt._ckMgr=wt(e,t),It._ckMgr=n),n}function Et(e){return!e||e.isEnabled()}function xt(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r._ckMgr?r._ckMgr:wt(t)}return n||(n=St(t,(e||{}).logger)),n}function wt(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(oe(t,"domain",e.cookieDomain,D,_),oe(t,"path",e.cookiePath||"/",null,_),_(t.enabled)){var n=void 0;N(e.isCookieUseDisabled)||(n=!e.isCookieUseDisabled),N(e.disableCookiesUsage)||(n=!e.disableCookiesUsage),t.enabled=n}return t}(e||It),r=n.path||"/",i=n.domain,a=!1!==n.enabled,o={isEnabled:function(){var e=a&&kt(t),n=It._ckMgr;return e&&n&&o!==n&&(e=Et(n)),e},setEnabled:function(e){a=!1!==e},set:function(e,t,a,s,c){var u=!1;if(Et(o)){var l={},f=Y(t||""),p=f.indexOf(";");if(-1!==p&&(f=Y(t.substring(0,p)),l=At(t.substring(p+1))),oe(l,"domain",s||i,ce,N),!_(a)){var d=Ke();if(N(l.expires)){var g=ie()+1e3*a;if(g>0){var h=new Date;h.setTime(g),oe(l,"expires",Pt(h,d?"toGMTString":"toUTCString")||Pt(h,d?"toGMTString":"toUTCString")||"",ce)}}d||oe(l,"max-age",""+a,null,N)}var v=je();v&&"https:"===v.protocol&&(oe(l,"secure",null,null,N),null===yt&&(yt=!Ot((qe()||{}).userAgent)),yt&&oe(l,"SameSite","None",null,N)),oe(l,"path",c||r,null,N),(n.setCookie||Dt)(e,Nt(f,l)),u=!0}return u},get:function(e){var t="";return Et(o)&&(t=(n.getCookie||_t)(e)),t},del:function(e,t){var n=!1;return Et(o)&&(n=o.purge(e,t)),n},purge:function(e,r){var i,a=!1;if(kt(t)){var o=((i={}).path=r||"/",i.expires="Thu, 01 Jan 1970 00:00:01 GMT",i);Ke()||(o["max-age"]="0"),(n.delCookie||Dt)(e,Nt("",o)),a=!0}return a}};return o._ckMgr=o,o}function kt(e){if(null===mt){mt=!1;try{mt=void 0!==(Tt||{}).cookie}catch(t){e&&e.throwInternal(fe.WARNING,ve.CannotAccessCookie,"Cannot access document.cookie - "+ae(t),{exception:Xe(t)})}}return mt}function At(e){var t={};e&&e.length&&Q(Y(e).split(";"),(function(e){if(e=Y(e||"")){var n=e.indexOf("=");-1===n?t[e]=null:t[Y(e.substring(0,n))]=Y(e.substring(n+1))}}));return t}function Pt(e,t){return R(e[t])?e[t]():null}function Nt(e,t){var n=e||"";return V(t,(function(e,t){n+="; "+e+(_(t)?"":"="+t)})),n}function _t(e){var t="";if(Tt){var n=Tt.cookie||"";Ct!==n&&(bt=At(n),Ct=n),t=Y(bt[e]||"")}return t}function Dt(e,t){Tt&&(Tt.cookie=e+"="+t)}function Ot(e){return!!z(e)&&(!(!q(e,"CPU iPhone OS 12")&&!q(e,"iPad; CPU OS 12"))||(!!(q(e,"Macintosh; Intel Mac OS X 10_14")&&q(e,"Version/")&&q(e,"Safari"))||(!(!q(e,"Macintosh; Intel Mac OS X 10_14")||!U(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))||(!(!q(e,"Chrome/5")&&!q(e,"Chrome/6"))||(!(!q(e,"UnrealEngine")||q(e,"Chrome"))||!(!q(e,"UCBrowser/12")&&!q(e,"UCBrowser/11")))))))}function Mt(e,t){return new ge(t)}var Rt=0,Lt=1,Vt=2,Ut=4,Ft=5,qt=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;S(e,this,(function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=X(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=X(e.listeners,t)},e.eventsSent=function(t){Q(e.listeners,(function(e){e&&e.eventsSent&&setTimeout((function(){return e.eventsSent(t)}),0)}))},e.eventsDiscarded=function(t,n){Q(e.listeners,(function(e){e&&e.eventsDiscarded&&setTimeout((function(){return e.eventsDiscarded(t,n)}),0)}))},e.eventsSendRequest=function(t,n){Q(e.listeners,(function(e){if(e&&e.eventsSendRequest)if(n)setTimeout((function(){return e.eventsSendRequest(t,n)}),0);else try{e.eventsSendRequest(t,n)}catch(e){}}))},e.perfEvent=function(t){t&&(!n&&t.isChildEvt()||Q(e.listeners,(function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout((function(){return e.perfEvent(t)}),0);else try{e.perfEvent(t)}catch(e){}})))}}))},Ht=function(e){function t(){var n=e.call(this)||this,r=0;return S(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],Vt)}e.initialize=function(e,n,r,i){t.initialize(e,n,r||new ut(e),i||new qt(e))},e.track=function(r){he(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(n(r),ue("Invalid telemetry item")),function(e){if(_(e.name))throw n(e),Error("telemetry name required")}(r),t.track(r)}),(function(){return{item:r}}),!r.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return n&&n>0||(n=1e4),r&&e.stopPollingInternalLogs(),r=setInterval((function(){var n=e.logger?e.logger.queue:[];Q(n,(function(n){var r={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:K(new Date),baseType:st.dataType,baseData:{message:n.message}};e.track(r)})),n.length=0}),n)},e.stopPollingInternalLogs=function(){r&&(clearInterval(r),r=0)}})),n}return Object(o.b)(t,e),t}((function e(){var t,n,r,i,a,s=!1;S(e,this,(function(e){e._extensions=new Array,n=new vt,e.logger=new ut({loggingLevelConsole:fe.CRITICAL}),t=[],e.isInitialized=function(){return s},e.initialize=function(t,i,a,c){var u,l,f,p;e.isInitialized()&&ue("Core should not be initialized more than once"),t&&!_(t.instrumentationKey)||ue("Please provide instrumentation key"),r=c,e._notificationManager=c,e.config=t||{},c&&!0!==e.config.disableDbgExt&&c.addNotificationListener(function(e){if(!et){et={};for(var t=0;t<tt.length;t++)et[tt[t]]=rt(tt[t],e)}return et}(t)),e.config.enablePerfMgr&&oe(e.config,"createPerfMgr",Mt),t.extensions=_(t.extensions)?[]:t.extensions,(l="extensionConfig",(u=t)?!(p=u[l])&&_(p)&&(p=N(f)?{}:f,u[l]=p):p=N(f)?{}:f,p).NotificationManager=c,a&&(e.logger=a);var d=[];d.push.apply(d,Object(o.c)(Object(o.c)([],i,!1),t.extensions,!1)),d=ht(d);var g=[],h=[],v={};Q(d,(function(e){(_(e)||_(e.initialize))&&ue("Extensions must provide callback to initialize");var t=e.priority,r=e.identifier;e&&t&&(_(v[t])?v[t]=r:a.warnToConsole("Two extensions have same priority #"+t+" - "+v[t]+", "+r)),!t||t<n.priority?g.push(e):h.push(e)})),d.push(n),g.push(n),d=ht(d),e._extensions=d,gt(new pt([n],t,e),d),gt(new pt(g,t,e),d),e._extensions=g,0===e.getTransmissionControls().length&&ue("No channels available"),s=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){oe(n,"iKey",e.config.instrumentationKey,null,se),oe(n,"time",K(new Date),null,se),oe(n,"ver","4.0",null,_),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,r=t;return t&&0!==t.length||(r=[n]),new pt(r,e.config,e)},e.getNotifyMgr=function(){return r||(r=Object(x.b)({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e._notificationManager=r),r},e.getCookieMgr=function(){return a||(a=wt(e.config,e.logger)),a},e.setCookieMgr=function(e){a=e},e.getPerfMgr=function(){return i||e.config&&e.config.enablePerfMgr&&R(e.config.createPerfMgr)&&(i=e.config.createPerfMgr(e,e.getNotifyMgr())),i||pe},e.setPerfMgr=function(e){i=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){t.length>0&&(Q(t,(function(t){e.getProcessTelContext().processNext(t)})),t=[])}}))})),jt=!1,Bt=123456789,zt=987654321;function Wt(e){e<0&&(e>>>=0),Bt=123456789+e&4294967295,zt=987654321-e&4294967295,jt=!0}function Gt(){try{var e=2147483647&ie();Wt((4294967296*Math.random()^e)+e)}catch(e){}}function Kt(e){return e>0?Math.floor(Qt()/4294967295*(e+1))>>>0:0}function Qt(e){var t,n=Re("crypto")||Re("msCrypto");return n&&n.getRandomValues?t=4294967295&n.getRandomValues(new Uint32Array(1))[0]:Ke()?(jt||Gt(),t=4294967295&Jt()):t=Math.floor(4294967296*Math.random()|0),e||(t>>>=0),t}function Xt(e){e?Wt(e):Gt()}function Jt(e){var t=((zt=36969*(65535&zt)+(zt>>16)&4294967295)<<16)+(65535&(Bt=18e3*(65535&Bt)+(Bt>>16)&4294967295))>>>0&4294967295|0;return e||(t>>>=0),t}var $t,Yt=null;E.l;function Zt(e,t){var n=!1,r=Ve();r&&(n=L(r,e,t),n=L(r.body,e,t)||n);var i=Ue();return i&&(n=L(i,e,t)||n),n}function en(e,t){return function e(t,n,r){var i=!1;if(n&&t&&j(t)){var a=[];Q(t,(function(e){z(e)&&(r&&-1!==X(r,e)?a.push(e):i=Zt(e,n)||i)})),!i&&a.length>0&&(i=e(a,n))}return i}(["beforeunload","unload","pagehide"],e,t)}function tn(e,t){var n=!1;return t&&-1!==X(t,"pagehide")||(n=Zt("pagehide",e)),t&&-1!==X(t,"visibilitychange")||(n=Zt("visibilitychange",(function(t){var n=Ue();e&&n&&"hidden"===n.visibilityState&&e(t)}))||n),!n&&t&&(n=tn(e)),n}function nn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(un,(function(e){var t=0|Kt(15);return("x"===e?t:3&t|8).toString(16)}))}function rn(){var e=Be();return e&&e.now?e.now():ie()}function an(e){void 0===e&&(e=22);for(var t=Qt()>>>0,n=0,r="";r.length<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(Qt()<<2&4294967295|3&t)>>>0,n=0);return r}function on(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=Qt())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&Qt())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}var sn,cn={_canUseCookies:void 0,isTypeof:P,isUndefined:N,isNullOrUndefined:_,hasOwnProperty:O,isFunction:R,isObject:M,isDate:H,isArray:j,isError:B,isString:z,isNumber:W,isBoolean:G,toISOString:K,arrForEach:Q,arrIndexOf:X,arrMap:J,arrReduce:$,strTrim:Y,objCreate:x.b,objKeys:te,objDefineAccessors:ne,addEventHandler:Zt,dateNow:ie,isIE:Ke,disableCookies:fn,newGuid:nn,perfNow:rn,newId:an,randomValue:Kt,random32:Qt,mwcRandomSeed:Xt,mwcRandom32:Jt,generateW3CId:on},un=/[xy]/g;function ln(e,t){var n=St(e,t),r=cn._canUseCookies;return null===Yt&&(Yt=[],$t=r,ne(cn,"_canUseCookies",(function(){return $t}),(function(e){$t=e,Q(Yt,(function(t){t.setEnabled(e)}))}))),-1===X(Yt,n)&&Yt.push(n),G(r)&&n.setEnabled(r),G($t)&&n.setEnabled($t),n}function fn(){ln().setEnabled(!1)}var pn=((sn={})[0]=Ee,sn[2]=we,sn[1]=xe,sn[3]=ke,sn[4098]=we,sn[4097]=xe,sn[4099]=ke,sn),dn=Boolean(Ue()),gn=Boolean(Ve());function hn(e){return!(""===e||_(e))}function vn(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function mn(e){return!!(e&&W(e)&&e>=Te&&e<=Se)}function yn(e,t,n){if(!t&&!hn(t)||"string"!=typeof e)return null;var r=typeof t;if("string"===r||"number"===r||"boolean"===r||j(t))t={value:t};else if("object"!==r||t.hasOwnProperty("value")){if(_(t.value)||""===t.value||!z(t.value)&&!W(t.value)&&!G(t.value)&&!j(t.value))return null}else t={value:n?JSON.stringify(t):t};if(j(t.value)&&!wn(t.value))return null;if(!_(t.kind)){if(j(t.value)||!xn(t.kind))return null;t.value=t.value.toString()}return t}function Cn(e,t,n){var r=-1;if(!N(e))if(t>0&&(32===t?r=8192:t<=13&&(r=t<<5)),function(e){if(e>=0&&e<=9)return!0;return!1}(n))-1===r&&(r=0),r|=n;else{var i=pn[An(e)]||-1;-1!==r&&-1!==i?r|=i:i===we&&(r=i)}return r}function Tn(e){return kt(null)?bn(xt(null),e):""}function bn(e,t,n){var r;return void 0===n&&(n=!0),e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||""}function In(e){void 0===e&&(e="D");var t=nn();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function Sn(e,t,n,r,i){var a={},o=!1,s=0,c=arguments.length,u=Object[E.k],l=arguments;for("[object Boolean]"===u.toString.call(l[0])&&(o=l[0],s++);s<c;s++){V(e=l[s],(function(e,t){o&&t&&M(t)?j(t)?(a[e]=a[e]||[],Q(t,(function(t,n){t&&M(t)?a[e][n]=Sn(!0,a[e][n],t):a[e][n]=t}))):a[e]=Sn(!0,a[e],t):a[e]=t}))}return a}var En=rn;function xn(e){return e===me||e>me&&e<=ye||e===Ce}function wn(e){return e.length>0}function kn(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=En()}function An(e){var t=0;if(null!=e){var n=typeof e;"string"===n?t=1:"number"===n?t=2:"boolean"===n?t=3:n===E.j&&(t=4,j(e)?(t=4096,e.length>0&&(t|=An(e[0]))):O(e,"value")&&(t=8192|An(e.value)))}return t}E.l,E.j,E.l,x.b;function Pn(e,t,n,r,i){function a(e,t,n){try{e[t]=n}catch(e){}}void 0===r&&(r=!1),void 0===i&&(i=!1);var o=new XMLHttpRequest;return r&&a(o,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",r),n&&a(o,"withCredentials",n),o.open(e,t,!i),n&&a(o,"withCredentials",n),o}var Nn=function(e){function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],n.pluginVersionString="",S(t,n,(function(e,t){e.logger&&e.logger.queue||(e.logger=new ut({loggingLevelConsole:fe.CRITICAL})),e.initialize=function(n,r,i,a){he(e,(function(){return"AppInsightsCore.initialize"}),(function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var o=n.propertyStorageOverride;if(o&&(!o.getProperty||!o.setProperty))throw new Error("Invalid property storage override passed.");n.channels&&Q(n.channels,(function(t){t&&Q(t,(function(t){if(t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}}))}))}e.getWParam=function(){return"undefined"!=typeof document?0:-1},r&&Q(r,(function(t){if(t&&t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}})),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{t.initialize(n,r,i,a),e.pollInternalLogs("InternalLog")}catch(t){var s=e.logger,c=Xe(t);-1!==c.indexOf("channels")&&(c+="\n - Channels must be provided through config.channels only!"),s.throwInternal(fe.CRITICAL,Ae.FailedToInitializeSDK,"SDK Initialization Failed - no telemetry will be sent: "+c)}}),(function(){return{config:n,extensions:r,logger:i,notificationManager:a}}))},e.track=function(n){he(e,(function(){return"AppInsightsCore.track"}),(function(){var r=n;if(r){r.timings=r.timings||{},r.timings.trackStart=En(),mn(r.latency)||(r.latency=Te);var i=r.ext=r.ext||{};i.sdk=i.sdk||{},i.sdk.ver="1DS-Web-JS-3.1.10";var a=r.baseData=r.baseData||{};a.properties||(a.properties={});var o=a.properties;o.version||(o.version=""),""!==e.pluginVersionString&&(o.version=e.pluginVersionString)}t.track(r)}),(function(){return{item:n}}),!n.sync)}})),n}return Object(o.b)(t,e),t}(Ht),_n=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function Dn(e,t){void 0===t&&(t=_n);var n=null;if(e)for(var r=e.split(","),i=0;i<r.length;i++)On(r[i],t)&&(n?n+=","+r[i]:n=r[i]);return n}function On(e,t){if(void 0===t&&(t=_n),!e||e.length<4)return!1;for(var n=!1,r=e.substring(0,3).toString().toUpperCase(),i=0;i<t.length;i++)if(t[i]+":"===r&&e.length<=256){n=!0;break}return n}var Mn=function(){function e(e,t){this.core=t,this.appExpId=null,this.flightIdNameSpaces=_n.slice(0),this.expIdCookieName="Treatments",this._cookieMgr=xt(t),this._propertiesConfig=e;var n=Ue();if(n){var r=n.documentElement;n&&(this.locale=r.lang)}this.env=e.env?e.env:this._getMetaDataFromDOM("awa-").env}return e.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},e.prototype._getMetaDataFromDOM=function(e){var t,n={},r=Ue();if(r){t=r&&r.querySelectorAll("meta");for(var i=0;i<t.length;i++){var a=t[i];if(a.name)if(0===a.name.toLowerCase().indexOf(e))n[a.name.replace(e,"")]=a.content}}return n},e.prototype._setAppExpId=function(e){e!==this.appExpId&&(this.appExpId=Dn(e,this.flightIdNameSpaces))},e.prototype._getAppExpId=function(){return this.appExpId},e.prototype._readExpIdFromCookie=function(){var e=bn(this._cookieMgr,this.expIdCookieName);return this._setAppExpId(e),this._getAppExpId()},e.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},e.validateAppExpId=Dn,e._staticInit=void ne(e.prototype,"expId",e.prototype.getExpId),e}(),Rn=function(){},Ln=function(){function e(t,n,r){this.core=r,this._propertiesConfig=n;var i=this._cookieMgr=xt(r,t);if(i&&i.isEnabled()){if(!this._propertiesConfig.hashIdentifiers&&!this._propertiesConfig.dropIdentifiers){var a=bn(i,"MUID");a&&this.setLocalId("t:"+a)}if(this._propertiesConfig.enableApplicationInsightsUser){var o=bn(i,e.userCookieName);if(o){var s=o.split(e.cookieSeparator);s.length>0&&(this.id=s[0])}if(!this.id){this.id=an(t&&!N(t.idLength)?t.idLength:22);var c=K(new Date);this.accountAcquisitionDate=c;var u=[this.id,c],l=this._propertiesConfig.cookieDomain?this._propertiesConfig.cookieDomain:void 0;i.set(e.userCookieName,u.join(e.cookieSeparator),31536e3,l)}}}if("undefined"!=typeof navigator){var f=navigator;this.locale=f.userLanguage||f.language}}return e.prototype.getLocalId=function(){if(this._customLocalId)return this._customLocalId;if(!this._propertiesConfig.hashIdentifiers&&!this._propertiesConfig.dropIdentifiers){var e=bn(this._cookieMgr,"MUID");e&&this.setLocalId("t:"+e)}},e.prototype.setLocalId=function(e){this._customLocalId=e},e.cookieSeparator="|",e.userCookieName="ai_user",e._staticInit=void ne(e.prototype,"localId",e.prototype.getLocalId,e.prototype.setLocalId),e}(),Vn=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:"Edg/",b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],Un=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}];function Fn(e,t){return t.indexOf(e)>-1}function qn(e,t){for(var n=0;n<t.length;n++)if(e==t[n].brand)return t[n].version;return null}function Hn(e,t){return"MSIE"===t?function(e){var t=e.match(new RegExp("MSIE ([\\d,.]+)"));if(t)return t[1];var n=e.match(new RegExp("rv:([\\d,.]+)"));if(n)return n[1]}(e):function(e,t){"Safari"===e?e="Version":"Edge"===e&&Fn("Edg/",t)&&(e="Edg");var n=t.match(new RegExp(e+"/([\\d,.]+)"));if(n)return n[1];if("Opera"===e&&(n=t.match(new RegExp("OPR/([\\d,.]+)"))))return n[1];return"Unknown"}(t,e)}var jn=function(){function e(t,n){var r=xt(n),i=t||{};S(e,this,(function(e){var t=je();if(t){var n=t.hostname;n&&(e.domain="file:"===t.protocol?"local":n)}if(i.populateBrowserInfo){var a=i.userAgent,o=(i.userAgentData||{}).brands,s=qe();s&&(a=a||s.userAgent||"",o=o||(s.userAgentData||{}).brands),function(t,n){if(j(n))try{for(var r=0;r<Un.length;r++){var i=qn(Un[r].br,n);if(i)return e.browser=Un[r].b,void(e.browserVer=i)}}catch(e){}if(t){var a=function(e){if(e)for(var t=0;t<Vn.length;t++){if(Fn(Vn[t].ua,e))return Vn[t].b}return"Unknown"}(t);e.browser=a,e.browserVer=Hn(t,a)}}(a,o);var c=function(){var e={h:0,w:0},t=Ve();return t&&t.screen&&(e.h=screen.height,e.w=screen.width),e}();e.screenRes=c.w+"X"+c.h}e.getUserConsent=function(){return i.userConsented||!!bn(r,i.userConsentCookieName||"MSCC")},e.getUserConsentDetails=function(){try{var e=i.callback;if(e&&e.userConsentDetails){var t=e.userConsentDetails();if(t)return JSON.stringify({Required:t.Required||!1,Analytics:t.Analytics||!1,SocialMedia:t.SocialMedia||!1,Advertising:t.Advertising||!1})}}catch(e){}return null},ne(e,"userConsent",e.getUserConsent)}))}return e._staticInit=void ne(e.prototype,"userConsent",e.prototype.getUserConsent),e}(),Bn={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i},zn={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},Wn=[{r:Bn.WINPHONE,os:"Windows Phone"},{r:Bn.WINRT,os:"Windows RT"},{r:Bn.WIN,os:"Windows"},{r:Bn.IOS,os:"iOS"},{r:Bn.ANDROID,os:"Android"},{r:Bn.LINUX,os:"Linux"},{r:Bn.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:Bn.OSX,os:"Mac OS X"}];function Gn(e,t){return"Windows"===t?Kn(e,"Windows NT"):"Android"===t?Kn(e,t):"Mac OS X"===t?function(e){var t=e.match(new RegExp("Mac OS X ([\\d,_,.]+)"));if(t){var n=t[1].replace(/_/g,".");if(n){var r=Qn(n);return r?n.split(r)[0]:n}}return"Unknown"}(e):"iOS"===t?function(e){var t=e.match(new RegExp("OS ([\\d,_,.]+)"));if(t){var n=t[1].replace(/_/g,".");if(n){var r=Qn(n);return r?n.split(r)[0]:n}}return"Unknown"}(e):"Unknown"}function Kn(e,t){var n=e.match(new RegExp(t+" ([\\d,.]+)"));return n?zn[n[1]]?zn[n[1]]:n[1]:"Unknown"}function Qn(e){return e.indexOf(".")>-1?".":e.indexOf("_")>-1?"_":null}var Xn=function(e){if(e.populateOperatingSystemInfo){var t=qe()||{},n=e.userAgent||t.userAgent||"",r=e.userAgentData||t.userAgentData||{};if(n){var i=function(e){for(var t=0;t<Wn.length;t++){var n=Wn[t];if(n.r&&e.match(n.r))return n.os;if(n.s&&-1!==e.indexOf(n.s))return n.os}return"Unknown"}(n.toLowerCase());this.name=i,this.ver=Gn(n,i)}this.name&&"Unknown"!==this.name||!z(r.platform)||(this.name=r.platform)}},Jn=function(){function e(e,t){this.core=t,e.serviceName&&(this.serviceName=e.serviceName),this._cookieMgr=xt(t)}return e.prototype.getMsfpc=function(){return bn(this._cookieMgr,"MSFPC")},e.prototype.getAnid=function(){return bn(this._cookieMgr,"ANON").slice(0,34)},e._staticInit=(ne(e.prototype,"msfpc",e.prototype.getMsfpc),void ne(e.prototype,"anid",e.prototype.getAnid)),e}(),$n=function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags),e.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},Yn=function(){var e=(new Date).getTimezoneOffset(),t=e%60,n=(e-t)/60,r="+";n>0&&(r="-"),n=Math.abs(n),t=Math.abs(t),this.tz=r+(n<10?"0"+n:n.toString())+":"+(t<10?"0"+t:t.toString())},Zn=function(){},er=function(){function e(){}return e.prototype.setId=function(e){this.customId=e},e.prototype.getId=function(){return z(this.customId)?this.customId:this.automaticId},e._staticInit=void ne(e.prototype,"id",e.prototype.getId,e.prototype.setId),e}(),tr=function(e,t,n,r){if(e.enableApplicationInsightsTrace){this.traceId=t||on(),this.parentId=n,this.name=r;var i=je();i&&i.pathname&&(this.name=i.pathname)}},nr=re({id:"id",ver:"ver",appName:"name",locale:"locale",expId:"expId",env:"env"}),rr=re({domain:"domain",browser:"browser",browserVer:"browserVer",screenRes:"screenRes",userConsent:"userConsent",consentDetails:"consentDetails"}),ir=re({locale:"locale",localId:"localId",id:"id"}),ar=re({osName:"name",ver:"ver"}),or=re({ver:"ver",seq:"seq",installId:"installId",epoch:"epoch"}),sr=re({msfpc:"msfpc",anid:"anid",serviceName:"serviceName"}),cr=re({popSample:"popSample",eventFlags:"eventFlags"}),ur=re({tz:"tz"}),lr=re({sessionId:"sesId"}),fr=re({localId:"localId",deviceClass:"deviceClass",make:"make",model:"model"}),pr=re({role:"role",roleInstance:"roleInstance",roleVer:"roleVer"}),dr=re({traceId:"traceID",traceName:"name",parentId:"parentID"}),gr=re({UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SdkExt:"sdk",IntWebExt:"intweb",UtcExt:"utc",LocExt:"loc",CloudExt:"cloud"}),hr="MicrosoftApplicationsTelemetryDeviceId";var vr,mr,yr=function(){function e(e,t){this._sequenceId=0;var n=e.propertyStorageOverride;this.seq=this._sequenceId,this.epoch=Qt(!1).toString();var r=xt(t,e);if(r.isEnabled()||n){var i=function(e,t,n){return t?t.getProperty(n)||"":bn(e,n)}(r,n,hr);i||(i=nn()),function(e,t,n,r){t?t.setProperty(n,r):e.set(n,r,31536e3)}(r,n,hr,i),this.installId=i}else r.purge(hr)}return e.prototype.getSequenceId=function(){return++this._sequenceId},e}();function Cr(){return void 0===vr&&(vr=!!br(mr.LocalStorage)),vr}function Tr(){return Cr()?br(mr.LocalStorage):null}function br(e){var t,n,r=null;try{var i=Object(x.a)();if(!i)return null;n=new Date,(r=e===mr.LocalStorage?i.localStorage:i.sessionStorage)&&R(r.setItem)&&(r.setItem(n,n),t=r.getItem(n)!==n,r.removeItem(n),t&&(r=null))}catch(e){r=null}return r}!function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"}(mr||(mr={}));var Ir=function(){function e(t,n){var r,i,a=ct(t),o=xt(t);S(e,this,(function(t){var s,c={sessionRenewalMs:(s=n).sessionRenewalMs&&function(){return s.sessionRenewalMs},sessionExpirationMs:s.sessionExpirationMs&&function(){return s.sessionExpirationMs},cookieDomain:s.cookieDomain&&function(){return s.cookieDomain},namePrefix:s.namePrefix&&function(){return s.namePrefix},sessionAsGuid:function(){return s.sessionAsGuid},idLength:function(){return s.idLength?s.idLength:22}};function u(e){var n=t.automaticSession,r=e.split("|");r.length>0&&n.setId(r[0]);try{if(r.length>1){var i=+r[1];n.acquisitionDate=+new Date(i),n.acquisitionDate=n.acquisitionDate>0?n.acquisitionDate:0}if(r.length>2){var o=+r[2];n.renewalDate=+new Date(o),n.renewalDate=n.renewalDate>0?n.renewalDate:0}}catch(e){a.throwInternal(fe.CRITICAL,Ae.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+e)}0===n.renewalDate&&a.throwInternal(fe.WARNING,Ae.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function l(){var e=t.automaticSession,n=(new Date).getTime(),r=t.config.sessionAsGuid();!N(r)&&r?G(r)?e.setId(In()):e.setId(In(r)):e.setId(an(c&&c.idLength?c.idLength():22)),e.acquisitionDate=n,e.renewalDate=n,f(e.getId(),e.acquisitionDate,e.renewalDate),Cr()||a.throwInternal(fe.WARNING,Ae.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function f(e,n,a){var s=n+t.config.sessionExpirationMs(),c=a+t.config.sessionRenewalMs(),u=new Date,l=[e,n,a];s<c?u.setTime(s):u.setTime(c);var f=t.config.cookieDomain?t.config.cookieDomain():null;o.set(i(),l.join("|")+";expires="+u.toUTCString(),null,f),r=(new Date).getTime()}R(n.sessionExpirationMs)||(c.sessionExpirationMs=function(){return e.acquisitionSpan}),R(n.sessionRenewalMs)||(c.sessionRenewalMs=function(){return e.renewalSpan}),t.config=c,i=function(){return t.config.namePrefix&&t.config.namePrefix()?e.cookieNameConst+t.config.namePrefix():e.cookieNameConst},t.automaticSession=new er,t.update=function(){t.automaticSession.getId()||function(){var e=Tn(i());if(e&&R(e.split))u(e);else{var n=function(e,t){var n=Tr();if(null!==n)try{return n.getItem(t)}catch(t){vr=!1,e.throwInternal(fe.CRITICAL,Ae.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+t)}return null}(a,i());n&&u(n)}t.automaticSession.getId()||l()}();var n=t.automaticSession,o=t.config,s=(new Date).getTime(),c=s-n.acquisitionDate>o.sessionExpirationMs(),p=s-n.renewalDate>o.sessionRenewalMs();if(c||p)l();else{(!r||s-r>e.cookieUpdateInterval)&&(n.renewalDate=s,f(n.getId(),n.acquisitionDate,n.renewalDate))}},t.backup=function(){var e,n,r,o=t.automaticSession;e=o.getId(),n=o.acquisitionDate,r=o.renewalDate,function(e,t,n){var r=Tr();if(null!==r)try{r.setItem(t,n)}catch(t){vr=!1,e.throwInternal(fe.CRITICAL,Ae.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+t)}}(a,i(),[e,n,r].join("|"))}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e.cookieNameConst="ai_session",e}(),Sr=z,Er=function(){function e(e,t,n){this.app=new Mn(t,n),this.cloud=new Rn,this.user=new Ln(e,t,n),this.os=new Xn(t),this.web=new jn(t,n),this.sdk=new yr(e,n),this.intWeb=new Jn(t,n),this.utc=new $n(t),this.loc=new Yn,this.device=new Zn,this.telemetryTrace=new tr(t),this.sessionManager=new Ir(n,t),this.session=new er}return e.prototype.getSessionId=function(){var e=this.session;if(e&&Sr(e.customId))return e.customId;var t=this.sessionManager;t.update();var n=t.automaticSession;if(n){var r=n.getId();r&&Sr(r)&&(e.automaticId=r)}return e.automaticId},e.prototype.applyApplicationContext=function(e){var t=this.app,n=e.ext[gr.AppExt];oe(n,nr.id,t.id,Sr),oe(n,nr.ver,t.ver,Sr),oe(n,nr.appName,t.name,Sr),oe(n,nr.locale,t.locale,Sr),oe(n,nr.expId,t.getExpId(),Sr),oe(n,nr.env,t.env,Sr)},e.prototype.applyUserContext=function(e){var t=this.user,n=e.ext[gr.UserExt];oe(n,ir.localId,t.getLocalId(),Sr),oe(n,ir.locale,t.locale,Sr),oe(n,ir.id,t.id,Sr)},e.prototype.applyWebContext=function(e){var t=this.web,n=e.ext[gr.WebExt];oe(n,rr.domain,t.domain,Sr),oe(n,rr.browser,t.browser,Sr),oe(n,rr.browserVer,t.browserVer,Sr),oe(n,rr.screenRes,t.screenRes,Sr),n[rr.userConsent]=t.getUserConsent(),n[rr.consentDetails]=t.getUserConsentDetails()},e.prototype.applyOsContext=function(e){var t=this.os,n=e.ext[gr.OSExt];oe(n,ar.osName,t.name,Sr),oe(n,ar.ver,t.ver,Sr)},e.prototype.applySdkContext=function(e){var t=this.sdk,n=e.ext[gr.SdkExt];n[or.seq]=t.getSequenceId(),n[or.epoch]=t.epoch,oe(n,or.installId,t.installId,Sr)},e.prototype.applyIntWebContext=function(e){var t=this.intWeb,n=e.ext[gr.IntWebExt];oe(n,sr.msfpc,t.getMsfpc(),Sr),oe(n,sr.anid,t.getAnid(),Sr),oe(n,sr.serviceName,t.serviceName,Sr)},e.prototype.applyUtcContext=function(e){var t=this.utc,n=e.ext[gr.UtcExt];n[cr.popSample]=t.popSample,t.eventFlags>0&&(n[cr.eventFlags]=t.eventFlags)},e.prototype.applyLocContext=function(e){e.ext[gr.LocExt][ur.tz]=this.loc.tz},e.prototype.applySessionContext=function(e){e.ext[gr.AppExt][lr.sessionId]=this.getSessionId()},e.prototype.applyDeviceContext=function(e){var t=this.device,n=e.ext[gr.DeviceExt];oe(n,fr.localId,t.localId,Sr),oe(n,fr.make,t.make,Sr),oe(n,fr.model,t.model,Sr),oe(n,fr.deviceClass,t.deviceClass,Sr)},e.prototype.applyCloudContext=function(e){var t=this.cloud,n=e.ext[gr.CloudExt];oe(n,pr.role,t.role,Sr),oe(n,pr.roleInstance,t.roleInstance,Sr),oe(n,pr.roleVer,t.roleVer,Sr)},e.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace,n=e.ext[gr.TraceExt];oe(n,dr.traceId,t.traceId,Sr),oe(n,dr.traceName,t.name,Sr),oe(n,dr.parentId,t.parentId,Sr)},e}(),xr=function(e){function t(){var n,r=e.call(this)||this;r.identifier="SystemPropertiesCollector",r.priority=3,r.version="3.1.10";var i={};return S(t,r,(function(t,a){t.initialize=function(i,a,o){e.prototype.initialize.call(r,i,a,o),n=new Er(i,t._getTelCtx().getExtCfg(t.identifier),a)},t.processTelemetry=function(e,r){kn(e,t.identifier),r=t._getTelCtx(r);var a,o,s=e.ext=e.ext?e.ext:{};e.data=e.data?e.data:{},s[gr.AppExt]=s[gr.AppExt]||{},s[gr.UserExt]=s[gr.UserExt]||{},s[gr.WebExt]=s[gr.WebExt]||{},s[gr.OSExt]=s[gr.OSExt]||{},s[gr.SdkExt]=s[gr.SdkExt]||{},s[gr.IntWebExt]=s[gr.IntWebExt]||{},s[gr.UtcExt]=s[gr.UtcExt]||{},s[gr.LocExt]=s[gr.LocExt]||{},s[gr.DeviceExt]=s[gr.DeviceExt]||{},s[gr.TraceExt]=s[gr.TraceExt]||{},s[gr.CloudExt]=s[gr.CloudExt]||{},n.applyApplicationContext(e),n.applyUserContext(e),n.applyWebContext(e),n.applyOsContext(e),n.applySdkContext(e),n.applyIntWebContext(e),n.applyUtcContext(e),n.applyLocContext(e),n.applySessionContext(e),n.applyDeviceContext(e),n.applyAITraceContext(e),n.applyCloudContext(e),Q(te(s),(function(e){0===te(s[e]).length&&delete s[e]})),a=i,o=e.data,a&&V(a,(function(e,t){o[e]||(o[e]=t)})),t.processNext(e,r)},t.getPropertiesContext=function(){return n},t.setProperty=function(e,t){i[e]=t}})),r}return Object(o.b)(t,e),t}(dt);function wr(e){var t=(e.ext||{}).intweb;return t&&hn(t.msfpc)?t.msfpc:null}function kr(e){for(var t=null,n=0;null===t&&n<e.length;n++)t=wr(e[n]);return t}var Ar=function(){function e(t,n){var r=n?[].concat(n):[],i=kr(r);this.iKey=function(){return t},this.Msfpc=function(){return i||""},this.count=function(){return r.length},this.events=function(){return r},this.addEvent=function(e){return!!e&&(r.push(e),i||(i=wr(e)),!0)},this.split=function(n,a){var o;if(n<r.length){var s=r.length-n;_(a)||(s=a<s?a:s),o=r.splice(n,s),i=kr(r)}return new e(t,o)}}return e.create=function(t,n){return new e(t,n)},e}(),Pr=Math.min(2e6,65e3),Nr=/\./,_r=function e(t,n,r,i){var a=!!i,o=n,s={};S(e,this,(function(e){function n(e,t,i,c,u,l,f){V(e,(function(e,p){var d=null;if(p||hn(p)){var g=i,h=e,v=u,m=t;if(a&&!c&&Nr.test(e)){var y=e.split("."),C=y.length;if(C>1){v&&(v=v.slice());for(var T=0;T<C-1;T++){var b=y[T];m=m[b]=m[b]||{},g+="."+b,v&&v.push(b)}h=y[C-1]}}if(d=c&&function(e,t){var n=s[e];return void 0===n&&(e.length>=7&&(n=F(e,"ext.metadata")||F(e,"ext.web")),s[e]=n),n}(g)||!o||!o.handleField(g,h)?yn(h,p,r):o.value(g,h,p,r)){var I=d.value;if(m[h]=I,l&&l(v,h,d),f&&"object"==typeof I&&!j(I)){var S=v;S&&(S=S.slice()).push(h),n(p,I,g+"."+h,c,S,l,f)}}}}))}e.createPayload=function(e,t,n,r,i,a){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:r,sendType:a,sendReason:i}},e.appendPayload=function(n,r,i){var a=n&&r&&!n.overflow;return a&&he(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=r.events(),a=n.payloadBlob,o=n.numEvents,s=!1,c=[],u=[],l=n.isBeacon,f=l?65e3:3984588,p=l?Pr:2e6,d=0,g=0;d<t.length;){var h=t[d];if(h){if(o>=i){n.overflow=r.split(d);break}var v=e.getEventBlob(h);if(v&&v.length<=p){var m=v.length;if(a.length+m>f){n.overflow=r.split(d);break}a&&(a+="\n"),a+=v,++g>20&&(a.substr(0,1),g=0),s=!0,o++}else v?c.push(h):u.push(h),t.splice(d,1),d--}d++}if(c&&c.length>0&&n.sizeExceed.push(Ar.create(r.iKey(),c)),u&&u.length>0&&n.failedEvts.push(Ar.create(r.iKey(),u)),s){n.batches.push(r),n.payloadBlob=a,n.numEvents=o;var y=r.iKey();-1===X(n.apiKeys,y)&&n.apiKeys.push(y)}}),(function(){return{payload:n,theBatch:{iKey:r.iKey(),evts:r.events()},max:i}})),a},e.getEventBlob=function(e){try{return he(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+vn(e.iKey);var r={},i=e.ext;i&&(t.ext=r,V(i,(function(e,t){n(t,r[e]={},"ext."+e,!0,null,null,!0)})));var a=t.data={};a.baseType=e.baseType;var o=a.baseData={};return n(e.baseData,o,"baseData",!1,["baseData"],(function(e,t,n){Dr(r,e,t,n)}),!0),n(e.data,a,"data",!1,[],(function(e,t,n){Dr(r,e,t,n)}),!0),JSON.stringify(t)}),(function(){return{item:e}}))}catch(e){return null}}}))};function Dr(e,t,n,r){if(r&&e){var i=Cn(r.value,r.kind,r.propertyType);if(i>-1){var a=e.metadata;a||(a=e.metadata={f:{}});var o=a.f;if(o||(o=a.f={}),t)for(var s=0;s<t.length;s++){var c=t[s];o[c]||(o[c]={f:{}});var u=o[c].f;u||(u=o[c].f={}),o=u}o=o[n]={},j(r.value)?o.a={t:i}:o.t=i}}}var Or,Mr,Rr,Lr=function(){function e(){}return e.shouldRetryForStatus=function(e){return!(e>=300&&e<500&&408!=e&&429!=e||501==e||505==e)},e.getMillisToBackoffForRetry=function(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*n,Math.min(t,6e5)},e}(),Vr=function e(){var t={};S(e,this,(function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{var r=(o=e.split(","),s=[],o&&Q(o,(function(e){s.push(Y(e))})),s);if("this-request-only"===n)return r;for(var i=1e3*parseInt(n,10),a=0;a<r.length;++a)t[r[a]]=ie()+i}catch(e){return[]}var o,s;return[]},e.isTenantKilled=function(e){var n=t,r=Y(e);return void 0!==n[r]&&n[r]>ie()||(delete n[r],!1)}}))},Ur=function e(){var t=!0,n=!0,r=!0,i="use-collector-delta",a=!1;S(e,this,(function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){r&&(r=!1,a||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return i},e.setClockSkew=function(e){a||(e?(i=e,n=!0,a=!0):n=!1,t=!0)}}))},Fr=((Or={})[1]="requeue",Or[100]="requeue",Or[200]="sent",Or[8004]="drop",Or[8003]="drop",Or),qr={},Hr={};function jr(e){try{return e.responseText}catch(e){}return""}function Br(e,t){var n=!1;if(e&&t){var r=te(e);if(r&&r.length>0)for(var i=t.toLowerCase(),a=0;a<r.length;a++){var o=r[a];if(o&&O(t,o)&&o.toLowerCase()===i){n=!0;break}}}return n}function zr(e,t,n,r){t&&n&&n.length>0&&(r&&qr[t]?(e.hdrs[qr[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}Rr="AuthMsaDeviceTicket",qr[Mr="AuthMsaDeviceTicket"]=Rr,Hr[Rr]=Mr;var Wr=function e(t,n,r,i){this._responseHandlers=[];var a,o,s,c,u="?cors=true&"+"content-type".toLowerCase()+"=application/x-json-stream",l=new Vr,f=!1,p=new Ur,d=!1,g=0,h=!0,v=[],m={},y=[],C=null,T=!1,b=!1,I=!1;S(e,this,(function(e){var S=!0;function x(e,t){for(var n=0,r=null,i=0;null==r&&i<e.length;)1===(n=e[i])?Ye()?r=w:Ze()&&(r=A):2===n&&$e(t)?r=k:d&&3===n&&Je()&&(r=D),i++;return r?{_transport:n,_isSync:t,sendPOST:r}:null}function w(e,t,n){var r=new XDomainRequest;r.open("POST",e.urlString),r.onload=function(){var e=jr(r);P(t,200,{},e),X(e)},r.onerror=function(){P(t,400,{})},r.ontimeout=function(){P(t,500,{})},r.onprogress=function(){},n?r.send(e.data):a._setTimeoutOverride((function(){r.send(e.data)}),0)}function k(e,t,n){var r,i=!1,a=!1,o=((r={body:e.data,method:"POST"}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,r);n&&(o.keepalive=!0,2===e._sendReason&&(i=!0)),S&&(o.credentials="include"),e.headers&&te(e.headers).length>0&&(o.headers=e.headers),fetch(e.urlString,o).then((function(e){var n={},r="";e.headers&&e.headers.forEach((function(e,t){n[t]=e})),e.body&&e.text().then((function(e){r=e})),a||(a=!0,P(t,e.status,n,r),X(r))})).catch((function(e){a||(a=!0,P(t,0,{}))})),i&&!a&&(a=!0,P(t,200,{}))}function A(e,t,n){function r(e,t,n){if(!e[n]&&t&&t.getResponseHeader){var r=t.getResponseHeader(n);r&&(e[n]=Y(r))}return e}function i(e){var t,n,i={};return e.getAllResponseHeaders?(t=e.getAllResponseHeaders(),n={},z(t)&&Q(Y(t).split(/[\r\n]+/),(function(e){if(e){var t=e.indexOf(": ");if(-1!==t){var r=Y(e.substring(0,t)).toLowerCase(),i=Y(e.substring(t+1));n[r]=i}else n[Y(e)]=1}})),i=n):(i=r(i,e,"time-delta-millis"),i=r(i,e,"kill-duration"),i=r(i,e,"kill-duration-seconds")),i}function a(e,n){P(t,e.status,i(e),n)}var o=Pn("POST",e.urlString,S,!0,n);V(e.headers,(function(e,t){o.setRequestHeader(e,t)})),o.onload=function(){var e=jr(o);a(o,e),X(e)},o.onerror=function(){a(o)},o.ontimeout=function(){a(o)},o.send(e.data)}function P(e,t,n,r){try{e(t,n,r)}catch(e){a.diagLog().throwInternal(fe.WARNING,Ae.SendPostOnCompleteFailure,Xe(e))}}function D(e,t,n){var r=200,i=e._thePayload;try{var o=qe();if(!o.sendBeacon(e.urlString,e.data))if(i){var s=[];Q(i.batches,(function(t){if(s&&t&&t.count()>0){for(var n=t.events(),r=0;r<n.length;r++)if(!o.sendBeacon(e.urlString,C.getEventBlob(n[r]))){s.push(t.split(r));break}}else s.push(t.split(0))})),J(s,8003,i.sendType,!0)}else r=0}catch(e){a.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+e),r=0}finally{P(t,r,{},"")}}function O(e){return 2===e||3===e}function M(e){return b&&O(e)&&(e=2),e}function R(){return!f&&g<n}function L(){var e=y;return y=[],e}function U(e,t,n){var r=!1;return e&&e.length>0&&!f&&o[t]&&C&&(r=0!==t||R()&&(n>0||p.allowRequestSending())),r}function F(e){var t={};return e&&Q(e,(function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}})),t}function q(e,n,r,i,c){if(e&&0!==e.length)if(f)J(e,1,i);else{i=M(i);try{var u=e,p=0!==i;he(s,(function(){return"HttpManager:_sendBatches"}),(function(a){a&&(e=e.slice(0));for(var s=[],u=null,f=En(),g=o[i]||(p?o[1]:o[0]),v=(b||O(i)||g&&3===g._transport)&&!h&&d&&Je();U(e,i,n);){var m=e.shift();m&&m.count()>0&&(l.isTenantKilled(m.iKey())?s.push(m):(u=u||C.createPayload(n,r,p,v,c,i),C.appendPayload(u,m,t)?null!==u.overflow&&(e=[u.overflow].concat(e),u.overflow=null,G(u,f,En(),c),f=En(),u=null):(G(u,f,En(),c),f=En(),e=[m].concat(e),u=null)))}u&&G(u,f,En(),c),e.length>0&&(y=e.concat(y)),J(s,8004,i)}),(function(){return{batches:F(u),retryCount:n,isTeardown:r,isSynchronous:p,sendReason:c,useSendBeacon:O(i),sendType:i}}),!p)}catch(e){a.diagLog().throwInternal(fe.WARNING,Ae.CannotSerializeObject,"Unexpected Exception sending batch: "+Xe(e))}}}function H(e,t){var n={url:u,hdrs:{},useHdrs:!1};n.hdrs=Sn(n.hdrs,m),n.useHdrs=te(n.hdrs).length>0,zr(n,"client-id","NO_AUTH",t),zr(n,"client-version","1DS-Web-JS-3.1.10",t);var r="";Q(e.apiKeys,(function(e){r.length>0&&(r+=","),r+=e})),zr(n,"apikey",r,t),zr(n,"upload-time",ie().toString(),t);var i=function(e){for(var t=0;t<e.batches.length;t++){var n=e.batches[t].Msfpc();if(n)return encodeURIComponent(n)}return""}(e);if(hn(i)&&(n.url+="&ext.intweb.msfpc="+i),p.shouldAddClockSkewHeaders()&&zr(n,"time-delta-to-apply-millis",p.getClockSkewHeaderValue(),t),s.getWParam){var a=s.getWParam();a>=0&&(n.url+="&w="+a)}for(var o=0;o<v.length;o++)n.url+="&"+v[o].name+"="+v[o].value;return n}function B(e,t,n){e[t]=e[t]||{},e[t][a.identifier]=n}function G(t,n,i,c){if(t&&t.payloadBlob&&t.payloadBlob.length>0){var u=!!e.sendHook,f=o[t.sendType];!O(t.sendType)&&t.isBeacon&&2===t.sendReason&&(f=o[2]||o[3]||f);var d=I;(t.isBeacon||3===f._transport)&&(d=!1);var v=H(t,d);d=d||v.useHdrs;var m=En();he(s,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var o=0;o<t.batches.length;o++)for(var y=t.batches[o].events(),C=0;C<y.length;C++){var I=y[C];if(T){var S=I.timings=I.timings||{};B(S,"sendEventStart",m),B(S,"serializationStart",n),B(S,"serializationCompleted",i)}I.sendAttempt>0?I.sendAttempt++:I.sendAttempt=1}J(t.batches,1e3+(c||0),t.sendType,!0);var x={data:t.payloadBlob,urlString:v.url,headers:v.hdrs,_thePayload:t,_sendReason:c};d&&(Br(x.headers,"cache-control")||(x.headers["cache-control"]="no-cache, no-store"),Br(x.headers,"content-type")||(x.headers["content-type"]="application/x-json-stream"));var w=null;f&&(w=function(n){p.firstRequestSent();var i=function(n,i){!function(t,n,i,o){var s=9e3,c=null,u=!1,f=!1;try{var d=!0;if(typeof t!==E.l){if(n){p.setClockSkew(n["time-delta-millis"]);var h=n["kill-duration"]||n["kill-duration-seconds"];Q(l.setKillSwitchTenants(n["kill-tokens"],h),(function(e){Q(i.batches,(function(t){if(t.iKey()===e){c=c||[];var n=t.split(0);i.numEvents-=n.count(),c.push(n)}}))}))}if(200==t)return void(s=200);(!Lr.shouldRetryForStatus(t)||i.numEvents<=0)&&(d=!1),s=9e3+t%1e3}if(d){s=100;var v=i.retryCnt;0===i.sendType&&(v<r?(u=!0,K((function(){0===i.sendType&&g--,q(i.batches,v+1,i.isTeardown,b?2:i.sendType,5)}),b,Lr.getMillisToBackoffForRetry(v))):f=!0)}}finally{u||(p.setClockSkew(),function(t,n,r,i){try{i&&a._backOffTransmission(),200===n&&(i||t.isSync||a._clearBackOff(),function(e){if(T){var t=En();Q(e,(function(e){var n,r;e&&e.count()>0&&(n=e.events(),r=t,T&&Q(n,(function(e){B(e.timings=e.timings||{},"sendEventCompleted",r)})))}))}}(t.batches)),J(t.batches,n,t.sendType,!0)}finally{0===t.sendType&&(g--,5!==r&&e.sendQueuedRequests(t.sendType,r))}}(i,s,o,f)),J(c,8004,i.sendType)}}(n,i,t,c)},o=t.isTeardown||t.isSync;try{f.sendPOST(n,i,o),e.sendListener&&e.sendListener(x,n,o,t.isBeacon)}catch(e){a.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+Xe(e)),P(i,0,{})}}),he(s,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(w)if(0===t.sendType&&g++,u&&!t.isBeacon&&3!==f._transport){var n={data:x.data,urlString:x.urlString,headers:Sn({},x.headers)},r=!1;he(s,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{e.sendHook(n,(function(e){r=!0,h||e._thePayload||(e._thePayload=e._thePayload||x._thePayload,e._sendReason=e._sendReason||x._sendReason),w(e)}),t.isSync||t.isTeardown)}catch(e){r||w(x)}}))}else w(x)}))}),(function(){return{thePayload:t,serializationStart:n,serializationCompleted:i,sendReason:c}}),t.isSync)}t.sizeExceed&&t.sizeExceed.length>0&&J(t.sizeExceed,8003,t.sendType),t.failedEvts&&t.failedEvts.length>0&&J(t.failedEvts,8002,t.sendType)}function K(e,t,n){t?e():a._setTimeoutOverride(e,n)}function X(t){var n=e._responseHandlers;try{for(var r=0;r<n.length;r++)try{n[r](t)}catch(e){a.diagLog().throwInternal(fe.CRITICAL,Ae.PostResponseHandler,"Response handler failed: "+e)}if(t){var i=JSON.parse(t);hn(i.webResult)&&hn(i.webResult.msfpc)&&c.set("MSFPC",i.webResult.msfpc,31536e3)}}catch(e){}}function J(e,t,n,r){if(e&&e.length>0&&i){var o=i[(u=t,l=Fr[u],hn(l)||(l="oth",u>=9e3&&u<=9999?l="rspFail":u>=8e3&&u<=8999?l="drop":u>=1e3&&u<=1999&&(l="send")),l)];if(o){var c=0!==n;he(s,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){K((function(){try{o.call(i,e,t,c,n)}catch(e){a.diagLog().throwInternal(fe.CRITICAL,Ae.NotificationException,"send request notification failed: "+e)}}),r||c,0)}),(function(){return{batches:F(e),reason:t,isSync:c,sendSync:r,sendType:n}}),!c)}}var u,l}e.initialize=function(e,t,n,r,i){var l;i||(i={}),u=e+u,I=!N(i.avoidOptions)&&!i.avoidOptions,s=t,c=t.getCookieMgr(),T=!s.config.disableEventTimings;var f=!!s.config.enableCompoundKey;a=n;var p=i.valueSanitizer,g=i.stringifyObjects;N(i.enableCompoundKey)||(f=!!i.enableCompoundKey),d=!Ge(),C=new _r(s,p,g,f);var v=r;if(!r){h=!1;var m=je();m&&m.protocol&&"file:"===m.protocol.toLowerCase()&&(S=!1);var y=[];y=Ge()?[2,1]:[1,2,3];var b=i.transports;b&&(W(b)?y=[b].concat(y):j(b)&&(y=b.concat(y))),r=x(y,!1),v=x(y,!0),r||a.diagLog().warnToConsole("No available transport to send events")}(l={})[0]=r,l[1]=v||x([1,2,3],!0),l[2]=x([3,2,1],!0)||v,l[3]=x([2,3,1],!0)||v,o=l},e._getDbgPlgTargets=function(){return[o[0],l,C,o]},e.addQueryStringParameter=function(e,t){for(var n=0;n<v.length;n++)if(v[n].name===e)return void(v[n].value=t);v.push({name:e,value:t})},e.addHeader=function(e,t){m[e]=t},e.canSendRequest=function(){return R()&&p.allowRequestSending()},e.sendQueuedRequests=function(e,t){N(e)&&(e=0),b&&(e=M(e),t=2),U(y,e,0)&&q(L(),0,!1,e,t||0)},e.isCompletelyIdle=function(){return!f&&0===g&&0===y.length},e.setUnloading=function(e){b=e},e.addBatch=function(e){if(e&&e.count()>0){if(l.isTenantKilled(e.iKey()))return!1;y.push(e)}return!0},e.teardown=function(){y.length>0&&q(L(),0,!0,2,2)},e.pause=function(){f=!0},e.resume=function(){f=!1,e.sendQueuedRequests(0,4)},e.sendSynchronousBatch=function(e,t,n){e&&e.count()>0&&(_(t)&&(t=1),b&&(t=M(t),n=2),q([e],0,!1,t,n||0))}}))},Gr=gn?window:void 0,Kr=function(e){function t(){var n,r=e.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="3.1.10";var i,a,o,s,c,u=!1,l=[],f=null,p=!1,d=0,g=500,h=0,v=1e4,m={},y="REAL_TIME",C=null,T=null,b=0,I=0,E={},x=-1,w=!0,k=!1;return S(t,r,(function(e,t){function r(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=Te),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,w&&(e.ext=le(e.ext),e.baseData&&(e.baseData=le(e.baseData)),e.data&&(e.data=le(e.data))),e.sync)if(b||p)e.latency=Ie,e.sync=!1;else if(a)return w&&(e=le(e)),void a.sendSynchronousBatch(Ar.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var n=e.latency,r=h,i=v;n===Se&&(r=d,i=g);var o=!1;if(r<i)o=!R(e,t);else{var s=Te,c=20;n===Se&&(s=Se,c=1),o=!0,function(e,t,n,r){for(;n<=t;){var i=O(e,t,!0);if(i&&i.count()>0){var a=i.split(0,r),o=a.count();if(o>0)return n===Se?d-=o:h-=o,j("eventsDiscarded",[a],Ft),!0}n++}return L(),!1}(e.iKey,e.latency,s,c)&&(o=!R(e,t))}o&&H("eventsDiscarded",[e],Ft)}function S(e,t,n){var r=U(e,t,n);return a.sendQueuedRequests(t,n),r}function A(){return h>0}function P(){if(x>=0&&U(x,0,c)&&a.sendQueuedRequests(0,c),d>0&&!T&&!p){var e=m[y][2];e>=0&&(T=N((function(){T=null,S(Se,0,1),P()}),e))}var t=m[y][1];!C&&!f&&t>=0&&!p&&(A()?C=N((function(){C=null,S(0===I?Ie:Te,0,1),I++,I%=2,P()}),t):I=0)}function N(t,n){0===n&&b&&(n=1);var r=1e3;return b&&(r=Lr.getMillisToBackoffForRetry(b-1)),e._setTimeoutOverride(t,n*r)}function _(){null!==C&&(e._clearTimeoutOverride(C),C=null,I=0)}function D(t,n){_(),f&&(e._clearTimeoutOverride(f),f=null),p||S(Te,t,n)}function O(e,t,n){var r=E[t];r||(r=E[t=Te]);var i=r.iKeyMap[e];return!i&&n&&(i=Ar.create(e),r.batches.push(i),r.iKeyMap[e]=i),i}function M(t,n){a.canSendRequest()&&!b&&(o>0&&h>o&&(n=!0),n&&null==f&&e.flush(t,null,20))}function R(e,t){w&&(e=le(e));var n=e.latency,r=O(e.iKey,n,!0);return!!r.addEvent(e)&&(n!==Se?(h++,t&&0===e.sendAttempt&&M(!e.sync,s>0&&r.count()>=s)):d++,!0)}function L(){for(var e=0,t=0,n=function(n){var r=E[n];r&&r.batches&&Q(r.batches,(function(r){n===Se?e+=r.count():t+=r.count()}))},r=Te;r<=Se;r++)n(r);h=t,d=e}function U(t,n,r){var i=!1,o=0===n;return!o||a.canSendRequest()?he(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],n=Se;n>=t;){var r=E[n];r&&r.batches&&r.batches.length>0&&(Q(r.batches,(function(t){a.addBatch(t)?i=i||t&&t.count()>0:e=e.concat(t.events()),n===Se?d-=t.count():h-=t.count()})),r.batches=[],r.iKeyMap={}),n--}e.length>0&&H("eventsDiscarded",e,Ut),i&&x>=t&&(x=-1,c=0)}),(function(){return{latency:t,sendType:n,sendReason:r}}),!o):(x=x>=0?Math.min(x,t):t,c=Math.max(c,r)),i}function F(){(m={}).REAL_TIME=[2,1,0],m.NEAR_REAL_TIME=[6,3,0],m.BEST_EFFORT=[18,9,0]}function q(t,n){var r=e._notificationManager||{},i=r[t];if(i)try{i.apply(r,n)}catch(n){e.diagLog().throwInternal(fe.CRITICAL,Ae.NotificationException,t+" notification failed: "+n)}}function H(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&q(e,[t].concat(n))}function j(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&Q(t,(function(t){t&&t.count()>0&&q(e,[t.events()].concat(n))}))}function B(){s=n&&n.disableAutoBatchFlushLimit?0:Math.max(1500,v/6)}F(),E[Se]={batches:[],iKeyMap:{}},E[Ie]={batches:[],iKeyMap:{}},E[be]={batches:[],iKeyMap:{}},E[Te]={batches:[],iKeyMap:{}},B(),a=new Wr(500,2,1,{requeue:function(t,n){var i=[];Q(t,(function(t){t&&t.count()>0&&Q(t.events(),(function(t){t&&(t.sync&&(t.latency=Se,t.sync=!1),t.sendAttempt<6?(kn(t,e.identifier),r(t,!1)):i.push(t))}))})),i.length>0&&H("eventsDiscarded",i,Lt);k&&D(2,2)},send:function(e,t,n){e&&e.length>0&&q("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==n])},sent:function(e,t){j("eventsSent",e,t),P()},drop:function(e,t){j("eventsDiscarded",e,t>=8e3&&t<=8999?t-8e3:Rt)},rspFail:function(e){j("eventsDiscarded",e,Lt),P()},oth:function(e,t){j("eventsDiscarded",e,Rt),P()}}),e._getDbgPlgTargets=function(){return[a]},e.initialize=function(r,s,c){he(s,(function(){return"PostChannel:initialize"}),(function(){var u=s;t.initialize(r,s,c),e.setInitialized(!1);var l=e._getTelCtx();r.extensionConfig[e.identifier]=r.extensionConfig[e.identifier]||{},n=l.getExtCfg(e.identifier),e._setTimeoutOverride=n.setTimeoutOverride?n.setTimeoutOverride:setTimeout.bind(Gr),e._clearTimeoutOverride=n.clearTimeoutOverride?n.clearTimeoutOverride:clearTimeout.bind(Gr),w=!n.disableOptimizeObj&&!!Re("chrome");var f=u.getWParam;u.getWParam=function(){var e=0;return n.ignoreMc1Ms0CookieProcessing&&(e|=2),e|f()},n.eventsLimitInMem>0&&(v=n.eventsLimitInMem),n.immediateEventLimit>0&&(g=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(o=n.autoFlushEventsLimit),B(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(i=n.httpXHROverride),hn(r.anonCookieName)&&a.addQueryStringParameter("anoncknm",r.anonCookieName),a.sendHook=n.payloadPreprocessor,a.sendListener=n.payloadListener;var p=n.overrideEndpointUrl?n.overrideEndpointUrl:r.endpointUrl;function d(e){"beforeunload"!==(e||Ve().event).type&&(k=!0,a.setUnloading(k)),D(2,2)}e._notificationManager=r.extensionConfig.NotificationManager,a.initialize(p,e.core,e,i,n);var h=r.disablePageUnloadEvents||[];en(d,h),tn(d,h),function e(t,n){var r=!1;return n&&-1!==X(n,"pageshow")||(r=Zt("pageshow",t)),n&&-1!==X(n,"visibilitychange")||(r=Zt("visibilitychange",(function(e){var n=Ue();t&&n&&"visible"===n.visibilityState&&t(e)}))||r),!r&&n&&(r=e(t)),r}((function(e){k=!1,a.setUnloading(k)}),r.disablePageShowEvents),e.setInitialized(!0)}),(function(){return{coreConfig:r,core:s,extensions:c}}))},e.processTelemetry=function(t,i){kn(t,e.identifier);var a=(i=e._getTelCtx(i)).getExtCfg(e.identifier),o=!!n.disableTelemetry;a&&(o=o||!!a.disableTelemetry);var s=t;o||u||(n.overrideInstrumentationKey&&(s.iKey=n.overrideInstrumentationKey),a&&a.overrideInstrumentationKey&&(s.iKey=a.overrideInstrumentationKey),r(s,!0),k?D(2,2):P()),e.processNext(s,i)},e.setEventQueueLimits=function(e,t){v=e>0?e:1e4,o=t>0?t:0,B();var n=h>e;if(!n&&s>0)for(var r=Te;!n&&r<=Ie;r++){var i=E[r];i&&i.batches&&Q(i.batches,(function(e){e&&e.count()>=s&&(n=!0)}))}M(!0,n)},e.teardown=function(){D(2,2),u=!0,a.teardown()},e.pause=function(){_(),p=!0,a.pause()},e.resume=function(){p=!1,a.resume(),P()},e.addResponseHandler=function(e){a._responseHandlers.push(e)},e._loadTransmitProfiles=function(e){_(),F(),y="REAL_TIME",P(),V(e,(function(e,t){var n=t.length;if(n>=2){var r=n>2?t[2]:0;if(t.splice(0,n-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var i=t[0]/t[1];t[0]=Math.ceil(i)*t[1]}r>=0&&t[1]>=0&&r>t[1]&&(r=t[1]),t.push(r),m[e]=t}}))},e.flush=function(e,t,n){void 0===e&&(e=!0),p||(_(),n=n||1,e?(U(Te,0,n),L(),null==f?f=N((function(){!function e(t,n){S(Te,0,n),function e(t){a.isCompletelyIdle()?t():f=N((function(){e(t)}),.25)}((function(){t&&t(),l.length>0?f=N((function(){return e(l.shift(),n)}),0):(f=null,A()&&P())}))}(t,n)}),0):l.push(t)):(S(Te,1,n),null!=t&&t()))},e.setMsaAuthTicket=function(e){a.addHeader("AuthMsaDeviceTicket",e)},e.hasEvents=A,e._setTransmitProfile=function(e){y!==e&&void 0!==m[e]&&(_(),y=e,P())},e._backOffTransmission=function(){b<4&&(b++,_(),P())},e._clearBackOff=function(){b&&(b=0,_(),P())}})),r}return Object(o.b)(t,e),t}(dt);function Qr(e,t,n){var r=t.length,i=Xr(e,t);if(i.length!==r){for(var a=0,o=i;void 0!==n[o];)a++,o=i.substring(0,147)+ii(a);i=o}return i}function Xr(e,t){var n;return t&&(t=Y(t.toString())).length>150&&(n=t.substring(0,150),e&&e.throwInternal(fe.WARNING,ve.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}function Jr(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=Y(t)).toString().length>n&&(r=t.toString().substring(0,n),e&&e.throwInternal(fe.WARNING,ve.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function $r(e,t){return ri(e,t,2048,ve.UrlTooLong)}function Yr(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e&&e.throwInternal(fe.WARNING,ve.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function Zr(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e&&e.throwInternal(fe.WARNING,ve.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}function ei(e,t){if(t){var n={};V(t,(function(t,r){if(M(r)&&ze())try{r=We().stringify(r)}catch(t){e&&e.throwInternal(fe.WARNING,ve.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:t},!0)}r=Jr(e,r,8192),t=Qr(e,t,n),n[t]=r})),t=n}return t}function ti(e,t){if(t){var n={};V(t,(function(t,r){t=Qr(e,t,n),n[t]=r})),t=n}return t}function ni(e,t){return t?ri(e,t,128,ve.IdTooLong).toString():t}function ri(e,t,n,r){var i;return t&&(t=Y(t)).length>n&&(i=t.substring(0,n),e&&e.throwInternal(fe.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function ii(e){var t="00"+e;return t.substr(t.length-3)}var ai,oi="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",si=function(){function e(){}return e.create=function(e,t,n,r,i,a){if(n=Jr(r,n)||"not_specified",_(e)||_(t)||_(n))throw Error("Input doesn't contain all required fields");var o="";e.iKey&&(o=e.iKey,delete e.iKey);var s={name:n,time:K(new Date),iKey:o,ext:a||{},tags:[],data:{},baseType:t,baseData:e};return _(i)||V(i,(function(e,t){s.data[e]=t})),s},e}(),ci=function(){this.ver=2,this.properties={},this.measurements={}},ui=function(e){function t(t,n,r,i){var a=e.call(this)||this;return a.aiDataContract={ver:1,name:1,properties:0,measurements:0},a.name=Jr(t,n)||"not_specified",a.properties=ei(t,r),a.measurements=ti(t,i),a}return Object(o.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(ci),li=function(e){function t(t,n,r,i,a){var o=e.call(this)||this;return o.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||"not_specified",o.message=Yr(t,n),o.properties=ei(t,i),o.measurements=ti(t,a),r&&(o.severityLevel=r),o}return Object(o.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}((function(){this.ver=2,this.properties={},this.measurements={}})),fi=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}};!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(ai||(ai={}));var pi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},t}return Object(o.b)(t,e),t}((function(){this.kind=ai.Measurement})),di=function(e){function t(t,n,r,i,a,o,s,c,u){var l=e.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var f=new pi;return f.count=i>0?i:void 0,f.max=isNaN(o)||null===o?void 0:o,f.min=isNaN(a)||null===a?void 0:a,f.name=Jr(t,n)||"not_specified",f.value=r,f.stdDev=isNaN(s)||null===s?void 0:s,l.metrics=[f],l.properties=ei(t,c),l.measurements=ti(t,u),l}return Object(o.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(fi),gi=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return Object(o.b)(t,e),t}(ci);function hi(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function vi(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,a=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,(a>0?a+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+n+"."+t}function mi(e,t,n,r,i){return!i&&z(e)&&("Script error."===e||"Script error"===e)}var yi=function(e){function t(t,n,r,i,a,o,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=ni(t,s),c.url=$r(t,r),c.name=Jr(t,n)||"not_specified",isNaN(i)||(c.duration=vi(i)),c.properties=ei(t,a),c.measurements=ti(t,o),c}return Object(o.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(gi),Ci=function(e){function t(t,n,r,i,a,o,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=$r(t,r),c.name=Jr(t,n)||"not_specified",c.properties=ei(t,a),c.measurements=ti(t,o),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c}return Object(o.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return Object(o.b)(t,e),t}(gi)),Ti=function(){},bi=function(){this.hasFullStack=!0,this.parsedStack=[]};function Ii(e,t){var n=e;return n&&!z(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=R(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function Si(e,t){var n=e;return e&&(n&&!z(n)&&(n=e.message||e.description||n),n&&!z(n)&&(n=Ii(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"").indexOf(t)&&(n=t+": "+n),n||""}function Ei(e){return e&&e.src&&z(e.src)&&e.obj&&j(e.obj)}function xi(e){var t=e||"";z(t)||(t=z(t.stack)?t.stack:""+t);var n=t.split("\n");return{src:t,obj:n}}function wi(e){var t=null;if(e)try{if(e.stack)t=xi(e.stack);else if(e.error&&e.error.stack)t=xi(e.error.stack);else if(e.exception&&e.exception.stack)t=xi(e.exception.stack);else if(Ei(e))t=e;else if(Ei(e.stackDetails))t=e.stackDetails;else if(window&&window.opera&&e.message)t=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message);else if(z(e))t=xi(e);else{var n=e.message||e.description||"";z(e.errorSrc)&&(n&&(n+="\n"),n+=" from "+e.errorSrc),n&&(t=xi(n))}}catch(e){t=xi(e)}return t||{src:"",obj:null}}function ki(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(e){}return t}function Ai(e){if(e)try{if(!z(e)){var t=ki(e),n=Ii(e,!1);return n&&"{}"!==n||(e.error&&(t=ki(e=e.error)),n=Ii(e,!0)),0!==n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(e){}return""+(e||"")}var Pi,Ni,_i,Di=function(e){function t(t,n,r,i,a,o){var s=e.call(this)||this;return s.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},!function(e){try{if(M(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(n)?(r||(r={}),s.exceptions=[new Oi(t,n,r)],s.properties=ei(t,r),s.measurements=ti(t,i),a&&(s.severityLevel=a),o&&(s.id=o)):(s.exceptions=n.exceptions,s.properties=n.properties,s.measurements=n.measurements,n.severityLevel&&(s.severityLevel=n.severityLevel),n.id&&(s.id=n.id),n.problemGroup&&(s.problemGroup=n.problemGroup),s.ver=2,_(n.isManual)||(s.isManual=n.isManual)),s}return Object(o.b)(t,e),t.CreateAutoException=function(e,t,n,r,i,a,o,s){var c=ki(i||a||e);return{message:Si(e,c),url:t,lineNumber:n,columnNumber:r,error:Ai(i||a||e),evt:Ai(a||e),typeName:c,stackDetails:wi(o||i||a),errorSrc:s}},t.CreateFromInterface=function(e,n,r,i){var a=n.exceptions&&J(n.exceptions,(function(t){return Oi.CreateFromInterface(e,t)}));return new t(e,Object(o.a)(Object(o.a)({},n),{exceptions:a}),r,i)},t.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,a=e.problemGroup,o=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&J(t,(function(e){return e.toInterface()}))||void 0,severityLevel:i,properties:n,measurements:r,problemGroup:a,id:o,isManual:s}},t.CreateSimpleException=function(e,t,n,r,i,a){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=Ai,t}((function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}})),Oi=function(e){function t(t,n,r){var i=e.call(this)||this;if(i.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){try{if(M(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(n))i.typeName=n.typeName,i.message=n.message,i.stack=n.stack,i.parsedStack=n.parsedStack,i.hasFullStack=n.hasFullStack;else{var a=n,o=a&&a.evt;B(a)||(a=a.error||o||a),i.typeName=Jr(t,ki(a))||"not_specified",i.message=Yr(t,Si(n||a,i.typeName))||"not_specified";var s=n.stackDetails||wi(n);i.parsedStack=function(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,i=0;Q(n,(function(e){var n=e.toString();if(Mi.regex.test(n)){var a=new Mi(n,r++);i+=a.sizeInBytes,t.push(a)}}));if(i>32768)for(var a=0,o=t.length-1,s=0,c=a,u=o;a<o;){if((s+=t[a].sizeInBytes+t[o].sizeInBytes)>32768){var l=u-c+1;t.splice(c,l);break}c=a,u=o,a++,o--}}return t}(s),i.stack=Zr(t,function(e){var t="";return e&&(e.obj?Q(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(s)),i.hasFullStack=j(i.parsedStack)&&i.parsedStack.length>0,r&&(r.typeName=r.typeName||i.typeName)}return i}return Object(o.b)(t,e),t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&J(this.parsedStack,(function(e){return e.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||void 0}},t.CreateFromInterface=function(e,n){var r=n.parsedStack instanceof Array&&J(n.parsedStack,(function(e){return Mi.CreateFromInterface(e)}))||n.parsedStack;return new t(e,Object(o.a)(Object(o.a)({},n),{parsedStack:r}))},t}(bi),Mi=function(e){function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof n){var a=n;i.level=r,i.method="<no_method>",i.assembly=Y(a),i.fileName="",i.line=0;var o=a.match(t.regex);o&&o.length>=5&&(i.method=Y(o[2])||i.method,i.fileName=Y(o[4]),i.line=parseInt(o[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return Object(o.b)(t,e),t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(Ti);!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(Pi||(Pi={})),function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"}(Ni||(Ni={})),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(_i||(_i={}));var Ri=void 0;function Li(e){try{if(_(Object(x.a)()))return null;var t=new Date,n=Re(e===Ni.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(e){}return null}function Vi(){return Fi()?Li(Ni.SessionStorage):null}function Ui(){!1,Ri=!1}function Fi(){return void 0===Ri&&(Ri=!!Li(Ni.SessionStorage)),Ri}function qi(e,t){var n=Vi();if(null!==n)try{return n.getItem(t)}catch(t){Ri=!1,e.throwInternal(fe.WARNING,ve.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+ae(t),{exception:Xe(t)})}return null}function Hi(e,t,n){var r=Vi();if(null!==r)try{return r.setItem(t,n),!0}catch(t){Ri=!1,e.throwInternal(fe.WARNING,ve.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+ae(t),{exception:Xe(t)})}return!1}function ji(e,t){var n=Vi();if(null!==n)try{return n.removeItem(t),!0}catch(t){Ri=!1,e.throwInternal(fe.WARNING,ve.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+ae(t),{exception:Xe(t)})}return!1}function Bi(e){var t=null;if(R(Event))t=new Event(e);else{var n=Ue();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}var zi="Request-Context",Wi="appId",Gi="appId=cid-v1:",Ki="Request-Id",Qi="traceparent",Xi="request-context",Ji=Ue()||{},$i=0,Yi=[null,null,null,null,null];function Zi(e){var t=$i,n=Yi,r=n[t];return Ji.createElement?n[t]||(r=n[t]=Ji.createElement("a")):r={host:na(e,!0)},r.href=e,++t>=n.length&&(t=0),$i=t,r}function ea(e){var t,n=Zi(e);return n&&(t=n.href),t}function ta(e,t){return e?e.toUpperCase()+" "+t:t}function na(e,t){var n=ra(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>3&&z(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}function ra(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>2&&z(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),a=r[3]||"";("http"===i&&":80"===a||"https"===i&&":443"===a)&&(a=""),n+=a}}return n}var ia=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];function aa(e){return-1!==ia.indexOf(e.toLowerCase())}var oa={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1;var i=Zi(t).host.toLowerCase();if(!i||-1===i.indexOf(":443")&&-1===i.indexOf(":80")||(i=(ra(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var a,o=e&&e.correlationHeaderDomains;if(o&&(Q(o,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||t.test(i)})),!a))return!1;var s=e&&e.correlationHeaderExcludedDomains;if(!s||0===s.length)return!0;for(r=0;r<s.length;r++){if(new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1}return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=oa.getCorrelationContextValue(e,Wi);if(t&&t!==oa.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(2===i.length&&i[0]===t)return i[1]}}};function sa(){var e=Be();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return ie()}function ca(e,t){var n=null;return 0===e||0===t||_(e)||_(t)||(n=t-e),n}var ua=function(e){function t(t,n,r,i,a,o,s,c,u,l,f,p){void 0===u&&(u="Ajax");var d=e.call(this)||this;d.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},d.id=n,d.duration=vi(a),d.success=o,d.resultCode=s+"",d.type=Jr(t,u);var g=function(e,t,n,r){var i,a=r,o=r;if(t&&t.length>0){var s=Zi(t);if(i=s.host,!a)if(null!=s.pathname){var c=0===s.pathname.length?"/":s.pathname;"/"!==c.charAt(0)&&(c="/"+c),o=s.pathname,a=Jr(e,n?n+" "+c:c)}else a=Jr(e,t)}else i=r,a=r;return{target:i,name:a,data:o}}(t,r,c,i);return d.data=$r(t,i)||g.data,d.target=Jr(t,g.target),l&&(d.target="".concat(d.target," | ").concat(l)),d.name=Jr(t,g.name),d.properties=ei(t,f),d.measurements=ti(t,p),d}return Object(o.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}((function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}})),la=function e(t,n,r,i){S(e,this,(function(e){var a,o=null,s=[],c=!1;function u(){r&&Q(r.getTransmissionControls(),(function(e){Q(e,(function(e){return e.flush(!0)}))}))}r&&(a=r.logger),e.trackPageView=function(e,r){var l=e.name;if(_(l)||"string"!=typeof l){var f=Ue();l=e.name=f&&f.title||""}var p=e.uri;if(_(p)||"string"!=typeof p){var d=je();p=e.uri=d&&d.href||""}if(!i.isPerformanceTimingSupported())return t.sendPageViewInternal(e,r),u(),void a.throwInternal(fe.WARNING,ve.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var g,h,v,m=!1,y=i.getPerformanceTiming().navigationStart;y>0&&(g=ca(y,+new Date),i.shouldCollectDuration(g)||(g=void 0)),_(r)||_(r.duration)||(h=r.duration),!n&&isNaN(h)||(isNaN(h)&&(r||(r={}),r.duration=g),t.sendPageViewInternal(e,r),u(),m=!0),r||(r={}),v=function(){var n=!1;try{if(i.isPerformanceTimingDataReady()){n=!0;var o={name:l,uri:p};i.populatePageViewPerformanceEvent(o),o.isValid||m?(m||(r.duration=o.durationMs,t.sendPageViewInternal(e,r)),c||(t.sendPageViewPerformanceInternal(o,r),c=!0)):(r.duration=g,t.sendPageViewInternal(e,r))}else y>0&&ca(y,+new Date)>6e4&&(n=!0,m||(r.duration=6e4,t.sendPageViewInternal(e,r)))}catch(e){a.throwInternal(fe.CRITICAL,ve.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+ae(e),{exception:Xe(e)})}return n},s.push(v),o||(o=setInterval((function(){var e=s.slice(0),t=!1;s=[],Q(e,(function(e){e()?t=!0:s.push(e)})),0===s.length&&(clearInterval(o),o=null),t&&u()}),100))}}))},fa=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(e){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+Xe(e))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(e){return this._logger.warnToConsole("Call to restart failed: "+Xe(e)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(Fi()){null!=qi(this._logger,this.prevPageVisitDataKeyName)&&ue("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new pa(e,t),r=We().stringify(n);Hi(this._logger,this.prevPageVisitDataKeyName,r)}}catch(e){this._logger.warnToConsole("Call to start failed: "+Xe(e))}},e.prototype.stopPageVisitTimer=function(){try{if(Fi()){var e=ie(),t=qi(this._logger,this.prevPageVisitDataKeyName);if(t&&ze()){var n=We().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,ji(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(e){return this._logger.warnToConsole("Stop page visit timer failed: "+Xe(e)),null}},e}(),pa=function(e,t){this.pageVisitStartTime=ie(),this.pageName=e,this.pageUrl=t},da=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,a=0,o=0,s=0;(t||n)&&(t?(r=t.duration,i=0===t.startTime?t.connectEnd:ca(t.startTime,t.connectEnd),a=ca(t.requestStart,t.responseStart),o=ca(t.responseStart,t.responseEnd),s=ca(t.responseEnd,t.loadEventEnd)):(r=ca(n.navigationStart,n.loadEventEnd),i=ca(n.navigationStart,n.connectEnd),a=ca(n.requestStart,n.responseStart),o=ca(n.responseStart,n.responseEnd),s=ca(n.responseEnd,n.loadEventEnd)),0===r?this._logger.throwInternal(fe.WARNING,ve.ErrorPVCalc,"error calculating page view performance.",{total:r,network:i,request:a,response:o,dom:s}):this.shouldCollectDuration(r,i,a,o,s)?r<Math.floor(i)+Math.floor(a)+Math.floor(o)+Math.floor(s)?this._logger.throwInternal(fe.WARNING,ve.ClientPerformanceMathError,"client performance math error.",{total:r,network:i,request:a,response:o,dom:s}):(e.durationMs=r,e.perfTotal=e.duration=vi(r),e.networkConnect=vi(i),e.sentRequest=vi(a),e.receivedResponse=vi(o),e.domProcessing=vi(s),e.isValid=!0):this._logger.throwInternal(fe.WARNING,ve.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:a,response:o,dom:s}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Be().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Be().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=Be();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=Be();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=Be(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=qe()||{},r=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=n.userAgent,a=!1;if(i)for(var o=0;o<r.length;o++)a=a||-1!==i.toLowerCase().indexOf(r[o]);if(a)return!1;for(o=0;o<e.length;o++)if(e[o]<0||e[o]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}();function ga(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var ha=function(e){function t(){var n,r,i,a=e.call(this)||this;a.identifier="ApplicationInsightsAnalytics",a.priority=180,a.autoRoutePVDelay=500;var s,c;return S(t,a,(function(e,u){var l=je(!0);s=l&&l.href||"",e.getCookieMgr=function(){return xt(e.core)},e.processTelemetry=function(t,n){he(e.core,(function(){return e.identifier+":processTelemetry"}),(function(){var r=!1,i=e._telemetryInitializers.length;n=e._getTelCtx(n);for(var a=0;a<i;++a){var o=e._telemetryInitializers[a];if(o)try{if(!1===o.apply(null,[t])){r=!0;break}}catch(e){n.diagLog().throwInternal(fe.CRITICAL,ve.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+ae(e),{exception:Xe(e)},!0)}}r||e.processNext(t,n)}),(function(){return{item:t}}),!t.sync)},e.trackEvent=function(t,n){try{var r=si.create(t,ui.dataType,ui.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(fe.WARNING,ve.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+ae(t),{exception:Xe(t)})}},e.startTrackEvent=function(t){try{n.start(t)}catch(t){e.diagLog().throwInternal(fe.CRITICAL,ve.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+ae(t),{exception:Xe(t)})}},e.stopTrackEvent=function(t,r,i){try{n.stop(t,void 0,r)}catch(t){e.diagLog().throwInternal(fe.CRITICAL,ve.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+ae(t),{exception:Xe(t)})}},e.trackTrace=function(t,n){try{var r=si.create(t,li.dataType,li.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(fe.WARNING,ve.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+ae(t),{exception:Xe(t)})}},e.trackMetric=function(t,n){try{var r=si.create(t,di.dataType,di.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(fe.CRITICAL,ve.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+ae(t),{exception:Xe(t)})}},e.trackPageView=function(t,n){try{var r=t||{};e._pageViewManager.trackPageView(r,Object(o.a)(Object(o.a)(Object(o.a)({},r.properties),r.measurements),n)),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(r.name,r.uri)}catch(t){e.diagLog().throwInternal(fe.CRITICAL,ve.TrackPVFailed,"trackPageView failed, page view will not be collected: "+ae(t),{exception:Xe(t)})}},e.sendPageViewInternal=function(t,n,r){var i=Ue();i&&(t.refUri=void 0===t.refUri?i.referrer:t.refUri);var a=si.create(t,yi.dataType,yi.envelopeType,e.diagLog(),n,r);e.core.track(a),0},e.sendPageViewPerformanceInternal=function(t,n,r){var i=si.create(t,Ci.dataType,Ci.envelopeType,e.diagLog(),n,r);e.core.track(i)},e.trackPageViewPerformance=function(t,n){try{e._pageViewPerformanceManager.populatePageViewPerformanceEvent(t),e.sendPageViewPerformanceInternal(t,n)}catch(t){e.diagLog().throwInternal(fe.CRITICAL,ve.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+ae(t),{exception:Xe(t)})}},e.startTrackPage=function(t){try{if("string"!=typeof t){var n=Ue();t=n&&n.title||""}r.start(t)}catch(t){e.diagLog().throwInternal(fe.CRITICAL,ve.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+ae(t),{exception:Xe(t)})}},e.stopTrackPage=function(t,n,i,a){try{if("string"!=typeof t){var o=Ue();t=o&&o.title||""}if("string"!=typeof n){var s=je();n=s&&s.href||""}r.stop(t,n,i,a),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(t,n)}catch(t){e.diagLog().throwInternal(fe.CRITICAL,ve.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+ae(t),{exception:Xe(t)})}},e.sendExceptionInternal=function(t,n,r){var i=t.exception||t.error||new Error("not_specified"),a=new Di(e.diagLog(),i,t.properties||n,t.measurements,t.severityLevel,t.id).toInterface(),o=si.create(a,Di.dataType,Di.envelopeType,e.diagLog(),n,r);e.core.track(o)},e.trackException=function(t,n){try{e.sendExceptionInternal(t,n)}catch(t){e.diagLog().throwInternal(fe.CRITICAL,ve.TrackExceptionFailed,"trackException failed, exception will not be collected: "+ae(t),{exception:Xe(t)})}},e._onerror=function(t){var n=t&&t.error,r=t&&t.evt;try{if(!r){var i=Ve();i&&(r=i.event)}var a=t&&t.url||(Ue()||{}).URL,o=t.errorSrc||"window.onerror@"+a+":"+(t.lineNumber||0)+":"+(t.columnNumber||0),s={errorSrc:o,url:a,lineNumber:t.lineNumber||0,columnNumber:t.columnNumber||0,message:t.message};mi(t.message,t.url,t.lineNumber,t.columnNumber,t.error)?function(t,n){var r=si.create(t,Di.dataType,Di.envelopeType,e.diagLog(),n);e.core.track(r)}(Di.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",a,t.lineNumber||0,t.columnNumber||0,n,r,null,o),s):(t.errorSrc||(t.errorSrc=o),e.trackException({exception:t,severityLevel:Pi.Error},s))}catch(t){var c=n?n.name+", "+n.message:"null";e.diagLog().throwInternal(fe.CRITICAL,ve.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+ae(t),{exception:Xe(t),errorString:c})}},e.addTelemetryInitializer=function(t){e._telemetryInitializers.push(t)},e.initialize=function(o,l,f,p){if(!e.isInitialized()){if(_(l))throw Error("Error initializing");u.initialize(o,l,f,p),e.setInitialized(!1);var d=e._getTelCtx(),g=e.identifier;e.config=d.getExtCfg(g);var h=t.getDefaultConfig(o);void 0!==h&&V(h,(function(t,n){e.config[t]=d.getConfig(g,t,n),void 0===e.config[t]&&(e.config[t]=n)})),e.config.isStorageUseDisabled&&Ui();var v={instrumentationKey:function(){return o.instrumentationKey},accountId:function(){return e.config.accountId||o.accountId},sessionRenewalMs:function(){return e.config.sessionRenewalMs||o.sessionRenewalMs},sessionExpirationMs:function(){return e.config.sessionExpirationMs||o.sessionExpirationMs},sampleRate:function(){return e.config.samplingPercentage||o.samplingPercentage},sdkExtension:function(){return e.config.sdkExtension||o.sdkExtension},isBrowserLinkTrackingEnabled:function(){return e.config.isBrowserLinkTrackingEnabled||o.isBrowserLinkTrackingEnabled},appId:function(){return e.config.appId||o.appId}};e._pageViewPerformanceManager=new da(e.core),e._pageViewManager=new la(a,e.config.overridePageViewDuration,e.core,e._pageViewPerformanceManager),e._pageVisitTimeManager=new fa(e.diagLog(),(function(t,n,r){return function(t,n,r){var i={PageName:t,PageUrl:n};e.trackMetric({name:"PageVisitTime",average:r,max:r,min:r,sampleCount:1},i)}(t,n,r)})),e._telemetryInitializers=e._telemetryInitializers||[],function(t){if(!t.isBrowserLinkTrackingEnabled()){var n=["/browserLinkSignalR/","/__browserLink/"];r=function(e){if(e.baseType===ua.dataType){var t=e.baseData;if(t)for(var r=0;r<n.length;r++)if(t.target&&t.target.indexOf(n[r])>=0)return!1}return!0},e._telemetryInitializers.push(r)}var r}(v),(n=new va(e.diagLog(),"trackEvent")).action=function(t,n,r,i){i||(i={}),i.duration=r.toString(),e.trackEvent({name:t,properties:i})},(r=new va(e.diagLog(),"trackPageView")).action=function(t,n,r,i,a){_(i)&&(i={}),i.duration=r.toString();var o={name:t,uri:n,properties:i,measurements:a};e.sendPageViewInternal(o,i)};var m,y=Ve(),C=He(),T=je(!0),b=a;if(!1===e.config.disableExceptionTracking&&!e.config.autoExceptionInstrumented&&y){var I=y.onerror;y.onerror=function(e,t,n,r,i){var a=y.event,o=I&&I(e,t,n,r,i);return!0!==o&&b._onerror(Di.CreateAutoException(e,t,n,r,i,a)),o},e.config.autoExceptionInstrumented=!0}if(!1===e.config.disableExceptionTracking&&!0===e.config.enableUnhandledPromiseRejectionTracking&&!e.config.autoUnhandledPromiseInstrumented&&y){var S=y.onunhandledrejection;y.onunhandledrejection=function(e){var t=y.event,n=S&&S.call(y,e);return!0!==n&&b._onerror(Di.CreateAutoException(function(e){if(e&&e.reason){var t=e.reason;return!z(t)&&R(t.toString)?t.toString():Xe(t)}return e||""}(e),T?T.href:"",0,0,e,t)),n},e.config.autoUnhandledPromiseInstrumented=!0}if(!0===e.config.enableAutoRouteTracking&&C&&R(C.pushState)&&R(C.replaceState)&&y&&"undefined"!=typeof Event){var E=a;Q(f,(function(e){"AppInsightsPropertiesPlugin"===e.identifier&&(i=e)})),C.pushState=(m=C.pushState,function(){var e=m.apply(this,arguments);return ga(y,Bi(E.config.namePrefix+"pushState")),ga(y,Bi(E.config.namePrefix+"locationchange")),e}),C.replaceState=function(e){return function(){var t=e.apply(this,arguments);return ga(y,Bi(E.config.namePrefix+"replaceState")),ga(y,Bi(E.config.namePrefix+"locationchange")),t}}(C.replaceState),y.addEventListener&&(y.addEventListener(E.config.namePrefix+"popstate",(function(){ga(y,Bi(E.config.namePrefix+"locationchange"))})),y.addEventListener(E.config.namePrefix+"locationchange",(function(){if(i&&i.context&&i.context.telemetryTrace){i.context.telemetryTrace.traceID=on();var e="_unknown_";T&&T.pathname&&(e=T.pathname+(T.hash||"")),i.context.telemetryTrace.name=Jr(E.diagLog(),e)}c?(s=c,c=T&&T.href||""):c=T&&T.href||"",setTimeout(function(e){E.trackPageView({refUri:e,properties:{duration:0}})}.bind(a,s),E.autoRoutePVDelay)})))}e.setInitialized(!0)}}})),a}return Object(o.b)(t,e),t.getDefaultConfig=function(e){return e||(e={}),e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=hi(e.disableExceptionTracking),e.autoTrackPageVisitTime=hi(e.autoTrackPageVisitTime),e.overridePageViewDuration=hi(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=hi(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=hi(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=hi(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=hi(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=hi(e.enableDebug),e.disableFlushOnBeforeUnload=hi(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=hi(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},t.Version="2.7.3",t}(dt),va=function(e,t){var n=this,r={};n.start=function(t){void 0!==r[t]&&e.throwInternal(fe.WARNING,ve.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),r[t]=+new Date},n.stop=function(t,i,a,o){var s=r[t];if(isNaN(s))e.throwInternal(fe.WARNING,ve.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:t,key:t},!0);else{var c=ca(s,+new Date);n.action(t,i,c,a,o)}delete r[t],r[t]=void 0}};function ma(e){V(e,(function(t,n){(!hn(n)||"{}"===JSON.stringify(n)&&"callback"!==t)&&delete e[t]}))}function ya(e,t,n){var r=e;if(r){for(r=r;!t(r,n);)if(!(r=r=r.parentNode)||!r.getAttribute)return null;return r}}function Ca(e){return"A"===e.nodeName}function Ta(e,t){var n,r,i,a,o,s,c,u,l,f,p=(e=e).getBoundingClientRect();return(r=t,i=(n=p).left,a=n.top,o=n.right,s=n.bottom,c=r.left,u=r.top,l=r.right,f=r.bottom,Math.max(0,Math.min(o,l)-Math.max(i,c))*Math.max(0,Math.min(s,f)-Math.max(a,u)))>0}function ba(e,t){return!!hn(Ia(e,"data-bi-dnt"))}function Ia(e,t){return ya(e,Sa,t)}function Sa(e,t){var n=e.getAttribute(t);return hn(n)||""===n}function Ea(e){return"["+e+"]"}function xa(e,t,n,r){var i;return function(){var a=arguments,o=function(){i=0,t&&t.apply(r,a)},s=!i;clearTimeout(i),i=setTimeout(o,n),s&&e&&e.apply(r,a)}}function wa(){var e={h:0,v:0},t=Ve(),n=Ue();return n&&t&&(e={h:parseInt(n.body.scrollLeft||n.documentElement.scrollLeft||t.pageXOffset,10),v:parseInt(n.body.scrollTop||n.documentElement.scrollTop||t.pageYOffset,10)}),e}function ka(){var e={h:0,w:0},t=Ve(),n=Ue();if(t&&n&&t.screen){var r=n.body||{},i=n.documentElement||{};e.h=t.innerHeight||r.clientHeight||i.clientHeight,e.w=t.innerWidth||r.clientWidth||i.clientWidth}return e}var Aa,Pa="CL",Na="CR",_a="CM",Da="S",Oa="R",Ma="KE",Ra="KS";!function(e){e[e.PAGE_ACTION=0]="PAGE_ACTION",e[e.CONTENT_UPDATE=1]="CONTENT_UPDATE"}(Aa||(Aa={}));var La={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0};function Va(e){if(e){var t=function(e){return ya(e,Ca)}(e);if(t&&1===t.length){if(t[0].href)return t[0].href;if(t[0].src)return t[0].src}}return""}function Ua(e){if(!e||!e.attributes)return!1;try{var t=e.getAttribute("data-dc");return!!hn(t)&&"pii"===t.toLowerCase()}catch(e){return!1}}function Fa(e,t){return e.coreData&&e.coreData.requestUri&&""!==e.coreData.requestUri?e.coreData.requestUri:function(e,t){if(!t)return null;var n=t.protocol+"//"+(t.hostname||t.host)+(hn(t.port)?":"+t.port:"")+t.pathname;if(e.urlCollectQuery){var r=t.search;if(!r){var i=t.hash||"",a=i.indexOf("?");-1!==a&&(r=i.slice(a))}n+=r}e.urlCollectHash&&(n+=t.hash||"");return n}(e,t)}function qa(e,t){var n,r="",i={},a=[],o=e.cookiesToCollect;!1===e.shareAuthStatus?a=o:Q(o,(function(e){"ANON"!==e&&a.push(e)}));try{try{gn&&window.varCustomerCookies&&window.varCustomerCookies.length>0&&(a=a.concat(window.varCustomerCookies))}catch(e){t.throwInternal(fe.CRITICAL,Ae.FailedToGetCookies,"Failed to get cookies ")}Q(a,(function(e){i.hasOwnProperty(e)||(i[e]="",dn&&""!==(n=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")))&&(r+=e+"="+n+";"))}))}catch(e){t.throwInternal(fe.CRITICAL,Ae.FailedToGetCookies,"Failed to get cookies ")}return r}function Ha(e){!function e(t){var n=Ue()||{};/in/.test(n.readyState)?setTimeout((function(){e(t)}),100):t.call()}((function(){if(dn&&"complete"===document.readyState)e();else{var t=Ve();t&&(t.addEventListener?t.addEventListener("load",(function(){e()})):t.attachEvent&&t.attachEvent("onload",(function(){e()})))}}))}var ja,Ba={longNames:{isShortNames:!1,id:"data-bi-id",areaName:"data-bi-area",slotNumber:"data-bi-slot",contentName:"data-bi-name",contentSource:"data-bi-source",templateName:"data-bi-view",productId:"data-bi-product",contentType:"data-bi-type",parentId:"data-bi-parentid",parentName:"data-bi-parentname"},shortNames:{isShortNames:!0,id:"data-bi-id",areaName:"data-bi-an",slotNumber:"data-bi-sn",contentName:"data-bi-cn",contentSource:"data-bi-cs",templateName:"data-bi-tn",productId:"data-bi-pid",contentType:"data-bi-ct",parentId:"data-bi-pi",parentName:"data-bi-pn"}},za={parentId:"parentId",parentName:"parentName"},Wa={parentId:"pI",parentName:"pN"},Ga=function(){function e(e,t){this._config=e,this._traceLogger=t,this._contentBlobFieldNames=null,this._contentBlobFieldNames=!0===this._config.useShortNameForContentBlob?Ba.shortNames:Ba.longNames}return e.prototype.getMetadata=function(){var e={},t={};return dn&&(t=this._getMetaDataFromDOM("awa-",!0),this._config.autoCapture&&this._config.autoCapture.msTags&&(e=this._getMetaDataFromDOM("ms.",!1))),Sn(!0,t,e)},e.prototype.getVisibleContent=function(){var e,t=ka(),n={top:0,bottom:(e=t).h,left:0,right:e.w},r=null;dn&&(r=document.querySelectorAll(Ea(this._contentBlobFieldNames.areaName)+","+Ea(this._contentBlobFieldNames.slotNumber)+","+Ea(this._config.biBlobAttributeTag)));var i=[];if(r)for(var a=0;a<r.length;a++){var o=r[a];if(!ba(o)&&Ta(o,n)){var s=this.getElementContent(o,Aa.CONTENT_UPDATE);s&&i.push(s)}}return i},e.prototype.getElementContent=function(e,t){if(!e)return{};var n,r,i,a={};if(this._isTracked(e))if(this._isTrackedWithDataM(e)){r=(n=e).getAttribute(this._config.biBlobAttributeTag);try{a=JSON.parse(r)}catch(e){this._traceLogger.throwInternal(fe.CRITICAL,Ae.CannotParseBiBlobValue,"Can not parse "+r)}}else this._isTrackedWithDataBi(e)&&(i=e,a=Sn(a,this._populateElementContentwithDataBi(i,e)));else if((n=Ia(e,this._config.biBlobAttributeTag))&&(r=n.getAttribute(this._config.biBlobAttributeTag)),r)try{a=JSON.parse(r)}catch(e){this._traceLogger.throwInternal(fe.CRITICAL,Ae.CannotParseBiBlobValue,"Can not parse "+r)}else i=ya(e,this._isTrackedWithDataBi),a=Sn(a,this._populateElementContentwithDataBi(i,e));return ma(a),this._config.autoCapture.lineage&&t===Aa.PAGE_ACTION&&(a=Sn(a,this.getLineageDetails(e))),this._config.autoPopulateParentIdAndParentName&&(a=Sn(a,this._getParentDetails(n||i,a))),a},e.prototype.getLineageDetails=function(e){for(var t,n,r,i=[],a=[],o=this._config.biBlobAttributeTag;e;){var s=e.getAttribute(o)||e[o],c=e.getAttribute("data-module-id")||e["data-module-id"];if(s){try{var u=JSON.parse(s)}catch(e){this._traceLogger.throwInternal(fe.CRITICAL,Ae.CannotParseDataAttribute,"Can not parse "+s)}u&&(n=u.cN||u.cT,r=u.id||void 0,(n||r)&&(i.push(n),c&&(t=n),a.push(r)))}else n=e.getAttribute(this._contentBlobFieldNames.contentName)||e.getAttribute(this._contentBlobFieldNames.contentType),r=e.getAttribute(this._contentBlobFieldNames.id)||void 0,(n||r)&&(i.push(n),c&&(t=n),a.push(r));e=e.parentElement}return{lineage:i.join(">"),lineageById:a.join(">"),lineageContainerName:t}},e.prototype._populateElementContentwithDataBi=function(e,t){var n={};if(!e){if(!this._config.useDefaultContentName)return n;e=t}var r=Ia(e,this._contentBlobFieldNames.areaName),i=Sn({},this._getAreaContent(r)),a=this._config.callback.contentName?this._config.callback.contentName(e,this._config.useDefaultContentName):"",o=this._getDefaultContentName(t,this._config.useDefaultContentName);(n={id:e.getAttribute(this._contentBlobFieldNames.id)||e.id||"",aN:i.areaName,sN:e.getAttribute(this._contentBlobFieldNames.slotNumber),cN:a||e.getAttribute(this._contentBlobFieldNames.contentName)||o||e.getAttribute("alt")||"",cS:e.getAttribute(this._contentBlobFieldNames.contentSource)||i.contentSource,tN:i.templateName,pid:e.getAttribute(this._contentBlobFieldNames.productId),cT:e.getAttribute(this._contentBlobFieldNames.contentType)||i.type,pI:e.getAttribute(this._contentBlobFieldNames.parentId),pN:e.getAttribute(this._contentBlobFieldNames.parentName)}).id&&n.aN&&n.sN&&n.cN||this._traceLogger.throwInternal(fe.WARNING,Ae.InvalidContentBlob,"Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),this._contentBlobFieldNames.isShortNames||(n={contentId:n.id,areaName:n.aN,slotNumber:n.sN,contentName:n.cN,contentSource:n.cS,templateName:n.tN,productId:n.pid,contentType:n.cT,parentId:n.pI,parentName:n.pN});for(var s,c=0;c<e.attributes.length;c++){if((s=e.attributes[c]).name!==this._contentBlobFieldNames.id&&s.name!==this._contentBlobFieldNames.areaName&&s.name!==this._contentBlobFieldNames.slotNumber&&s.name!==this._contentBlobFieldNames.contentName&&s.name!==this._contentBlobFieldNames.contentSource&&s.name!==this._contentBlobFieldNames.templateName&&s.name!==this._contentBlobFieldNames.productId&&s.name!==this._contentBlobFieldNames.contentType&&s.name!==this._contentBlobFieldNames.parentId&&s.name!==this._contentBlobFieldNames.parentName&&-1!==s.name.indexOf("data-bi-"))n[s.name.replace("data-bi-","")]=s.value}return n},e.prototype._getMetaDataFromDOM=function(e,t){var n,r={};if(dn){n=document.querySelectorAll("meta");for(var i=0;i<n.length;i++){var a=n[i];if(a.name)if(0===a.name.toLowerCase().indexOf(e))r[t?a.name.replace(e,""):a.name]=a.content}}return r},e.prototype._getAreaContent=function(e){if(e=e)return{areaName:e.getAttribute(this._contentBlobFieldNames.areaName),templateName:e.getAttribute(this._contentBlobFieldNames.templateName),contentSource:e.getAttribute(this._contentBlobFieldNames.contentSource),product:e.getAttribute(this._contentBlobFieldNames.productId),type:e.getAttribute(this._contentBlobFieldNames.contentType)}},e.prototype._getDefaultContentName=function(e,t){if(!1===t||Ua(e)||!e.tagName)return"";var n,r=Ue()||{};switch(e.tagName){case"A":n=r.all?e.innerText||e.innerHTML:e.text||e.innerHTML;break;case"IMG":case"AREA":n=e.alt;break;default:n=e.value||e.name||e.alt||e.innerText||e.id}return n.substring(0,200)},e.prototype._getParentDetails=function(e,t){var n=this._contentBlobFieldNames.isShortNames?Wa.parentId:za.parentId,r=this._contentBlobFieldNames.isShortNames?Wa.parentName:za.parentName,i=t[n],a=t[r];return i||a||!e?{}:this._populateParentInfo(e,n,r)},e.prototype._isTrackedWithDataM=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name)return!0;return!1},e.prototype._isTrackedWithDataBi=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(t[n].name.indexOf("data-bi-")>=0)return!0;return!1},e.prototype._isTracked=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name||t[n].name.indexOf("data-bi-")>=0)return!0;return!1},e.prototype._populateParentInfo=function(e,t,n){var r,i,a={},o=this._config.biBlobAttributeTag,s=ya(e.parentElement,this._isTracked);if(s){var c=s.getAttribute(o)||e[o];if(c){try{var u=JSON.parse(c)}catch(e){this._traceLogger.throwInternal(fe.CRITICAL,Ae.CannotParseDataAttribute,"Can not parse "+c)}u&&(r=u.id,i=u.cN)}else r=s.getAttribute(this._contentBlobFieldNames.id),i=s.getAttribute(this._contentBlobFieldNames.contentName);r&&(a[t]=r),i&&(a[n]=i)}return a},e}(),Ka={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},Qa=function(){function e(e,t){this._analyticsPlugin=e,this._traceLogger=t}return e.prototype.pageView=function(){this._analyticsPlugin.capturePageView({isAuto:!0})},e.prototype.onLoad=function(){var e=this;Ha((function(){e._analyticsPlugin.capturePageViewPerformance({isAuto:!0}),e._analyticsPlugin.captureContentUpdate({isAuto:!0,isDomComplete:!0})}))},e.prototype.click=function(){var e=this,t=Ve(),n=Ue();if(t&&t.addEventListener){var r=-1!==navigator.appVersion.indexOf("MSIE")?"click":"mousedown";t.addEventListener(r,(function(t){e._processClick(t)}),!1),t.addEventListener("keyup",(function(t){e._processClick(t)}),!1)}else n&&n.attachEvent&&(n.attachEvent("onclick",(function(t){e._processClick(t)})),n.attachEvent("keyup",(function(t){e._processClick(t)})))},e.prototype.scroll=function(e){var t=this,n=xa(null,(function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:Da})}),e.scroll,this),r=Ve();r&&(r.addEventListener?r.addEventListener("scroll",n):window.attachEvent&&window.attachEvent("onscroll",n))},e.prototype.maxScroll=function(e){var t=function(){var t=wa();e.v=e.v>t.v?e.v:t.v},n=Ve();n&&(n.addEventListener?n.addEventListener("scroll",t):n.attachEvent&&n.attachEvent("onscroll",t))},e.prototype.resize=function(e){var t=this,n=xa((function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:Oa})}),null,e.resize,this),r=Ve();r&&(r.addEventListener?r.addEventListener("resize",n):r.attachEvent&&r.attachEvent("onresize",n))},e.prototype.onUnload=function(){var e=this._analyticsPlugin;function t(){e&&e.capturePageUnload({isAuto:!0})}if(e){var n=((e||{}).core||{}).config.disablePageUnloadEvents;en(t,n),tn(t,n)}},e.prototype._processClick=function(e){var t,n={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},r=Ve(),i=(e=e||r.event).srcElement||e.target,a={isAuto:!0,clickCoordinateX:e.pageX,clickCoordinateY:e.pageY},o="which"in(t=e)?3===t.which:"button"in t?2===t.button:void 0;if(o)a.actionType=Na;else if(function(e){return"which"in e?1===e.which:"button"in e?1===e.button:void 0}(e))a.actionType=Pa;else if(function(e){if("keyCode"in e)return 13===e.keyCode}(e))a.actionType=Ma;else if(function(e){if("keyCode"in e)return 32===e.keyCode}(e))a.actionType=Ra;else{if(!function(e){return"which"in e?2===e.which:"button"in e?4===e.button:void 0}(e))return;a.actionType=_a}for(;i&&i.tagName;){if(i.control&&n[i.control.tagName.toUpperCase()]&&(i=i.control),n[i.tagName.toUpperCase()]){("INPUT"!==i.tagName.toUpperCase()||Ka[i.type.toUpperCase()])&&this._analyticsPlugin.capturePageAction(i,a,{},o);break}i=i.parentElement||i.parentNode}},e}();function Xa(e,t,n){var r="";return t&&t[n]?r=t[n]:e&&(r=e[n]),r}!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.NAVIGATIONBACK=1]="NAVIGATIONBACK",e[e.NAVIGATION=2]="NAVIGATION",e[e.NAVIGATIONFORWARD=3]="NAVIGATIONFORWARD",e[e.APPLY=4]="APPLY",e[e.REMOVE=5]="REMOVE",e[e.SORT=6]="SORT",e[e.EXPAND=7]="EXPAND",e[e.REDUCE=8]="REDUCE",e[e.CONTEXTMENU=9]="CONTEXTMENU",e[e.TAB=10]="TAB",e[e.COPY=11]="COPY",e[e.EXPERIMENTATION=12]="EXPERIMENTATION",e[e.PRINT=13]="PRINT",e[e.SHOW=14]="SHOW",e[e.HIDE=15]="HIDE",e[e.MAXIMIZE=16]="MAXIMIZE",e[e.MINIMIZE=17]="MINIMIZE",e[e.BACKBUTTON=18]="BACKBUTTON",e[e.STARTPROCESS=20]="STARTPROCESS",e[e.PROCESSCHECKPOINT=21]="PROCESSCHECKPOINT",e[e.COMPLETEPROCESS=22]="COMPLETEPROCESS",e[e.SCENARIOCANCEL=23]="SCENARIOCANCEL",e[e.DOWNLOADCOMMIT=40]="DOWNLOADCOMMIT",e[e.DOWNLOAD=41]="DOWNLOAD",e[e.SEARCHAUTOCOMPLETE=60]="SEARCHAUTOCOMPLETE",e[e.SEARCH=61]="SEARCH",e[e.SEARCHINITIATE=62]="SEARCHINITIATE",e[e.TEXTBOXINPUT=63]="TEXTBOXINPUT",e[e.PURCHASE=80]="PURCHASE",e[e.ADDTOCART=81]="ADDTOCART",e[e.VIEWCART=82]="VIEWCART",e[e.ADDWISHLIST=83]="ADDWISHLIST",e[e.FINDSTORE=84]="FINDSTORE",e[e.CHECKOUT=85]="CHECKOUT",e[e.REMOVEFROMCART=86]="REMOVEFROMCART",e[e.PURCHASECOMPLETE=87]="PURCHASECOMPLETE",e[e.VIEWCHECKOUTPAGE=88]="VIEWCHECKOUTPAGE",e[e.VIEWCARTPAGE=89]="VIEWCARTPAGE",e[e.VIEWPDP=90]="VIEWPDP",e[e.UPDATEITEMQUANTITY=91]="UPDATEITEMQUANTITY",e[e.INTENTTOBUY=92]="INTENTTOBUY",e[e.PUSHTOINSTALL=93]="PUSHTOINSTALL",e[e.SIGNIN=100]="SIGNIN",e[e.SIGNOUT=101]="SIGNOUT",e[e.SOCIALSHARE=120]="SOCIALSHARE",e[e.SOCIALLIKE=121]="SOCIALLIKE",e[e.SOCIALREPLY=122]="SOCIALREPLY",e[e.CALL=123]="CALL",e[e.EMAIL=124]="EMAIL",e[e.COMMUNITY=125]="COMMUNITY",e[e.SOCIALFOLLOW=126]="SOCIALFOLLOW",e[e.VOTE=140]="VOTE",e[e.SURVEYINITIATE=141]="SURVEYINITIATE",e[e.SURVEYCOMPLETE=142]="SURVEYCOMPLETE",e[e.REPORTAPPLICATION=143]="REPORTAPPLICATION",e[e.REPORTREVIEW=144]="REPORTREVIEW",e[e.SURVEYCHECKPOINT=145]="SURVEYCHECKPOINT",e[e.CONTACT=160]="CONTACT",e[e.REGISTRATIONINITIATE=161]="REGISTRATIONINITIATE",e[e.REGISTRATIONCOMPLETE=162]="REGISTRATIONCOMPLETE",e[e.CANCELSUBSCRIPTION=163]="CANCELSUBSCRIPTION",e[e.RENEWSUBSCRIPTION=164]="RENEWSUBSCRIPTION",e[e.CHANGESUBSCRIPTION=165]="CHANGESUBSCRIPTION",e[e.REGISTRATIONCHECKPOINT=166]="REGISTRATIONCHECKPOINT",e[e.CHATINITIATE=180]="CHATINITIATE",e[e.CHATEND=181]="CHATEND",e[e.TRIALSIGNUP=200]="TRIALSIGNUP",e[e.TRIALINITIATE=201]="TRIALINITIATE",e[e.SIGNUP=210]="SIGNUP",e[e.FREESIGNUP=211]="FREESIGNUP",e[e.PARTNERREFERRAL=220]="PARTNERREFERRAL",e[e.LEARNLOWFUNNEL=230]="LEARNLOWFUNNEL",e[e.LEARNHIGHFUNNEL=231]="LEARNHIGHFUNNEL",e[e.SHOPPINGINTENT=232]="SHOPPINGINTENT",e[e.VIDEOSTART=240]="VIDEOSTART",e[e.VIDEOPAUSE=241]="VIDEOPAUSE",e[e.VIDEOCONTINUE=242]="VIDEOCONTINUE",e[e.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT",e[e.VIDEOJUMP=244]="VIDEOJUMP",e[e.VIDEOCOMPLETE=245]="VIDEOCOMPLETE",e[e.VIDEOBUFFERING=246]="VIDEOBUFFERING",e[e.VIDEOERROR=247]="VIDEOERROR",e[e.VIDEOMUTE=248]="VIDEOMUTE",e[e.VIDEOUNMUTE=249]="VIDEOUNMUTE",e[e.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN",e[e.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN",e[e.VIDEOREPLAY=252]="VIDEOREPLAY",e[e.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD",e[e.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK",e[e.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL",e[e.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL",e[e.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL",e[e.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE",e[e.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL",e[e.VIRTUALEVENTJOIN=260]="VIRTUALEVENTJOIN",e[e.VIRTUALEVENTEND=261]="VIRTUALEVENTEND",e[e.JOINTEAMSMEETINGEVENT=262]="JOINTEAMSMEETINGEVENT",e[e.IMPRESSION=280]="IMPRESSION",e[e.CLICK=281]="CLICK",e[e.RICHMEDIACOMPLETE=282]="RICHMEDIACOMPLETE",e[e.ADBUFFERING=283]="ADBUFFERING",e[e.ADERROR=284]="ADERROR",e[e.ADSTART=285]="ADSTART",e[e.ADCOMPLETE=286]="ADCOMPLETE",e[e.ADSKIP=287]="ADSKIP",e[e.ADTIMEOUT=288]="ADTIMEOUT",e[e.OTHER=300]="OTHER"}(ja||(ja={}));var Ja=function(){function e(e,t,n,r,i,a,o){this._webAnalyticsPlugin=e,this._config=t,this._contentHandler=n,this._id=r,this._pageTagsCallback=i,this.metaTags=a,this._traceLogger=o,this._pageTags={}}return e.prototype._setBasicProperties=function(e,t){e.ver="1.0",e.id=this._id.getLastPageViewId(),hn(e.name)||(e.name=function(e,t){if(t&&t.pageName)return t.pageName;if(e.callback&&"function"==typeof e.callback.pageName)return e.callback.pageName();if(e.coreData&&e.coreData.pageName)return e.coreData.pageName;var n=(je()||{}).pathname||"",r=n.split("/");return n=r&&""!==r[r.length-1]?r[r.length-1]:"Undefined"}(this._config,t)),!hn(e.uri)&&gn&&(e.uri=Fa(this._config,je()))},e.prototype._setCommonProperties=function(e,t,n){var r;this._setBasicProperties(e,n),this._setPageTags(e,n),this._pageTypeMetaTag=Xa(this.metaTags,this._config.coreData,"pageType"),this._marketMetaTag=Xa(this.metaTags,this._config.coreData,"market"),this._behaviorMetaTag=Xa(this.metaTags,this._config.coreData,"behavior"),hn(n.pageType)&&(e.pageType=n.pageType),hn(this._pageTypeMetaTag)&&!hn(e.pageType)&&(e.pageType=this._pageTypeMetaTag),hn(this._marketMetaTag)&&(e.market=this._marketMetaTag),e.isLoggedIn=(r=this._config).callback&&"function"==typeof r.callback.signedinStatus?r.callback.signedinStatus():r.isLoggedIn,t.cookieEnabled=kt()},e.prototype._setPageTags=function(e,t){var n=this;n._pageTags={},n.metaTags&&(n._pageTags.metaTags=n._pageTags.metaTags||{},V(n.metaTags,(function(e,t){"behavior"!==e&&"market"!==e&&"pageType"!==e&&(n._pageTags.metaTags[e]=t)}))),n._config.coreData&&n._config.coreData.pageTags&&(n._pageTags=Sn(!0,n._pageTags,n._config.coreData.pageTags)),n._pageTagsCallback&&(n._pageTags=Sn(!0,n._pageTags,n._pageTagsCallback())),hn(t.pageTags)&&(n._pageTags=Sn(!0,n._pageTags,t.pageTags)),e.properties=e.properties||{},e.properties.pageTags=n._pageTags},e.prototype._getBehavior=function(e){var t;return e&&hn(e.behavior)?t=e.behavior:hn(this._behaviorMetaTag)&&(t=this._behaviorMetaTag),this._getValidBehavior(t)},e.prototype._getValidBehavior=function(e){if(hn(e)){var t=void 0,n=parseInt(e);if((t=isNaN(n)?ja[e]:n)in ja)return t}return 0},e}(),$a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.capturePageView=function(e,t){e=hn(e)?e:{};var n={},r=hn(t)?t:{};this._setCommonProperties(n,r,e),n.refUri=hn(e.referrerUri)?e.referrerUri:this._config.coreData.referrerUri,n.isManual=!e.isAuto;var i=qa(this._config,this._traceLogger);i&&(r.cookies=i),r.behavior=this._getBehavior(e),this._webAnalyticsPlugin.trackPageView(n,r)},t}(Ja),Ya=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.trackPageAction=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var r={name:"Ms.Web.PageAction",baseType:"PageActionData",ext:n,data:{},baseData:{},latency:Te};N(e.sync)||(r.sync=e.sync),r.baseData.name=e.name,r.baseData.uri=e.uri,r.baseData.market=e.market,r.baseData.pageType=e.pageType,r.baseData.isLoggedIn=e.isLoggedIn,r.baseData.id=e.id,r.baseData.properties=e.properties,r.baseData.ver=e.ver,r.baseData.actionType=e.actionType,r.baseData.behavior=e.behavior,r.baseData.clickCoordinates=e.clickCoordinates,r.baseData.content=e.content,r.baseData.contentVer=e.contentVer,r.baseData.targetUri=e.targetUri,V(t,(function(e,t){r.data[e]||(r.data[e]=t)})),this._webAnalyticsPlugin.core.track(r)},t.prototype.capturePageAction=function(e,t,n,r){t=hn(t)?t:{};var i={},a=hn(n)?n:{};this._setCommonProperties(i,a,t),i.isManual=!t.isAuto,i.behavior=this._getBehavior(t);var o,s,c,u={};if(e=e,r)i.behavior=9;else{var l=this._config||{};if((e&&N(l.syncPageActionNavClick)||l.syncPageActionNavClick)&&(t.actionType===Pa||t.actionType===Ma)&&"a"===e.tagName.toLowerCase()){var f=(e.getAttribute("href")||"").toLowerCase();f&&(F(f,"https:")||F(f,"http:")||F(f,".")||F(f,"/"))&&(i.sync=3)}}if(e&&(i.targetUri=function(e){var t="";switch(e.tagName){case"A":case"AREA":t=e.href||"";break;case"IMG":t=Va(e);break;case"INPUT":var n=e.type;if(n&&La[n.toUpperCase()]){var r=je()||{};t=e.form?e.form.action||r.pathname||"":r.pathname||""}}return t}(e),(u=Sn(u=this._contentHandler.getElementContent(e,Aa.PAGE_ACTION),this._getCustomTags(e)))&&u.bhvr&&!hn(t.behavior))){var p=(s="bhvr",(o=u)&&o[s]&&(c=o[s],delete o[s]),c);i.behavior=this._getValidBehavior(p)}hn(t.actionType)&&(i.actionType=t.actionType),hn(t.clickCoordinateX)&&hn(t.clickCoordinateY)&&(i.clickCoordinates=t.clickCoordinateX+"X"+t.clickCoordinateY),hn(t.targetUri)&&(i.targetUri=t.targetUri),i.contentVer="2.0";var d=this._config.callback.pageActionContentTags;i.content=Ea(JSON.stringify(Sn(t.content||u,"function"==typeof d?d(e):{},t&&t.contentTags?t.contentTags:{}))),a.timeToAction=this._getTimeToClick(),a.refUri=hn(t.refUri)?t.refUri:this._config.coreData.referrerUri;var g=qa(this._config,this._traceLogger);g&&(a.cookies=g),this.trackPageAction(i,a)},t.prototype._getCustomTags=function(e){for(var t={};e;){if(!Ua(e))for(var n in e.attributes)if(n&&e.attributes[n]){var r=e.attributes[n].name;r&&0===r.toLowerCase().indexOf("ms.")&&(t[r]=e.attributes[n].value)}e=e.parentElement||e.parentNode}return t},t.prototype._getTimeToClick=function(){var e=Be();if(e&&e.timing){var t=e.timing.navigationStart;if(t&&0!==t)return(new Date).getTime()-t}return-1},t}(Ja),Za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.trackContentUpdate=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var r={name:"Ms.Web.ContentUpdate",baseType:"ContentUpdateData",ext:n,data:{},baseData:{},latency:Ie};Q(["name","uri","market","pageType","isLoggedIn","id","properties","ver","actionType","behavior","pageHeight","content","contentVer","vpHeight","vpWidth","vScrollOffset","hScrollOffset"],(function(t){r.baseData[t]=e[t]})),V(t,(function(e,t){r.data[e]||(r.data[e]=t)})),this._webAnalyticsPlugin.core.track(r)},t.prototype.captureContentUpdate=function(e,t){e=hn(e)?e:{};var n={},r=hn(t)?t:{};this._setCommonProperties(n,r,e),n.behavior=this._getBehavior(e),hn(e.actionType)&&(n.actionType=e.actionType);var i=ka(),a=wa();n.pageHeight=dn?document.body.scrollHeight:null,n.vpHeight=i.h,n.vpWidth=i.w,n.vScrollOffset=a.v,n.hScrollOffset=a.h,n.contentVer="2.0",n.isManual=!e.isAuto;var o=this._getContentFormatted(e.content)||JSON.stringify(this._contentHandler.getVisibleContent());o&&(n.content=o),hn(e.isDomComplete)?r.isDomComplete=e.isDomComplete:r.isDomComplete=!1,this.trackContentUpdate(n,r)},t.prototype._getContentFormatted=function(e){if(hn(e))return"[object Array]"===Object.prototype.toString.call(e)?JSON.stringify(e):Ea(JSON.stringify(e))},t}(Ja),eo=function(e){function t(t,n,r,i,a,o){var s=e.call(this,t,n,null,r,{},{},i)||this;return s._webAnalyticsPlugin=t,s._config=n,s._id=r,s._traceLogger=i,s._timestamp=a,s._maxScroll=o,s}return Object(o.b)(t,e),t.prototype.trackPageUnload=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var r={name:"Ms.Web.PageUnload",baseType:"PageUnloadData",ext:n,data:{},baseData:{},latency:Ie},i=this._config||{};(N(i.syncUnloadAction)||i.syncUnloadAction)&&(r.sync=3),r.baseData.name=e.name,r.baseData.uri=e.uri,r.baseData.id=e.id,r.baseData.properties=e.properties,r.baseData.ver=e.ver,r.baseData.market=e.market,r.baseData.pageType=e.pageType,r.baseData.isLoggedIn=e.isLoggedIn,V(t,(function(e,t){r.data[e]||(r.data[e]=t)})),this._webAnalyticsPlugin.core.track(r)},t.prototype.capturePageUnload=function(e,t){e=hn(e)?e:{};var n={},r=hn(t)?t:{},i=dn?document.body.scrollHeight:0;if(this._setBasicProperties(n,e),n.isManual=!e.isAuto,r.dwellTime=this._timestamp._recordTimeSpan("dwellTime",!0),r.scrollDepth=e.scrollDepth||this._maxScroll.v.toString()+"/"+i.toString(),r.vpHeight=ka().h,r.vScrollOffset=e.vScrollOffset||this._maxScroll.v,gn){var a=Be(),o=a?a.timing:null;o&&o.loadEventStart&&o.navigationStart&&o.loadEventStart>0&&(r.pageLoadTime=o.loadEventStart-o.navigationStart)}this.trackPageUnload(n,r)},t}(Ja),to=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.b)(t,e),t.prototype.capturePageViewPerformance=function(e,t){e=hn(e)?e:{};var n={},r=hn(t)?t:{};this._setBasicProperties(n,e),this._setPageTags(n,e),n.isManual=!e.isAuto,r.behavior=this._getBehavior(e),r.vpHeight=e.vpHeight,r.vpWidth=e.vpWidth,r.framework=e.framework,r.systemTiming=e.systemTiming,r.customTiming=e.customTiming,this._webAnalyticsPlugin._populatePageViewPerformance(n),this._webAnalyticsPlugin.trackPageViewPerformance(n,r)},t}(Ja),no=function(){function e(e){this.core=e,this.appUserId=null,this.firstPageView=!1,this._cookieMgr=xt(e),this.lastPageViewId=In(),this.traceId=this.createTraceId()}return e.visitorId=function(){return bn(xt(null),"MUID")},e.prototype.createTraceId=function(){return In().replace(/-/g,"")},e.prototype.getTraceId=function(){return this.traceId},e.prototype.getLastPageViewId=function(){return this.lastPageViewId},e.prototype.initializeIds=function(){this.firstPageView?(this.traceId=this.createTraceId(),this.lastPageViewId=In()):this.firstPageView=!0},e.prototype.getMuidUserId=function(){var e=bn(this._cookieMgr,"MUID");return e&&e.length?"t:"+e:e},e.prototype.setAppUserId=function(t){if(this.appUserId=null,t){for(var n=0;n<e.userIdPrefixes.length;n++)if(e.userIdPrefixes[n]===t.substring(0,2)){this.appUserId=t;break}this.appUserId}},e.prototype.setDeviceClass=function(e){e&&(this.deviceClass=e)},e.prototype.getDeviceClass=function(){return this.deviceClass},e.prototype.getAppUserId=function(){return this.appUserId},e.prototype.syncMuid=function(e){var t=je();if(t&&e){var n=(t.protocol||"http:")+"//"+e+"/c.gif?DI=4050&did=1&t=",r=Ue();if(r){var i=r.createElement("IMG");i.style.display="none",i.src=n,i.hidden="",i["aria-hidden"]="true",i.role="presentation"}return!0}return!1},e.prototype.getMuidHost=function(e){return{"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"}[e]},e.userIdPrefixes=["c:","i:","w:"],e}(),ro=function(){function e(){this._timers=[]}return e.prototype._recordTimeSpan=function(e,t){var n=(new Date).getTime();if(t)return n-this._timers[e];this._timers[e]=n},e}(),io=function(e){function t(){var n,r,i,a,o,s,c,u=e.call(this)||this;u.identifier="WebAnalyticsPlugin",u.version="3.1.10";var l,f,p,d={h:0,v:0},g=!1;return S(t,u,(function(e,t){function h(e){var t={useDefaultContentName:!0,useShortNameForContentBlob:!0,debounceMs:{scroll:600,resize:3e3},biBlobAttributeTag:"data-m",isLoggedIn:!1,shareAuthStatus:!1,cookiesToCollect:["MSFPC","ANON"],autoCapture:{pageView:!0,onLoad:!0,onUnload:!0,click:!0,scroll:!1,resize:!1,lineage:!1,jsError:!0,msTags:!0},callback:{pageName:null,pageActionPageTags:null,pageViewPageTags:null,contentUpdatePageTags:null,pageActionContentTags:null,signedinStatus:null},coreData:{referrerUri:dn?document.referrer:"",requestUri:"",pageName:"",pageType:"",product:"",market:"",pageTags:{}},autoPopulateParentIdAndParentName:!1,syncMuid:!1,muidDomain:"microsoft.com"},n=[];if(V(t,(function(e,t){M(t)&&n.push(e)})),e)return function(e,t){ma(e),Q(t,(function(t,n){M(e[t])?ma(e[t]):delete e[t]}))}(e,n),Sn(!0,t,e)}function v(e){var t={};return void 0!==e.isManual&&(t.web={},t.web.isManual=void 0===e.isManual||e.isManual,delete e.isManual),t}e._telemetryInitializers=e._telemetryInitializers||[],e.updateCoreDataConfig=function(e){c.coreData=Sn(!0,c.coreData,e)},e.refreshMetadata=function(){var e=f.getMetadata();n.metaTags=e,i.metaTags=e,r.metaTags=e,o.metaTags=e},e.initialize=function(g,v,m){var y=v;g.extensionConfig=g.extensionConfig||[],g.extensionConfig[e.identifier]=g.extensionConfig[e.identifier]||{},e._config=c=h(g.extensionConfig[e.identifier]);var C=c.autoCapture,T=y.getWParam;if(y.getWParam=function(){var e=0;return c.mscomCookies&&(e|=1),e|T()},g.extensionConfig[e.identifier].disableExceptionTracking=!C.jsError,t.initialize(g,v,m),f=f||new Ga(c,e.diagLog()),p=p||new Qa(e,e.diagLog()),c.manageCv){for(var b=0;b<m.length;b++)if("CorrelationVectorPlugin"===m[b].identifier){c.manageCv=!0,s=m[b];break}s||(e.diagLog().throwInternal(fe.WARNING,Ae.CVPluginNotAvailable,'Automatic Cv management is set to "true" in config.  However, cv plugin is not available. Disabling automatic Cv management'),c.manageCv=!1)}e.id=new no(v),l=new ro;var I=f.getMetadata();n=new $a(u,c,f,e.id,c.callback.pageViewPageTags,I,e.diagLog()),r=new Ya(u,c,f,e.id,c.callback.pageActionPageTags,I,e.diagLog()),i=new Za(u,c,f,e.id,c.callback.contentUpdatePageTags,I,e.diagLog()),a=new eo(u,c,e.id,e.diagLog(),l,d),o=new to(u,c,f,e.id,c.callback.pageViewPageTags,I,e.diagLog()),c.syncMuid&&Ha((function(){var t=e.id.getMuidHost(c.muidDomain);e.id.syncMuid(t)})),C.pageView&&p.pageView(),C.onLoad&&p.onLoad(),C.click&&p.click(),C.scroll&&p.scroll(c.debounceMs),C.resize&&p.resize(c.debounceMs),(C.onUnload||c.manualPageUnload)&&p.maxScroll(d),C.onUnload&&p.onUnload()},e.processTelemetry=function(t,n){kn(t,e.identifier);var r=t;"PageviewData"===r.baseType?(r.name="Ms.Web.PageView",r.latency=Ie):"ExceptionData"===r.baseType?(r.name="Ms.Web.ClientError",r.latency=Te,delete r.baseData.aiDataContract):"PageviewPerformanceData"===r.baseType&&(r.name="Ms.Web.PageViewPerformance",r.latency=Te,delete r.baseData.isValid,delete r.baseData.durationMs);var i=null;"PageviewData"!==r.baseType?c.manageCv&&(i=s.getCv())&&i.increment():c.manageCv&&((i=s.getCv())?i.seed():i=s.getCv());for(var a=!1,o=e._telemetryInitializers.length,u=0;u<o;++u){var l=e._telemetryInitializers[u];if(l&&!1===l.apply(null,[r])){a=!0;break}}a||e.processNext(r,n)},e.addTelemetryInitializer=function(t){e._telemetryInitializers.push(t)},e.trackEvent=function(t,n){t.latency=t.latency||Te,t.baseData=t.baseData||{},t.data=t.data||{},hn(n)&&V(n,(function(e,n){t.data[e]=n})),e.core.track(t)},e.trackPageView=function(n,r){l._recordTimeSpan("dwellTime",!1),d.v=0,g=!1,e.id.initializeIds(),n.id=e.id.getLastPageViewId(),t.sendPageViewInternal(n,r,v(n))},e.capturePageView=function(e,t){n.capturePageView(e,t)},e.trackPageViewPerformance=function(e,n){t.sendPageViewPerformanceInternal(e,n,v(e))},e.capturePageViewPerformance=function(e,t){o.capturePageViewPerformance(e,t)},e.trackException=function(e,n){e.id=e.id||In(),t.sendExceptionInternal(e,n,v(e))},e.trackPageAction=function(e,t){r.trackPageAction(e,t)},e.capturePageAction=function(e,t,n,i){(function(e,t){return!(t&&t.isAuto&&hn(Ia(e,"data-bi-mto")))&&!ba(e)})(e,t)&&r.capturePageAction(e,t,n,i)},e.trackContentUpdate=function(e,t){i.trackContentUpdate(e,t)},e.captureContentUpdate=function(e,t){i.captureContentUpdate(e,t)},e.trackPageUnload=function(e,t){g||(g=!0,a.trackPageUnload(e,t))},e.capturePageUnload=function(e,t){g||(g=!0,a.capturePageUnload(e,t))},e._populatePageViewPerformance=function(t){e._pageViewPerformanceManager.populatePageViewPerformanceEvent(t)},e.setContentHandler=function(e){f=e},e.setAutoCaptureHandler=function(e){p=e}})),u}return Object(o.b)(t,e),t}(ha),ao=["snippet","_webAnalytics","_postChannel","_propertyManager","_extensions"],oo=function(e){function t(){var t=e.call(this)||this;return t._postChannel=new Kr,t._propertyManager=new xr,t._webAnalytics=new io,t}return Object(o.b)(t,e),t.prototype.initialize=function(t,n){var r=this,i=this;he(i,(function(){return"ApplicationInsights:initialize"}),(function(){var a=[i._propertyManager,i._webAnalytics];if(n&&(a=a.concat(n)),t||ue("You must provide a config object!"),t.channels&&t.channels.length>0){for(var o=!1,s=0;s<t.channels[0].length;s++)if(t.channels[0][s].identifier===i._postChannel.identifier){o=!0;break}o||t.channels[0].push(i._postChannel)}else t.channels=[[i._postChannel]];var c=t.extensionConfig=t.extensionConfig||[];c[i._postChannel.identifier]=t?t.channelConfiguration:{},c[i._propertyManager.identifier]=t?t.propertyConfiguration:{},c[i._webAnalytics.identifier]=t?t.webAnalyticsConfiguration:{};try{e.prototype.initialize.call(r,t,a)}catch(e){i.logger.throwInternal(fe.CRITICAL,Ae.FailedToInitializeSDK,"Failed to initialize SDK."+Xe(e))}}),(function(){return{config:t,extensions:n}}))},t.prototype.getPropertyManager=function(){return this._propertyManager},t.prototype.getPostChannel=function(){return this._postChannel},t.prototype.getWebAnalyticsExtension=function(){return this._webAnalytics},t.prototype.addTelemetryInitializer=function(e){this._webAnalytics.addTelemetryInitializer(e)},t.prototype.trackEvent=function(e,t){this._webAnalytics.trackEvent(e,t)},t.prototype.trackPageView=function(e,t){this._webAnalytics.trackPageView(e,t)},t.prototype.trackPageAction=function(e,t){this._webAnalytics.trackPageAction(e,t)},t.prototype.trackContentUpdate=function(e,t){this._webAnalytics.trackContentUpdate(e,t)},t.prototype.trackPageUnload=function(e,t){this._webAnalytics.trackPageUnload(e,t)},t.prototype.trackException=function(e,t){this._webAnalytics.trackException(e,t)},t.prototype.trackPageViewPerformance=function(e,t){this._webAnalytics.trackPageViewPerformance(e,t)},t.prototype.capturePageView=function(e,t){this._webAnalytics.capturePageView(e,t)},t.prototype.capturePageViewPerformance=function(e,t){this._webAnalytics.capturePageViewPerformance(e,t)},t.prototype.capturePageAction=function(e,t,n,r){this._webAnalytics.capturePageAction(e,t,n,r)},t.prototype.captureContentUpdate=function(e,t){this._webAnalytics.captureContentUpdate(e,t)},t.prototype.capturePageUnload=function(e,t){this._webAnalytics.capturePageUnload(e,t)},t.prototype._onerror=function(e){this._webAnalytics._onerror(e)},t.prototype.emptySnippetQueue=function(e){var t=this;try{if(function(){if(e){_(t._snippetVersion)||t._snippetVersion,V(t,(function(t,n){z(t)&&!R(n)&&t&&"_"!==t[0]&&-1===ao.indexOf(t)&&(e[t]=n)}))}}(),j(e.queue)){for(var n=e.queue.length,r=0;r<n;r++){(0,e.queue[r])()}e.queue=void 0,delete e.queue}}catch(e){e&&R(e.toString)&&e.toString()}},t.prototype.updateSnippetDefinitions=function(e){this.snippet=e,this._snippetVersion=""+(e.sv||e.version||""),function(e,t,n){if(e&&t&&e!==t&&M(e)&&M(t)){var r=function(r){if(z(r)){var i=t[r];R(i)?n&&!n(r,!0,t,e)||(e[r]=(a=r,function(){var e=arguments;return t[a].apply(t,e)})):n&&!n(r,!1,t,e)||(O(e,r)&&delete e[r],ne(e,r,(function(){return t[r]}),(function(e){t[r]=e}))||(e[r]=i))}var a};for(var i in t)r(i)}}(e,this,(function(e){return e&&-1===ao.indexOf(e)}))},t}(Nn),so=0,co=1,uo=2;function lo(e){try{return e.responseText}catch(e){}return""}var fo=function(){function e(){}return e.prototype.makeRequest=function(e,t,n,r){var i,a=this;if(Ye()){var o=new XDomainRequest;o.open(n,e),o.onload=function(){r(200,lo(o),{})},o.onerror=function(){r(400,lo(o),{})},o.ontimeout=function(){r(500,lo(o),{})},o.onprogress=function(){},setTimeout((function(){o.send(t)}),0)}else if(Ge())fetch(e,(i={body:t,method:n,credentials:"include"},i[oi]=!0,i)).then((function(e){var t={};e.headers&&e.headers.forEach((function(e,n){t[n]=e})),r(e.status,JSON.stringify(e.json()),t)})).catch((function(e){r(0,e,{})}));else if(Ze()){var s=Pn(n,e,!0,!0);s.onload=function(){r(s.status,lo(s),a._convertAllHeadersToMap(s.getAllResponseHeaders()))},s.onerror=function(){r(s.status,lo(s),a._convertAllHeadersToMap(s.getAllResponseHeaders()))},s.ontimeout=function(){r(s.status,lo(s),a._convertAllHeadersToMap(s.getAllResponseHeaders()))},s.send(t)}},e.prototype._convertAllHeadersToMap=function(e){var t={};if(e)for(var n=e.split("\n"),r=0;r<n.length;++r){var i=n[r].split(": ");t[i[0]]=i[1]}return t},e}(),po=function(){function e(e,t,n){this._endpointUrl="",this._logger=n,this._endpointUrl=e,this._requestHandler=new fo,this.setAuthType(t)}return e.prototype.setAuthType=function(e){var t="";switch(e){case uo:t="aad.js";break;case co:t="msa.js"}this._getLoginUrlPath=this._endpointUrl+"auth/GetLoginUrl/"+t,this._signOutPath=this._endpointUrl+"auth/SignOut/"+t},e.prototype.startAuthHandshake=function(){var e=this;this._requestHandler.makeRequest(this._getLoginUrlPath,"","GET",(function(t,n,r){try{var i=JSON.parse(n).webResult.authLoginUrl,a=Ue();if(a){var o=a.createElement("iframe"),s=Math.floor(Math.random()*Math.floor(1e4));o.id="telframe"+s,o.style.display="none",o.src=i,a.body.appendChild(o),e._loginIframeId=o.id}}catch(t){e._logger.throwInternal(fe.CRITICAL,Ae.AuthHandShakeError,"Error with auth handshake process: "+t)}}))},e.prototype.cleanAuthIFrame=function(){var e=Ue();if(e){var t=e.getElementById(this._loginIframeId);t&&e.body.removeChild(t)}},e.prototype.signOutAndClearCookies=function(){this._requestHandler.makeRequest(this._signOutPath,"","POST",(function(e,t,n){}))},e}(),go=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.identifier="AuthPlugin",t.priority=190,t.version="3.1.10",t._eventQueue=[],t}return Object(o.b)(t,e),t.prototype.initialize=function(t,n,r){var i=this;i._core=n,e.prototype.initialize.call(this,t,n,r);i._getTelCtx();var a=i.identifier;i._authConfig=t.extensionConfig[a]||{},t.extensionConfig[a]=i._authConfig,i._handshakeInProgress=!1,i._authHandhshakeTimeoutMs=i._authConfig.handShakeTimeoutMs?i._authConfig.handShakeTimeoutMs:5e3;var o=i._authConfig.overrideAuthEndpointUrl?i._authConfig.overrideAuthEndpointUrl:t.endpointUrl;function s(){i._releaseEventQueue()}i._authHandler=new po(o,i._authConfig.authType,i.diagLog()),i._updateWParam();var c=t.disablePageUnloadEvents||[];en(s,c),tn(s,c);var u=Ve();u&&L(u,"message",(function(e){i._receiveMessage(e,o)}))},t.prototype.processTelemetry=function(e,t){var n=this;if(t=this._getTelCtx(t),kn(e,this.identifier),this._authConfig.authType!==so&&this._authConfig.loggedInStatusCallback&&!0===this._authConfig.loggedInStatusCallback()){var r=xt(this.core);if(!bn(r,"authBounced")){r.set("authBounced",K(new Date),1800),this._handshakeInProgress=!0,this._authHandhshakeTimeout=setTimeout((function(){n._completeAuthHandshake()}),this._authHandhshakeTimeoutMs),this._authHandler.startAuthHandshake()}}this._handshakeInProgress?this._eventQueue.push({ctx:t,item:e}):this.processNext(e,t)},t.prototype.signOut=function(){xt(this.core).del("authBounced"),this._authHandler.signOutAndClearCookies(),this._completeAuthHandshake()},t.prototype.setAuthType=function(e){this._completeAuthHandshake(),this._authConfig.authType=e,this._authHandler.setAuthType(e),this._updateWParam()},t.prototype._updateWParam=function(){var e=this;if(this._authConfig.authType!=so){var t=this._core,n=t.getWParam;t.getWParam=function(){var t=0;return(t=e._authConfig.authType===co?8|t:16|t)|(n?n():0)}}},t.prototype._receiveMessage=function(e,t){var n=Ue();if(n){var r=n.createElement("a");r.href=t;var i=r.protocol+"//"+r.hostname;if((e.origin===i||"https://login.microsoftonline.com"===e.origin)&&e.data)try{this._completeAuthHandshake()}catch(e){this.diagLog().throwInternal(fe.CRITICAL,Ae.AuthRedirectFail,"Error receiving auth redirect message: "+e)}}},t.prototype._completeAuthHandshake=function(){this._authHandhshakeTimeout&&clearTimeout(this._authHandhshakeTimeout),this._authHandler&&this._authHandler.cleanAuthIFrame(),this._handshakeInProgress=!1,this._releaseEventQueue()},t.prototype._releaseEventQueue=function(){Q(this._eventQueue,(function(e){e.ctx.processNext(e.item)})),this._eventQueue=[]},t}(dt),ho=function(){},vo=function(){function e(e,t){this._base="",this._currentElement=0,this._base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this._cv1Constants=new ho,this._cv2Constants=new ho,this._cvVersionAtLatestValidityCheck=2,this._traceLogger=ct(t),this._cv1Constants.maxCorrelationVectorLength=63,this._cv1Constants.baseLength=16,this._cv1Constants.validationPattern=new RegExp("^["+this._base64CharSet+"]{"+this._cv1Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._cv2Constants.maxCorrelationVectorLength=127,this._cv2Constants.baseLength=22,this._cv2Constants.validationPattern=new RegExp("^["+this._base64CharSet+"]{"+this._cv2Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._currentCvConstants=this._cv2Constants,this.init(e)}return e.prototype.isInit=function(){return this.isValid(this.storedCv())},e.prototype.storedCv=function(){return this._base.concat(".",this._currentElement.toString())},e.prototype.getValue=function(){var e=this.storedCv();if(this.isValid(e))return e},e.prototype.getRelatedCv=function(){return this._relatedCv},e.prototype.incrementExternal=function(e){if(this.isValid(e)){var t=e.split("."),n=t.length;t[n-1]=(parseInt(t[n-1],10)+1).toString();for(var r="",i=0;i<n;i++)r+=t[i],i<n-1&&(r+=".");var a=t[0].length===this._cv2Constants.baseLength?this._cv2Constants.maxCorrelationVectorLength:this._cv1Constants.maxCorrelationVectorLength;if(r.length<=a)return r}},e.prototype.canExtend=function(){var e=this.storedCv();return!!this.isValid(e)&&this._isLeqThanMaxCorrelationVectorLength(e.length+2)},e.prototype.canIncrement=function(){return!!this.isValid(this.storedCv())&&this._isLeqThanMaxCorrelationVectorLength(this._base.length+1+(this._currentElement+1+"").length)},e.prototype.setValue=function(e){if(this.isValid(e)){var t=e.lastIndexOf(".");return t>1?(this._base=e.substr(0,t),this._currentElement=parseInt(e.substr(t+1),10)):(this._base=e,this._currentElement=0),!0}return this._traceLogger.throwInternal(fe.WARNING,Ae.InvalidCorrelationValue,"Cannot set invalid correlation vector value"),!1},e.prototype.setValueLegacy=function(e){return this.setValue(e),this.getValue()},e.prototype.seed=function(){for(var e="",t=0;t<this._currentCvConstants.baseLength;t++)e+=this._base64CharSet.charAt(Math.floor(Math.random()*this._base64CharSet.length));return e},e.prototype.extend=function(){if(this.canExtend())return this._base=this._base.concat(".",this._currentElement.toString()),this._currentElement=0,this.storedCv()},e.prototype.increment=function(){if(this.canIncrement())return this._currentElement=this._currentElement+1,this.storedCv()},e.prototype.validateWithCv1=function(e){if(this._cv1Constants.validationPattern.test(e)&&e.length<=this._cv1Constants.maxCorrelationVectorLength)return!0},e.prototype.validateWithCv2=function(e){if(this._cv2Constants.validationPattern.test(e)&&e.length<=this._cv2Constants.maxCorrelationVectorLength)return!0},e.prototype.useCv1=function(){this._currentCvConstants=this._cv1Constants},e.prototype.useCv2=function(){this._currentCvConstants=this._cv2Constants},e.prototype.isValid=function(e){if(e){var t=e.split(".")[0];if(t){if(16===t.length)return this._cvVersionAtLatestValidityCheck=1,this.validateWithCv1(e);if(22===t.length)return this._cvVersionAtLatestValidityCheck=2,this.validateWithCv2(e)}}},e.prototype.init=function(e){return e?this.setValue(e):(this._base=this.seed(),this._currentElement=0),this.getValue()},e.prototype.initLegacy=function(e){return this.init(e)},e.prototype._isLeqThanMaxCorrelationVectorLength=function(e){return 1===this._cvVersionAtLatestValidityCheck?e<=this._cv1Constants.maxCorrelationVectorLength:e<=this._cv2Constants.maxCorrelationVectorLength},e}(),mo=function(e){function t(t){var n=e.call(this)||this;return n.identifier="CorrelationVectorPlugin",n.priority=159,n.version="3.1.10",n._cvInitialValue=t,n._cv=n._cvInitialValue?new vo(n._cvInitialValue):new vo,n}return Object(o.b)(t,e),t.prototype.initialize=function(t,n,r){e.prototype.initialize.call(this,t,n,r)},t.prototype.processTelemetry=function(e,t){kn(e,this.identifier),e.ext=e.ext||{},e.ext.mscv=e.ext.mscv||{},e.ext.mscv.cV||this._cv&&this._cv.isInit()&&(e.ext.mscv.cV=this._cv.getValue()),this.processNext(e,t)},t.prototype.getCv=function(){return this._cv||this.diagLog().throwInternal(fe.WARNING,Ae.FailedToInitializeCorrelationVector,"Correlation Vector has not been initialized."),this._cv},t}(dt),yo=function(){function e(){}return e.prototype._setCommonProperties=function(e,t){hn(t.cV)&&(e.ext=e.ext||{},e.ext.mscv=e.ext.mscv||{},e.ext.mscv.cV=t.cV),e.baseData.operationName=t.operationName,e.baseData.latencyMs=t.latencyMs,e.baseData.serviceErrorCode=t.serviceErrorCode||-1,e.baseData.succeeded=t.succeeded,e.baseData.requestStatus=t.requestStatus,e.baseData.requestMethod=t.requestMethod,hn(t.target)&&(e.baseData.target=t.target),hn(t.responseContentType)&&(e.baseData.responseContentType=t.responseContentType),hn(t.protocol)&&(e.baseData.protocol=t.protocol),hn(t.protocolStatusCode)&&(e.baseData.protocolStatusCode=t.protocolStatusCode)},e}(),Co=function(){function e(){this._qosEvent=new yo}return e.prototype._setQosProperties=function(e,t){this._qosEvent._setCommonProperties(e,t),e.baseData.dependencyOperationName=t.dependencyOperationName,e.baseData.dependencyName=t.dependencyName,e.baseData.dependencyType=t.dependencyType||"WebService",hn(t.dependencyOperationVersion)&&(e.baseData.dependencyOperationVersion=t.dependencyOperationVersion),hn(t.responseSizeBytes)&&(e.baseData.responseSizeBytes=t.responseSizeBytes)},e}(),To=function(){function e(){this._qosEvent=new yo}return e.prototype._setQosProperties=function(e,t){this._qosEvent._setCommonProperties(e,t),hn(t.callerIpAddress)&&(e.baseData.callerIpAddress=t.callerIpAddress),hn(t.callerName)&&(e.baseData.callerName=t.callerName),hn(t.requestSizeBytes)&&(e.baseData.requestSizeBytes=t.requestSizeBytes),hn(t.operationVersion)&&(e.baseData.operationVersion=t.operationVersion)},e}();function bo(e){V(e,(function(t,n){(!hn(n)||"{}"===JSON.stringify(n)&&"callback"!==t)&&delete e[t]}))}function Io(e,t,n){var r=function(e,t){var n;e&&e[t]&&(n=e[t],delete e[t]);return n}(e,n);return t[n]?t[n]:r}function So(e,t){var n,r={},i=Ue();if(i){n=i.querySelectorAll("meta");for(var a=0;a<n.length;a++){var o=n[a];if(o.name)if(0===o.name.toLowerCase().indexOf(e))r[t?o.name.replace(e,""):o.name]=o.content}}return r}var Eo=["req","rsp","hkErr","fnErr"];function xo(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function wo(e,t,n,r,i){i>=0&&i<=2&&xo(e,(function(e,a){var o=e.cbks,s=o[Eo[i]];if(s){t.ctx=function(){return r[a]=r[a]||{}};try{s.apply(t.inst,n)}catch(e){var c=t.err;try{var u=o[Eo[2]];u&&(t.err=e,u.apply(t.inst,n))}catch(e){}finally{t.err=c}}}}))}var ko=Object.getPrototypeOf;function Ao(e,t,n){var r=null;return e&&(O(e,t)?r=e:n&&(r=Ao(function(e){if(e){if(ko)return ko(e);var t=e.__proto__||e[E.k]||e.constructor;if(t)return t}return null}(e),t,!1))),r}function Po(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){var i=Ao(e,t,r);if(i){var a=i[t];if(typeof a===E.h){var o=a._aiHooks;if(!o){var s=(u=o={i:0,n:t,f:a,h:[]},function(){var e=this,t=arguments,n=u.h,r={name:u.n,inst:e,ctx:null,set:s},i=[],a=o([r],t);function o(e,t){return xo(t,(function(t){e.push(t)})),e}function s(e,n){(t=o([],t))[e]=n,a=o([r],t)}wo(n,r,a,i,0);var c=u.f;try{r.rslt=c.apply(e,t)}catch(e){throw r.err=e,wo(n,r,a,i,3),e}return wo(n,r,a,i,1),r.rslt});s._aiHooks=o,i[t]=s}var c={id:o.i,cbks:n,rm:function(){var e=this.id;xo(o.h,(function(t,n){if(t.id===e)return o.h.splice(n,1),1}))}};return o.i++,o.h.push(c),c}}}var u;return null}function No(e,t,n){var r=0,i=e[t],a=e[n];return i&&a&&(r=ca(i,a)),r}function _o(e,t,n,r,i){var a=0,o=No(n,r,i);return o&&(a=Do(e,t,vi(o))),a}function Do(e,t,n){var r=0;e&&t&&n&&((e.ajaxPerf=e.ajaxPerf||{})[t]=n,r=1);return r}var Oo=function(){this.openDone=!1,this.setRequestHeaderDone=!1,this.sendDone=!1,this.abortDone=!1,this.stateChangeAttached=!1},Mo=function e(t,n,r){var i=r;this.perfMark=null,this.completed=!1,this.requestHeadersSize=null,this.requestHeaders=null,this.responseReceivingDuration=null,this.callbackDuration=null,this.ajaxTotalDuration=null,this.aborted=0,this.pageUrl=null,this.requestUrl=null,this.requestSize=0,this.method=null,this.status=null,this.requestSentTime=null,this.responseStartedTime=null,this.responseFinishedTime=null,this.callbackFinishedTime=null,this.endTime=null,this.xhrMonitoringState=new Oo,this.clientFailure=0,this.traceID=t,this.spanID=n,S(e,this,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?ea(e.requestUrl):null},e.getPathName=function(){return e.requestUrl?$r(i,ta(e.method,e.requestUrl)):null},e.CreateTrackItem=function(t,n,r){var i;if(e.ajaxTotalDuration=Math.round(1e3*ca(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var a=((i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,startTime:null,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method}).properties={HttpMethod:e.method},i);if(e.requestSentTime&&(a.startTime=new Date,a.startTime.setTime(e.requestSentTime)),function(e,t){var n=e.perfTiming,r=t.properties||{},i=0,a="redirect",o=a+"Start",s=a="End";if(n){i|=_o(r,a,n,o,s),i|=_o(r,"domainLookup",n,"domainLookupStart","domainLookupEnd"),i|=_o(r,"connect",n,"connectStart","connectEnd"),i|=_o(r,"request",n,"requestStart","requestEnd"),i|=_o(r,"response",n,"responseStart","responseEnd"),i|=_o(r,"networkConnect",n,"startTime","connectEnd"),i|=_o(r,"sentRequest",n,"requestStart","responseEnd");var c=n.duration;c||(c=No(n,"startTime","responseEnd")||0),i|=Do(r,"duration",c),i|=Do(r,"perfTotal",c);var u=n.serverTiming;if(u){var l={};Q(u,(function(e,t){var n=function(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}(e.name||""+t),r=l[n]||{};V(e,(function(e,t){("name"!==e&&z(t)||W(t))&&(r[e]&&(t=r[e]+";"+t),!t&&z(t)||(r[e]=t))})),l[n]=r})),i|=Do(r,"serverTiming",l)}i|=Do(r,"transferSize",n.transferSize),i|=Do(r,"encodedBodySize",n.encodedBodySize),i|=Do(r,"decodedBodySize",n.decodedBodySize)}else e.perfMark&&(i|=Do(r,"missing",e.perfAttempts));i&&(t.properties=r)}(e,a),n&&te(e.requestHeaders).length>0&&(a.properties=a.properties||{},a.properties.requestHeaders=e.requestHeaders),r){var o=r();if(o){var s=o.correlationContext;if(s&&(a.correlationContext=s),o.headerMap&&te(o.headerMap).length>0&&(a.properties=a.properties||{},a.properties.responseHeaders=o.headerMap),e.errorStatusText&&e.status>=400){var c=o.type;a.properties=a.properties||{},""!==c&&"text"!==c||(a.properties.responseText=o.responseText?o.statusText+" - "+o.responseText:o.statusText),"json"===c&&(a.properties.responseText=o.response?o.statusText+" - "+JSON.stringify(o.response):o.statusText)}}}return a}}))},Ro=function(){function e(t,n){this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?this.traceId=t:this.traceId=on(),n&&e.isValidSpanId(n)?this.spanId=n:this.spanId=on().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.toString=function(){return"".concat(this.version,"-").concat(this.traceId,"-").concat(this.spanId,"-").concat(this.traceFlag)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}(),Lo=0;function Vo(e){var t="";try{_(e)||_(e.ajaxData)||_(e.ajaxData.requestUrl)||(t+="(url: '"+e.ajaxData.requestUrl+"')")}catch(e){}return t}function Uo(e,t,n,r,i){e.diagLog().throwInternal(fe.CRITICAL,t,n,r,i)}function Fo(e,t,n,r,i){e.diagLog().throwInternal(fe.WARNING,t,n,r,i)}function qo(e,t,n){return function(r){Uo(e,t,n,{ajaxDiagnosticsMessage:Vo(r.inst),exception:Xe(r.err)})}}function Ho(e,t){return e&&t?e.indexOf(t):-1}var jo,Bo=function(e){function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r,i,a,s,c,u,l=je(),f=!1,p=!1,d=l&&l.host&&l.host.toLowerCase(),g=t.getEmptyConfig(),h=!1,v=!1,m=0,y=!1,C=0,T=!1,b=[],I={};return S(t,n,(function(e,n){function l(e){var t=!0;return(e||g.ignoreHeaders)&&Q(g.ignoreHeaders,(function(n){if(n.toLowerCase()===e.toLowerCase())return t=!1,-1})),t}function S(e,t,n){b.push(function(e,t,n){return e?Po(e[E.k],t,n,!1):null}(e,t,n))}function w(e,t,n){var r=!1,i=((z(t)?t:(t||{}).url||"")||"").toLowerCase();if(Q(c,(function(e){var t=e;z(e)&&(t=new RegExp(e)),r||(r=t.test(i))})),r)return r;var a=Ho(i,"?"),o=Ho(i,"#");return(-1===a||-1!==o&&o<a)&&(a=o),-1!==a&&(i=i.substring(0,a)),_(e)?_(t)||(r="object"==typeof t&&!0===t[oi]||!!n&&!0===n[oi]):r=!0===e[oi]||!0===i[oi],!r&&i&&aa(i)&&(r=!0),r?I[i]||(I[i]=1):I[i]&&(r=!0),r}function k(e,t){var n=!0,r=p;return _(e)||(n=!0===t||!_(e.ajaxData)),r&&n}function A(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(e){}return null}function P(t){try{var n=t.getAllResponseHeaders();if(null!==n)if(-1!==Ho(n.toLowerCase(),Xi)){var r=t.getResponseHeader(zi);return oa.getCorrelationContext(r)}}catch(n){Fo(e,ve.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Vo(t),exception:Xe(n)})}}function N(e,t){if(t.requestUrl&&s&&y){var n=Be();if(n&&R(n.mark)){Lo++;var r=s+e+"#"+Lo;n.mark(r);var i=n.getEntriesByName(r);i&&1===i.length&&(t.perfMark=i[0])}}}function D(e,t,n,r){var i=t.perfMark,a=Be(),o=g.maxAjaxPerfLookupAttempts,s=g.ajaxPerfLookupDelay,c=t.requestUrl,u=0;!function l(){try{if(a&&i){u++;for(var f=null,p=a.getEntries(),d=p.length-1;d>=0;d--){var g=p[d];if(g){if("resource"===g.entryType)g.initiatorType!==e||-1===Ho(g.name,c)&&-1===Ho(c,g.name)||(f=g);else if("mark"===g.entryType&&g.name===i.name){t.perfTiming=f;break}if(g.startTime<i.startTime-1e3)break}}}!i||t.perfTiming||u>=o||!1===t.async?(i&&R(a.clearMarks)&&a.clearMarks(i.name),t.perfAttempts=u,n()):setTimeout(l,s)}catch(e){r(e)}}()}function O(t){var n="";try{_(t)||(n+="(url: '".concat("string"==typeof t?t:t.url,"')"))}catch(t){Uo(e,ve.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:Xe(t)})}return n}function M(t,n,r,i,a,s,c){function l(t,n,i){var a=i||{};a.fetchDiagnosticsMessage=O(r),n&&(a.exception=Xe(n)),Fo(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",a)}a&&(a.responseFinishedTime=sa(),a.status=n,D("fetch",a,(function(){var t,c=a.CreateTrackItem("Fetch",h,s);try{u&&(t=u({status:n,request:r,response:i}))}catch(t){Fo(e,ve.FailedAddingCustomDefinedRequestContext,"Failed to add custom defined request context as configured call back may missing a null check.")}c?(void 0!==t&&(c.properties=Object(o.a)(Object(o.a)({},c.properties),t)),e.trackDependencyDataInternal(c)):l(ve.FailedMonitorAjaxDur,null,{requestSentTime:a.requestSentTime,responseFinishedTime:a.responseFinishedTime})}),(function(e){l(ve.FailedMonitorAjaxGetCorrelationHeader,e,null)})))}function U(t){if(t&&t.headers)try{var n=t.headers.get(zi);return oa.getCorrelationContext(n)}catch(n){Fo(e,ve.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:O(t),exception:Xe(n)})}}e.initialize=function(d,m,I,O){if(!e.isInitialized()){n.initialize(d,m,I,O);var R=e._getTelCtx();V(t.getDefaultConfig(),(function(e,n){g[e]=R.getConfig(t.identifier,e,n)}));var F=g.distributedTracingMode;if(h=g.enableRequestHeaderTracking,v=g.enableAjaxErrorStatusText,y=g.enableAjaxPerfTracking,C=g.maxAjaxCallsPerView,T=g.enableResponseHeaderTracking,c=g.excludeRequestFromAutoTrackingPatterns,u=g.addRequestContext,a=F===_i.AI||F===_i.AI_AND_W3C,i=F===_i.AI_AND_W3C||F===_i.W3C,y){var q=d.instrumentationKey||"unkwn";s=q.length>5?"ai.ajxmn."+q.substring(q.length-5)+".":"ai.ajxmn."+q+"."}if(!1===g.disableAjaxTracking&&function(e){var t=!1;if(Ze()){var n=XMLHttpRequest[E.k];t=!(_(n)||_(n.open)||_(n.send)||_(n.abort))}var r=Qe();if(r&&r<9&&(t=!1),t)try{(new XMLHttpRequest).ajaxData={};var i=XMLHttpRequest[E.k].open;XMLHttpRequest[E.k].open=i}catch(n){t=!1,Uo(e,ve.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:Xe(n)})}return t}(e)&&!p&&(S(XMLHttpRequest,"open",{req:function(t,n,i,a){var s=t.inst,c=s.ajaxData;!w(s,i)&&k(s,!0)&&(c&&c.xhrMonitoringState.openDone||function(t,n,i,a){var o=r&&r.telemetryTrace&&r.telemetryTrace.traceID||on(),s=on().substr(0,16),c=new Mo(o,s,e.diagLog());c.method=n,c.requestUrl=i,c.xhrMonitoringState.openDone=!0,c.requestHeaders={},c.async=a,c.errorStatusText=v,t.ajaxData=c}(s,n,i,a),function(t){t.ajaxData.xhrMonitoringState.stateChangeAttached=L(t,"readystatechange",(function(){try{t&&4===t.readyState&&k(t)&&function(t){var n=t.ajaxData;function r(n,r){var i=r||{};i.ajaxDiagnosticsMessage=Vo(t),n&&(i.exception=Xe(n)),Fo(e,ve.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",i)}n.responseFinishedTime=sa(),n.status=t.status,D("xmlhttprequest",n,(function(){try{var i=n.CreateTrackItem("Ajax",h,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:P(t),type:t.responseType,responseText:A(t),response:t.response};if(T){var n=t.getAllResponseHeaders();if(n){var r=Y(n).split(/[\r\n]+/),i={};Q(r,(function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");l(n)&&(i[n]=r)})),e.headerMap=i}}return e})),a=void 0;try{u&&(a=u({status:t.status,xhr:t}))}catch(t){Fo(e,ve.FailedAddingCustomDefinedRequestContext,"Failed to add custom defined request context as configured call back may missing a null check.")}i?(void 0!==a&&(i.properties=Object(o.a)(Object(o.a)({},i.properties),a)),e.trackDependencyDataInternal(i)):r(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t.ajaxData=null}catch(e){}}}),(function(e){r(e,null)}))}(t)}catch(r){var n=Xe(r);n&&-1!==Ho(n.toLowerCase(),"c00c023f")||Uo(e,ve.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Vo(t),exception:n})}}))}(s))},hkErr:qo(e,ve.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),S(XMLHttpRequest,"send",{req:function(t,n){var r=t.inst,i=r.ajaxData;k(r)&&!i.xhrMonitoringState.sendDone&&(N("xhr",i),i.requestSentTime=sa(),e.includeCorrelationHeaders(i,void 0,void 0,r),i.xhrMonitoringState.sendDone=!0)},hkErr:qo(e,ve.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),S(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,n=t.ajaxData;k(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)},hkErr:qo(e,ve.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),h&&S(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){var r=e.inst;k(r)&&l(t)&&(r.ajaxData.requestHeaders[t]=n)},hkErr:qo(e,ve.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),p=!0),function(){var t=(n=Object(x.a)(),!n||_(n.Request)||_(n.Request[E.k])||_(n.fetch)?null:n.fetch);var n;if(!t)return;var i=Object(x.a)(),a=t.polyfill;!1===g.disableFetchTracking?(b.push(Po(i,"fetch",{req:function(t,n,i){var o;if(f&&!w(null,n,i)&&(!a||!p)){var s=t.ctx();o=function(t,n){var i=r&&r.telemetryTrace&&r.telemetryTrace.traceID||on(),a=on().substr(0,16),o=new Mo(i,a,e.diagLog());o.requestSentTime=sa(),o.errorStatusText=v,t instanceof Request?o.requestUrl=t?t.url:"":o.requestUrl=t;var s="GET";n&&n.method?s=n.method:t&&t instanceof Request&&(s=t.method);o.method=s;var c={};if(h){new Headers((n?n.headers:0)||t instanceof Request&&t.headers||{}).forEach((function(e,t){l(t)&&(c[t]=e)}))}return o.requestHeaders=c,N("fetch",o),o}(n,i);var c=e.includeCorrelationHeaders(o,n,i);c!==i&&t.set(1,c),s.data=o}},rsp:function(e,t){var n=e.ctx().data;n&&(e.rslt=e.rslt.then((function(r){return M(e,(r||{}).status,t,r,n,(function(){var e={statusText:r.statusText,headerMap:null,correlationContext:U(r)};if(T){var t={};r.headers.forEach((function(e,n){l(n)&&(t[n]=e)})),e.headerMap=t}return e})),r})).catch((function(r){throw M(e,0,t,null,n,null,{error:r.message}),r})))},hkErr:qo(e,ve.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),f=!0):a&&b.push(Po(i,"fetch",{req:function(e,t,n){w(null,t,n)}}));a&&(i.fetch.polyfill=a)}(),I.length>0&&I){for(var H=void 0,j=0;!H&&j<I.length;)I[j]&&"AppInsightsPropertiesPlugin"===I[j].identifier&&(H=I[j]),j++;H&&(r=H.context)}}},e.teardown=function(){Q(b,(function(e){e.rm()})),b=[],f=!1,p=!1,e.setInitialized(!1)},e.trackDependencyData=function(t,n){e.trackDependencyDataInternal(t,n)},e.includeCorrelationHeaders=function(t,n,o,s){var c=e._currentWindowHost||d;if(n){if(oa.canIncludeCorrelationHeader(g,t.getAbsoluteUrl(),c)){if(o||(o={}),o.headers=new Headers(o.headers||n instanceof Request&&n.headers||{}),a){var u="|"+t.traceID+"."+t.spanID;o.headers.set(Ki,u),h&&(t.requestHeaders[Ki]=u)}if((f=g.appId||r&&r.appId())&&(o.headers.set(zi,Gi+f),h&&(t.requestHeaders[zi]=Gi+f)),i){var l=new Ro(t.traceID,t.spanID);o.headers.set(Qi,l.toString()),h&&(t.requestHeaders[Qi]=l.toString())}}return o}if(s){if(oa.canIncludeCorrelationHeader(g,t.getAbsoluteUrl(),c)){if(a){u="|"+t.traceID+"."+t.spanID;s.setRequestHeader(Ki,u),h&&(t.requestHeaders[Ki]=u)}var f;if((f=g.appId||r&&r.appId())&&(s.setRequestHeader(zi,Gi+f),h&&(t.requestHeaders[zi]=Gi+f)),i){l=new Ro(t.traceID,t.spanID);s.setRequestHeader(Qi,l.toString()),h&&(t.requestHeaders[Qi]=l.toString())}}return s}},e.trackDependencyDataInternal=function(t,n,r){if(-1===C||m<C){g.distributedTracingMode!==_i.W3C&&g.distributedTracingMode!==_i.AI_AND_W3C||"string"!=typeof t.id||"."===t.id[t.id.length-1]||(t.id+="."),_(t.startTime)&&(t.startTime=new Date);var i=si.create(t,ua.dataType,ua.envelopeType,e.diagLog(),n,r);e.core.track(i)}else m===C&&Uo(e,ve.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++m}})),n}return Object(o.b)(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:_i.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:void 0}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return V(e,(function(t){e[t]=void 0})),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(dt),zo=function(){function e(){this.lastPageViewId=In(),this.traceId=this.createTraceId()}return e.prototype.createTraceId=function(){return In().replace(/-/g,"")},e.prototype.getTraceId=function(){return this.traceId},e.prototype.getLastPageViewId=function(){return this.lastPageViewId},e}(),Wo=function(e){function t(){var n,r,i,a=e.call(this)||this;a.identifier="QosPlugin",a.version="3.1.10";var o={market:"",serverImpressionGuid:""},s={};return r=new Co,i=new To,S(t,a,(function(e,t){function a(e){var t={enableCorsCorrelation:!1,correlationHeaderExcludedDomains:[],correlationHeaderExcludePatterns:null,disableCorrelationHeaders:!1,maxAjaxCallsPerView:-1,disableAjaxTracking:!1,disableFetchTracking:!1,enableCvHeaders:!1,appId:void 0,callback:{pageName:null,id:null},autoCapture:{msTags:!0},coreData:{requestUri:"",pageName:""}},n=[];return V(t,(function(e,t){t&&M(t)&&n.push(e)})),function(e,t){bo(e),Q(t,(function(t){M(e[t])?bo(e[t]):delete e[t]}))}(e,n),Sn(!0,t,e)}function c(t,n){u(t,n),e.core.track(t)}function u(e,t){hn(t)&&V(t,(function(t,n){e.data[t]=n}))}e.includeCorrelationHeaders=function(n,r,i,a){var o=t.includeCorrelationHeaders(n,r,i,a);if(s.enableCvHeaders){var c=e.getCv();if(c&&(r||a)){c.increment();var u=c.getValue();r?(o||(o=i||{}),o.headers&&R(o.headers.append)||(o.headers=new Headers(o.headers||r instanceof Request&&r.headers||{})),o.headers.append("MS-CV",u)):o.setRequestHeader("MS-CV",u)}}return o},e.initialize=function(r,i,c){var u=r.extensionConfig=r.extensionConfig||[];u[e.identifier]=u[e.identifier]||{},N((s=e._qosConfig=a(u[e.identifier])).distributedTracingMode)&&(s.distributedTracingMode=0),u[Bo.identifier]=s,t.initialize(r,i,c);var l,f,p,d=(l=e._qosConfig,p={},f=So("awa-",!0),l.autoCapture&&l.autoCapture.msTags&&(p=So("ms.",!1)),Sn(!0,f,p));o.market=Io(d,s.coreData,"market"),o.serverImpressionGuid=Io(d,s.coreData,"serverImpressionGuid");for(var g=null,h=null,v=0;v<c.length;v++)"CorrelationVectorPlugin"===c[v].identifier?g=c[v]:"WebAnalyticsPlugin"===c[v].identifier&&(h=c[v]);h&&h.id?e.id=h.id:e.id=new zo,s.enableCvHeaders&&(g?(s.enableCvHeaders=!0,n=g):(e.diagLog().throwInternal(fe.WARNING,Ae.CVPluginNotAvailable,'Enable cV headers it is set to "true" in config.  However, cv plugin is not available. Disabling adding Cv in dependency requests '),s.enableCvHeaders=!1))},e.processTelemetry=function(t,n){kn(t,e.identifier);var r=t;switch(r.baseType){case ua.dataType:"Ms.Qos.OutgoingServiceRequest"!==r.name&&(r.name="Ms.Web.OutgoingRequest",r.baseData=r.baseData||{},r.baseData.properties=r.baseData.properties||{},r.baseData.properties.parentId=r.baseData.properties.parentId||e.id.getLastPageViewId(),delete r.baseData.method),r.latency=Te}e.processNext(r,n)},e.trackDependencyData=function(t,n){e.trackDependencyDataInternal(t,n)},e.trackDependencyDataInternal=function(n,r,i){var a,c,u=i||{};hn(n.cV)&&(u.mscv={},u.mscv.cV=n.cV),n.id=s.callback&&s.callback.id?s.callback.id():In(),(r=r||{}).pageName=hn(r.pageName)?r.pageName:function(e){if(e.callback&&"function"==typeof e.callback.pageName)return e.callback.pageName();if(e.coreData.pageName)return e.coreData.pageName;var t=(je()||{}).pathname||"",n=t.split("/");return t=n.length>2&&""!==n[2]?n[2]:"Home"}(e._qosConfig),r.uri=hn(r.uri)?r.uri:(a=e._qosConfig,c=je()||{},a.coreData.requestUri?a.coreData.requestUri:c.href),r.market=hn(r.market)?r.market:o.market,r.serverImpressionGuid=hn(r.serverImpressionGuid)?r.serverImpressionGuid:o.serverImpressionGuid,t.trackDependencyDataInternal(n,r,u)},e.trackServiceOutgoingQos=function(e,t){var n={name:"Ms.Qos.OutgoingServiceRequest",baseType:"RemoteDependencyData",ext:{},baseData:{},data:{},latency:Ie};r._setQosProperties(n,e),u(n,t),c(n)},e.trackServiceIncomingQos=function(e,t){var n={name:"Ms.Qos.IncomingServiceRequest",baseType:"RequestData",ext:{},baseData:{},data:{},latency:Ie};i._setQosProperties(n,e),u(n,t),c(n)},e.getCv=function(){return n?n.getCv():null}})),a}return Object(o.b)(t,e),t}(Bo),Go=function(e){var t={referrerUri:cs.dom.getReferrer()};os.capturePageView(t)},Ko=function(e){if(cs.allowClickTracking){var t={content:{id:e.clickId,aN:e.pageArea,cN:e.clickId,cS:e.containerGroup||e.container||e.clickId},isAuto:!1,targetUri:e.targetUri&&cs.urlScrubber(e.targetUri)||cs.dom.getLocationHref(),pageName:cs.dom.getPageId(),refUri:cs.dom.getReferrer(),actionType:Pa};os.capturePageAction(cs.dummyElement,t)}},Qo={reportPageView:Go,reportClick:Ko,reportPartialView:function(e){var t={behavior:ja.IMPRESSION,pageName:e.viewId},n={pageLoadTime:e.pltMsec};os.captureContentUpdate(t,n)},$notifyPageLoaded:function(){}},Xo=function(e){var t={errorInfo:i({Page:e.location,PageName:e.pageId,Script:e.script,Message:e.message,LineNumber:e.lineNumber,UserAgent:e.userAgent,flights:cs.flights},e.ext),wasDisplayed:!1,uri:cs.dom.getLocationHref(),pageName:e.pageId,market:cs.market};os.trackException({},t)},Jo=function(e){var t=e.content,n=t.baseData,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["baseData"]),i={name:e.name,baseType:e.baseType,data:r,baseData:n};os.trackEvent(i)},$o=function(e){var t={latencyMs:e.latencyMs,requestMethod:e.httpMethod,succeeded:e.isSuccess,serviceErrorCode:e.serviceErrorCode,responseContentType:e.contentType,operationName:e.currentOperationName||e.operationName,responseSizeBytes:e.responseSize,protocolStatusCode:e.httpStatusCode,target:cs.urlScrubber(e.requestUri),dependencyName:e.serviceName,dependencyOperationName:e.operationName,dependencyOperationVersion:e.operationVersion},n={errorMessage:e.errorMessage,customData:e._optionalData&&JSON.stringify(e._optionalData)||e.customData,pageName:cs.dom.getPageId(),uri:cs.dom.getLocationHref(),market:cs.market,cV:e.cV};ss.trackServiceOutgoingQos(t,n)},Yo={reportClientError:function(e){var t=e&&e.data&&JSON.stringify(e.data),n={location:cs.dom.getLocationHref(),pageId:cs.dom.getPageId(),script:cs.dom.getLocationHref(),message:e&&e.message||t||"unknown",userAgent:window.navigator.userAgent||""};Xo(n)},reportFatalError:Xo,reportRawEvent:Jo,reportOutgoingApi:$o},Zo=function(){for(var e=document.getElementsByTagName("meta"),t={},n=0;n<e.length;n++){var r=e[n].name,i=e[n].content;if(r&&0===r.indexOf("awa-"))t[r.replace("awa-","")]=i}return t},es=function(e){var t={name:a.f,baseType:"Ms.Content.PageView",baseData:{pageTags:{flight:e,metaTags:Zo()}}};os.trackEvent(t)},ts={reportExperimentTrigger:es,setExperimentData:function(){}},ns=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickCaptureInputTypes={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},t.KeyCodes={GamePadA:195,GamePadMenu:207},t.ActionTypes={GamePadA:"CGA",GamePadMenu:"CGM"},t}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.click=function(){var e=this,t=Ve(),n=Ue();if(t&&t.addEventListener){var r=-1!==navigator.appVersion.indexOf("MSIE")?"click":"mousedown";t.addEventListener(r,(function(t){e._processClick(t)}),!1),t.addEventListener("keydown",(function(t){e._processClick(t)}),!1)}else n&&n.attachEvent&&(n.attachEvent("onclick",(function(t){e._processClick(t)})),n.attachEvent("keydown",(function(t){e._processClick(t)})))},t.prototype._processClick=function(t){var n={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},r=Ve(),i=t||(null==r?void 0:r.event),a=i.srcElement||i.target,o={isAuto:!0,clickCoordinateX:i.pageX,clickCoordinateY:i.pageY};if(i.keyCode===this.KeyCodes.GamePadA)o.actionType=this.ActionTypes.GamePadA;else{if(i.keyCode!==this.KeyCodes.GamePadMenu)return void e.prototype._processClick.call(this,t);o.actionType=this.ActionTypes.GamePadMenu}for(;a&&a.tagName;){if(a.control&&n[a.control.tagName.toUpperCase()]&&(a=a.control),n[a.tagName.toUpperCase()]){("INPUT"!==a.tagName.toUpperCase()||this.clickCaptureInputTypes[a.type.toUpperCase()])&&this._analyticsPlugin.capturePageAction(a,o,{});break}a=a.parentElement||a.parentNode}},t}(Qa),rs=function(e,t){var n={alt:as(e),vlt:Math.round(e.loadTimeMsec),data:e.components&&e.components.map((function(e){return i(i({},e.data),{componentName:e.name,startTime:Math.round(e.started),endTime:Math.round(e.ended)})})),customData:{}};t&&t.forEach((function(e){n.customData[e.name]=e.value}));var r={pageName:e.viewName||cs.dom.getPageId(),isDomComplete:!0},a={uri:cs.dom.getLocationHref(),timings:n,pageTypeForPerf:e.viewName||cs.dom.getPageId()};os.captureContentUpdate(r,a)},is={reportViewPerformanceMetrics:rs},as=function(e){var t=e;return t.application?Math.round(t.application.loadTimeMsec):void 0},os=new oo,ss=new Wo,cs={},us=[a.k,a.m,a.c,a.a,a.j,a.f,a.g,a.b];function ls(e,t){var n=new go;jo=new mo(t.seedCv);var r=new xr,o=t.features.join("|"),s=t.urlScrubber||a.o;if(cs.allowClickTracking=e.allowClickTracking,cs.flights=o,cs.urlScrubber=s,cs.dom=t.dom||Object(a.p)(s),cs.market=t.language,cs.dummyElement=document.createElement("div"),e.useKeydownEvent){var c=os.getWebAnalyticsExtension(),u=new ns(c,c.diagLog());c.setAutoCaptureHandler(u)}var l={instrumentationKey:e.instrumentationKey,propertyConfiguration:{env:e.environment},webAnalyticsConfiguration:{autoCapture:{pageView:!1,onLoad:!1,lineage:!0,click:e.allowClickTracking,scroll:e.allowScrollTracking,jsError:!1},coreData:{market:t.language,pageTags:{flight:o}},shareAuthStatus:!0,useDefaultContentName:!0,manageCv:!0,urlCollectHash:!0,urlCollectQuery:!0,isLoggedIn:e.isUserSignedIn},extensions:[n,jo,ss],extensionConfig:[]},f={callback:{},appId:e.appId,enableCvHeaders:!0,disableAjaxTracking:!0,disableFetchTracking:!0};l.extensionConfig[ss.identifier]=f;var p={authType:co,loggedInStatusCallback:function(){return e.isUserSignedIn||!1}};l.extensionConfig[n.identifier]=p;l.extensionConfig[r.identifier]={populateBrowserInfo:!0,populateOperatingSystemInfo:!0},os.initialize(l,[]),e.userPuid&&e.isUserSignedIn&&(os.getPropertyManager().getPropertiesContext().user.localId="p:"+e.userPuid),os.addTelemetryInitializer((function(e){var t,n;if(e.baseData||(e.baseData={}),e.data||(e.data={}),us.indexOf(e.name)>-1){e.data.referrerUri=cs.dom.getReferrer(),e.data.isLoggedIn=e.baseData.isLoggedIn,e.data.isManual=e.baseData.isManual,e.baseData.pageName=cs.dom.getPageId(),e.baseData.impressionGuid=e.baseData.id;var r=e.baseData.properties.pageTags||{},o=e.baseData.pageTags||{};if(e.baseData.pageTags=i(i(i({},o),r),{metaTags:i(i(i(i({},o.metaTags),r.metaTags),Zo()),{pageTypeForPerf:e.data.pageTypeForPerf})}),delete e.baseData.properties.pageTags,e.name===a.k){e.data.refUri=s(e.data.refUri);var c=s(e.baseData.targetUri);e.baseData.targetUri=c,e.baseData.destUri=c;var u=JSON.parse(e.baseData.content||"");u=u.map((function(e){return i(i({},e),{cN:e.cN?"REMOVED":void 0,srchq:e.srchq?"REMOVED":void 0})})),e.baseData.content=JSON.stringify(u)}else e.name===a.j?(e.baseData.targetUri=e.baseData.target,(null===(n=null===(t=e.ext)||void 0===t?void 0:t.mscv)||void 0===n?void 0:n.cV)&&e.data.overrideCv&&(e.ext.mscv.cV=e.data.overrideCv,delete e.data.overrideCv)):e.name===a.f||e.name===a.g?e.baseData.market=cs.market||"":e.name===a.m&&(e.baseData.name=e.baseData.pageName);e.baseData.uri=cs.dom.getLocationHref()}e.name===a.l&&e.baseData.uri&&(e.baseData.uri=s(e.baseData.uri))}))}var fs=function(){window.BradburyTelemetry={bi:{getCurrentLocation:function(){return"https://location.com"},getCurrentPageId:function(){return"pageId"},getCurrentReferrer:function(){return"https://referrer.com"},reportClick:function(e){Ko(e)},reportSpaPageView:function(e){Go()}},cv:{getCurrentCvValue:function(){return"cv123"}},experiments:{reportExperimentTrigger:function(e){es(e)}},perf:{reportViewPerformanceMetrics:function(e,t){rs(e,t)}},qos:{reportFatalError:function(e){Xo(e)},reportOutgoingApi:function(e){$o(e)},reportRawEvent:function(e){Jo(e)}}},ls({appId:"xs.amc.ux-reactApp",environment:"Test",isUserSignedIn:!1,allowClickTracking:!0,allowScrollTracking:!0,instrumentationKey:"key",useKeydownEvent:!1},{allowAutoPageView:!0,market:"en-US",language:"en",flights:[],features:[],urlScrubber:function(e){return e}})},ps={$beginScenario:function(e){var t={name:"Ms.Osgs.Scenario",data:i({uri:cs.dom.getLocationHref(),referrerUri:cs.dom.getReferrer(),pageName:cs.dom.getPageId(),area:e.area,name:e.name,step:e.currentStep,next:e.nextStep||"",type:"s"},ds(e))};os.trackEvent(t);var n={behavior:ja.STARTPROCESS,actionType:"A",contentTags:i({scn:e.name,scnstp:e.currentStep,scnnxtstp:e.nextStep},gs(e.data))};os.capturePageAction(cs.dummyElement,n)},$completeStep:function(e){var t="ef";e.canceled?t=e.successful?"cs":"cf":e.successful&&(t="es");var n={name:"Ms.Osgs.Scenario",data:i({uri:cs.dom.getLocationHref(),referrerUri:cs.dom.getReferrer(),pageName:cs.dom.getPageId(),area:e.area,name:e.name,step:e.currentStep,next:e.nextStep||"",type:e.isStep?"t":"x",result:t,tmsec:e.timeMsec||0,error:e.error},ds(e))};os.trackEvent(n);var r=e.isStep?ja.PROCESSCHECKPOINT:ja.COMPLETEPROCESS;!e.isStep&&e.canceled&&(r=ja.SCENARIOCANCEL);var a={behavior:r,actionType:"A",contentTags:i({scn:e.name,scnstp:e.currentStep,scnnxtstp:e.nextStep,isSuccess:!!e.successful,isCancel:!!e.canceled,scnerror:e.error},gs(e.data))};os.capturePageAction(cs.dummyElement,a)}},ds=function(e){var t,n,r;return{data:e.data&&JSON.stringify(e.data),origin:null===(t=e.attribution)||void 0===t?void 0:t.origin,flow:null===(n=e.attribution)||void 0===n?void 0:n.flow,owner:null===(r=e.attribution)||void 0===r?void 0:r.owner,mkt:e.market,lang:e.language}},gs=function(e){if(e){var t={};return Object.keys(e).forEach((function(n){var r=n;n.startsWith("awa-")&&(r=r.replace("awa-","")),t[r]=e[n]})),t}},hs={getCorrelationVectorFormFieldName:function(){return"MS-CV"},getCurrentCvValue:function(){return jo.getCv().getValue()},incrementCv:function(){jo.getCv().increment()},seedCv:function(e){return e?jo.getCv().init(e):jo.getCv().seed()}};n.d(t,"initialize",(function(){return ls})),n.d(t,"initializeFakeTelemetry",(function(){return fs})),n.d(t,"BiSink",(function(){return Qo})),n.d(t,"ClientQosSinkOneDS",(function(){return Yo})),n.d(t,"ExpExperimentsSink",(function(){return ts})),n.d(t,"ScenarioSink",(function(){return ps})),n.d(t,"PerformanceSink",(function(){return is})),window.OneDS={initialize:ls,BiSink:Qo,ClientQosSink:Yo,CorrelationVectorManager:hs,ExperimentsSink:ts,ScenarioSink:ps,PerformanceSink:is},window.owap=os},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n(1),i=n(6),a=((Object(i.a)()||{}).Symbol,(Object(i.a)()||{}).Reflect,r.a||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])r.f[r.i].call(t,a)&&(e[a]=t[a]);return e}),o=function(e,t){return(o=r.b.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[r.i](n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}typeof t!==r.h&&null!==t&&Object(i.c)("Class extends value "+String(t)+" is not a constructor or null"),o(e,t),e[r.k]=null===t?Object(i.b)(t):(n[r.k]=t[r.k],new n)}function c(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}},3:function(t,n){t.exports=e},4:function(e,t,n){"use strict";var r=function(){function e(t){var n=this;if(this.options=t,this.context={},this.maxResultLength=1024,this.serialize=function(){var t=Object.keys(n.context);if(!t.length)return"";for(var r=["v=1"],i=0,a=t;i<a.length;i++){var o=a[i],s=e.contextKeyMap[o]||encodeURIComponent(o),c=n.options.normalizePropertyValue&&n.options.normalizePropertyValue(o,n.context[o])||n.context[o];r.push(s+"="+encodeURIComponent(c))}var u=r.join(",");return u.length>n.maxResultLength?"":u},this.getProperty=function(e){return n.context[e]},this.setProperty=function(e,t){t&&(n.context[e]=t)},this.deleteProperty=function(e){return!!n.context[e]&&(delete n.context[e],!0)},!t)throw new Error("options must be specified.")}return e.contextKeyMap={"app-id":"ms.a.app.id","app-version":"ms.a.app.ver","device-class":"ms.a.device.deviceClass","device-id":"ms.a.device.id","partner-id":"ms.b.tel.partner","product-id":"ms.b.tel.product","scenario-id":"ms.b.tel.scenario","scenario-step":"ms.c.ust.scenarioStep","user-id":"ms.a.user.id","root-operation":"ms.b.qos.rootOperationName",market:"ms.b.tel.market"},e}(),i=n(3),a=n.n(i),o=-1,s=1,c=2,u=0,l=1,f=document.referrer,p=document.cookie;function d(e){var t=e||g;return{getLocationHref:function(){return t(window.spaLocationHref||window.location.href)},getRealLocationHref:function(){return t(window.location.href)},getSpaLocationHref:function(){return t(window.spaLocationHref||"")},getReferrer:function(){return t((window.spaReferrer||f).split("?")[0]||"")},getPageId:C,getQueryParameter:h,getCookie:v,getPerformanceTiming:function(){return window.performance&&window.performance.timing||{}},getNow:function(){return new Date},isPageOptedOutFromAutoPageView:m,setSpaLocationHref:function(e){window.spaLocationHref=e},setSpaReferrer:function(e){window.spaReferrer=e},setSpaPageId:function(e){window.spaPageId=e},setWindowLoadHandler:function(e){a()(window).load(e)}}}function g(e){return e}function h(e){return function(e,t){var n=new RegExp(e+"=([^&]+)","i"),r=t.match(n);return r&&2===r.length?r[1]:""}(e,window.location.search)}function v(e){for(var t=e.toLowerCase(),n=p.split(";"),r=0;r<n.length;r++){var i=n[r].split("="),a=decodeURIComponent(i[0].trim().toLowerCase()),o=i.length>1?i[1]:"";if(a===t)return decodeURIComponent(o)}return""}function m(){return!!a()("meta[name='noAutoPageView']").length}function y(e){var t=document.createElement("a");return t.href=e,t}function C(){return window.spaPageId||function(){var e=document.querySelector("html > head").getElementsByTagName("meta").namedItem("pageid");if(e)return e.getAttribute("content");return null}()||document.title}(function(){var e,t,n=v("oref");if(n)f=n,e="oref",(t=new Date).setDate(t.getDate()-1),function(e,t,n,r){void 0===r&&(r="/");var i=n;i||(i=new Date).setDate(i.getDate()+1);var a=encodeURIComponent(e)+"="+encodeURIComponent(t)+";expires="+i.toUTCString()+";path="+r;document.cookie=a}(e,"",t)})(),f=function(e,t){if(e&&!/^https:\/\/login\.live[\-\.]/i.test(e)&&!/^https:\/\/login\.microsoftonline\.com/i.test(e)&&!/^https:\/\/login\.windows-ppe\.net/i.test(e)&&!/^http(s?):\/\/directvisit/i.test(e))return e;if(!t)return e;var n=t.match(/\brefd=([0-9a-z\.\-]+)\b/i);if(!n||2!==n.length)return e;var r="https://"+n[1].toLowerCase()+"/",i=t.match(/\brefp=([0-9a-z\.\-]+)\b/i);return i&&2===i.length&&(r+=i[1].replace("-","/").toLowerCase()),r}(f,window.location.search);var T=function(){function e(t,n,r,i){var u=this;if(this.options=t,this.cvManager=n,this.ccManager=r,this.qosLogger=i,this.willChangeSupportCors=!1,this.alwaysAddCvToRequestHeader=!0,this.timers={},this.mockedAjaxOps={},this.hostIdx=2,this.portIdx=3,this.minServerErrorStatusCode=500,this.maxServerErrorStatusCode=600,this.retryTimeout=50,this.cv1Length=16,this.cv2Length=22,this.base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this.cv1Constants={validationPattern:new RegExp("^["+this.base64CharSet+"]{"+16..toString()+"}(.[0-9]+)+$"),maxCorrelationVectorLength:63},this.cv2Constants={validationPattern:new RegExp("^["+this.base64CharSet+"]{"+22..toString()+"}(.[0-9]+)+$"),maxCorrelationVectorLength:127},this.ajaxGet=function(e){return u.prepareRequest(e),u.flattenDataAndAppendAntiForgeryToken(e,o),u.sendRequest(e,u.getImpl)},this.ajaxPost=function(e){return u.prepareRequest(e),u.flattenDataAndAppendAntiForgeryToken(e,e.antiforgeryTokenBehavior),u.sendRequest(e,u.postImpl)},this.ajaxPut=function(e){return u.prepareRequest(e),u.flattenDataAndAppendAntiForgeryToken(e,e.antiforgeryTokenBehavior),u.sendRequest(e,u.putImpl)},this.ajaxDelete=function(e){return u.prepareRequest(e),u.flattenDataAndAppendAntiForgeryToken(e,e.antiforgeryTokenBehavior),u.sendRequest(e,u.delImpl)},this.getAntiForgeryToken=function(e,t){for(var n=e&&typeof e==typeof window?e:window,r="__RequestVerificationToken"+(t&&"string"==typeof t?"_"+t.toString():""),i=n.document.getElementsByTagName("input"),a=0;a<i.length;a++){var o=i[a];if("hidden"===o.type&&o.name===r)return{name:r,value:o.value}}return{}},this.mockAjaxOperationResult=function(e,t){if(!e)throw new Error("operationName must be specified.");if(!t)throw new Error("result must be specified.");u.mockedAjaxOps[e.toLowerCase()]=t},this.clearAjaxOperationMocks=function(){u.mockedAjaxOps={}},this.targetUriOverrideCallbackFunction=function(e){return e},this.getAntiForgeryTokenForRequest=function(e){return e.token?e.token:u.getAntiForgeryToken(e.tokenWindow,e.appPath)},this.prepareRequest=function(t){if(!t.serviceName)throw new Error("AjaxTelemetrySink: settings.serviceName is not set.");if(!t.operationName)throw new Error("AjaxTelemetrySink: settings.operationName is not set.");if(t.currentOperationName=t.parentOperationName||t.operationName,t.additionalHeaders=t.additionalHeaders||[],t.requestedWithHeaderBehavior&&"query"!==t.requestedWithHeaderBehavior)"header"===t.requestedWithHeaderBehavior&&(t.additionalHeaders["X-Requested-With"]="XMLHttpRequest");else if(t.url){var n=y(t.url);n.search+=(n.search?"&":"?")+"X-Requested-With=XMLHttpRequest",t.url=n.href}u.options.useJsll3xQuirks&&("auto"!==t.dataType?t.dataType=t.dataType||"json":delete t.dataType),u.cvManager.incrementCv(),t.cV=u.cvManager.getCurrentCvValue();var r=u.ccManager.serialize();r&&(void 0===t.addCvToRequestHeader||t.addCvToRequestHeader)&&(t.additionalHeaders["Correlation-Context"]=r),t.cache&&(t.noCacheBusting=!0),(u.options.overrideRequestQosData||t.overrideRequestQosData)&&(t.QosCallback=e.overrideRequestQosData.bind(u,u.options,t)),t.antiforgeryTokenBehavior||(u.isCrossDomainRequest(t)?t.antiforgeryTokenBehavior=o:u.isJsonContentType(t)&&(t.antiforgeryTokenBehavior=c))},this.flattenDataAndAppendAntiForgeryToken=function(e,t){var n=t||s,r=e.data;switch(r&&"string"!=typeof r&&(r=a.a.param(r)),n){case s:u.getTokenAndExecuteCommandIfTokenIsValid(e,(function(e){r=r?r+"&":"",r+=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)}));break;case c:u.getTokenAndExecuteCommandIfTokenIsValid(e,(function(t){e.additionalHeaders[encodeURIComponent(t.name)]=encodeURIComponent(t.value)}));break;case o:break;default:throw new Error("Unsupported AntiforgeryTokenBehavior: "+n)}e.data=r},this.isJsonContentType=function(e){return e.contentType&&"string"==typeof e.contentType&&-1!==e.contentType.indexOf("json")},this.isCrossDomainRequest=function(e){var t;try{t=location.href}catch(e){var n=document.createElement("a");n.href="",t=n.href}var r=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,i=r.exec(t.toLowerCase()),a=r.exec(e.url?e.url.toLowerCase():"");return!(!(a&&a.length>3&&i&&i.length>3)||a[1]===i[1]&&a[u.hostIdx]===i[u.hostIdx]&&(a[u.portIdx]||("http:"===a[1]?"80":"443"))===(i[u.portIdx]||("http:"===i[1]?"80":"443")))},this.sendRequest=function(e,t){if(e.operationName){var n=e.operationName.toLowerCase();if(u.mockedAjaxOps[n]){var r=u.mockedAjaxOps[n],i=a.a.Deferred();return setTimeout((function(){r(i)})),i}}return t(e)},this.postImpl=function(e){return e.method="POST",u.makeRequest(e)},this.getImpl=function(e){return e.method="GET",u.makeRequest(e)},this.putImpl=function(e){return e.method="PUT",u.makeRequest(e)},this.delImpl=function(e){return e.method="DELETE",u.makeRequest(e)},this.makeRequest=function(e){var t=u;if("function"==typeof a.a){u.willChangeSupportCors&&(a.a.support.cors=!0);var n,r=e.additionalHeaders||{},i=e.body,o=i?JSON.stringify(i):e.data||void 0,s=e.maxRetry||0,c=0,l=e.operationName||e.url,f=e.errorFormatter||function(e){return e},p={url:e.url,type:e.method,data:o,crossDomain:!0,headers:{},success:e.success,timeout:e.timeout,error:e.error,jsonp:e.jsonp,jsonpCallback:e.jsonpCallback,cache:e.cache,beforeSend:function(i){if(e.contractVersion&&i.setRequestHeader("MS-Contract-Version",e.contractVersion),(!0===e.addCvToRequestHeader||!1!==e.addCvToRequestHeader&&t.alwaysAddCvToRequestHeader)&&t.isValid(n)&&i.setRequestHeader("MS-CV",n),r)for(var a in r)r.hasOwnProperty(a)&&i.setRequestHeader(a,r[a])}};e.dataType&&(p.dataType=e.dataType),e.noCacheBusting||(p.cache=!1),e.contentType&&(p.contentType=e.contentType),e.accept&&(p.headers.Accept=e.accept),e.accepts&&(p.accepts=e.accepts),e.async&&(p.async=e.async),e.xhrFields&&(p.xhrFields=e.xhrFields),e.complete&&(p.complete=e.complete),e.contents&&(p.contents=e.contents),e.context&&(p.context=e.context),e.dataFilter&&(p.dataFilter=e.dataFilter),e.global&&(p.global=e.global),e.ifModified&&(p.ifModified=e.ifModified),e.isLocal&&(p.isLocal=e.isLocal),e.mimeType&&(p.mimeType=e.mimeType),e.password&&(p.password=e.password),e.processData&&(p.processData=e.processData),e.scriptCharset&&(p.scriptCharset=e.scriptCharset),e.statusCode&&(p.statusCode=e.statusCode),e.traditional&&(p.traditional=e.traditional),e.type&&(p.type=e.type),e.username&&(p.username=e.username),e.xhr&&(p.xhr=e.xhr),n=u.isValid(e.cV)?e.cV:u.increment();var d=function(r,i,a){var o=r.getResponseHeader("Content-Length"),s={name:"Ms.Webi.OutgoingRequest",data:{cV:n,baseData:{operationName:e.currentOperationName,targetUri:t.targetUriOverrideCallbackFunction?t.targetUriOverrideCallbackFunction(p.url):p.url,latencyMs:a,serviceErrorCode:!i&&r.responseJSON&&r.responseJSON.code&&!isNaN(r.responseJSON.code)?r.responseJSON.code:-1,succeeded:i,requestMethod:p.type,responseContentType:p.dataType,protocolStatusCode:r.status.toString(),dependencyOperationName:l,dependencyOperationVersion:e.version&&e.version.toString(),dependencyName:e.serviceName,dependencyType:"WebService",responseSizeBytes:o&&parseInt(o,10)},baseType:"Ms.Qos.OutgoingServiceRequest",message:i?void 0:JSON.stringify(r.errorThrown),retryCount:c,customData:e.customDataCallBack&&"function"==typeof e.customDataCallBack?JSON.stringify(e.customDataCallBack(r)):void 0}};e.QosCallback&&"function"==typeof e.QosCallback&&e.QosCallback(r,s),t.reportEvent(s.data)},g=function(){var r=l+"_Retry_"+c;return t.recordTimeSpan(r,!1),a.a.ajax(p).then((function(e,n,i){var a=t.recordTimeSpan(r,!0);return d(i,!0,a),i}),(function(i,o){var u=t.recordTimeSpan(r,!0);d(i,!1,u);var l=a.a.Deferred();return s>c&&(0===i.status||i.status>=t.minServerErrorStatusCode&&i.status<t.maxServerErrorStatusCode)?(c++,n=t.isValid(e.cV)?t.incrementExternal(n):t.increment(),setTimeout((function(){g().done(l.resolve).fail(l.reject)}),t.retryTimeout)):l.reject(i,o),l.promise()}))};return g().then((function(e,t,n){return n}),(function(t){return f(t,e)}))}},this.isValid=function(e){if(e){var t=e.split(".")[0];if(t){if(t.length===u.cv1Length)return u.validateWithCv1(e);if(t.length===u.cv2Length)return u.validateWithCv2(e)}}return!1},this.validateWithCv1=function(e){return!!(u.cv1Constants.validationPattern.test(e)&&e.length<=u.cv1Constants.maxCorrelationVectorLength)},this.validateWithCv2=function(e){return!!(u.cv2Constants.validationPattern.test(e)&&e.length<=u.cv2Constants.maxCorrelationVectorLength)},this.increment=function(){return u.cvManager.incrementCv(),u.cvManager.getCurrentCvValue()},this.incrementExternal=function(e){if(u.isValid(e)){var t=e.split("."),n=t.length;t[n-1]=(parseInt(t[n-1],10)+1).toString();for(var r="",i=0;i<n;i++)r+=t[i],i<n-1&&(r+=".");var a=t[0].length===u.cv2Length?u.cv2Constants.maxCorrelationVectorLength:u.cv1Constants.maxCorrelationVectorLength;if(r.length<=a)return r}return""},this.reportEvent=function(e){var t=e.baseData,n={currentOperationName:t.operationName,operationName:t.dependencyOperationName,requestUri:t.targetUri,latencyMs:t.latencyMs,serviceErrorCode:t.serviceErrorCode,isSuccess:t.succeeded,httpMethod:t.requestMethod,contentType:t.responseContentType,httpStatusCode:t.protocolStatusCode,serviceName:t.dependencyName,serviceType:t.dependencyType,operationVersion:t.dependencyOperationVersion,responseSize:t.responseSizeBytes,errorMessage:e.message,retryCount:e.retryCount,customData:e.customData,cV:e.cV};u.qosLogger.reportOutgoingApi(n)},!t)throw new Error("options must be specified.");this.willChangeSupportCors=!1}return e.prototype.getTokenAndExecuteCommandIfTokenIsValid=function(e,t){var n=this.getAntiForgeryTokenForRequest(e);n&&t(n)},e.overrideRequestQosData=function(e,t,n,r){if((r||r.data)&&(t.overrideRequestQosData||e.overrideRequestQosData)){var i=r.data.baseData,a=r.data,o={isSuccess:i&&i.succeeded,latencyMs:i&&i.latencyMs,httpStatusCode:i&&i.protocolStatusCode,serviceErrorCode:i&&i.serviceErrorCode,errorMessage:a&&a.message};o.responseStatus=n.status,o.requestTimeout=t.timeout;var s=u;t.overrideRequestQosData&&(s=t.overrideRequestQosData(t,n,o)),u===s&&e.overrideRequestQosData&&(e.overrideRequestQosData(o),s=l),l===s&&(i&&(i.succeeded=o.isSuccess,i.latencyMs=o.latencyMs,i.protocolStatusCode=o.httpStatusCode,i.serviceErrorCode=o.serviceErrorCode),a&&(a.message=o.errorMessage))}},e.prototype.recordTimeSpan=function(e,t){var n=(new Date).getTime();return t?n-this.timers[e]:void(this.timers[e]=n)},e}(),b=function(){var e=this;this.ajaxGet=function(t){return e.performAjaxRequest("GET",t)},this.ajaxPost=function(t){return e.performAjaxRequest("POST",t)},this.ajaxPut=function(t){return e.performAjaxRequest("PUT",t)},this.ajaxDelete=function(t){return e.performAjaxRequest("DELETE",t)},this.getAntiForgeryToken=function(e,t){return{name:"antiforgery",value:"token"}},this.mockAjaxOperationResult=function(e,t){},this.clearAjaxOperationMocks=function(){},this.performAjaxRequest=function(e,t){return $.ajax($.extend({},t,{method:e}))}},I=function(){this.serialize=function(){return""},this.getProperty=function(e){return""},this.setProperty=function(e,t){},this.deleteProperty=function(e){return!1}},S=function(){this.getCurrentCvValue=function(){return"cv.1"},this.getCorrelationVectorFormFieldName=function(){return"cv"},this.seedCv=function(e){},this.incrementCv=function(){}},E=function(){function e(e){var t=this;this.options=e,this.initializationAttempt=0,this.initializers=[],this.biSinks=[],this.qosSinks=[],this.perfSinks=[],this.scenariosSinks=[],this.experimentsSinks=[],this.pageViewOccurred=!1,this.executeOnPageViewQueue=[],this.maxErrorStringLength=100,this.timeoutMultiplier=100,this.scenarioStartPoints={},this.useAsGlobalTelemetryProvider=function(){window.BradburyTelemetry=t.toTelemetryProvider(),t.dom.setWindowLoadHandler(t.$notifyPageLoaded)},this.toTelemetryProvider=function(){return{cv:t.cvManager,cc:t.ccManager,qos:t,perf:t,bi:t,scenarios:t,experiments:t,ajax:t.ajaxTelemetry,utilities:t.utilities}},this.setCorrelationVectorManager=function(e){t.cvManager=e},this.setCorrelationContextManager=function(e){t.ccManager=e},this.setUtilityFunctions=function(e){t.utilities=e},this.setAjaxTelemetrySink=function(e){t.ajaxTelemetry=e},this.registerInitializer=function(e){t.initializers.push(e)},this.registerBiSink=function(e){t.biSinks.push(e)},this.registerQosSink=function(e){t.qosSinks.push(e)},this.registerPerfSink=function(e){t.perfSinks.push(e)},this.registerScenariosSink=function(e){t.scenariosSinks.push(e)},this.registerExperimentsSink=function(e){t.experimentsSinks.push(e)},this.reportOutgoingApi=function(e){t.reportQosOperation((function(t){return t.reportOutgoingApi(e)}))},this.reportClientError=function(e){t.reportQosOperation((function(t){return t.reportClientError(e)}))},this.reportFatalError=function(e){t.reportQosOperation((function(t){return t.reportFatalError(e)}))},this.reportRawEvent=function(e){t.reportQosOperation((function(t){return t.reportRawEvent(e)}))},this.reportViewPerformanceMetrics=function(e,n){t.reportClientPerformance((function(t){return t.reportViewPerformanceMetrics(e,n)}))},this.$notifyPageLoaded=function(){t.setExperimentData(),t.reportBiOperation((function(e){return e.$notifyPageLoaded()})),t.options.allowAutoPageView&&!t.dom.isPageOptedOutFromAutoPageView()&&t.reportPageView({url:t.dom.getLocationHref(),viewId:t.dom.getPageId()})},this.reportClick=function(e){t.executeAfterPageView((function(){return t.reportBiOperation((function(t){return t.reportClick(e)}))}))},this.reportPartialView=function(e){t.executeAfterPageView((function(){return t.reportBiOperation((function(t){return t.reportPartialView(e)}))}))},this.reportPageView=function(e){if(t.setExperimentData(),e.$hosted)t.executeAfterPageView((function(){return t.reportBiOperation((function(t){return t.reportPageView(e)}))}));else{if(t.reportBiOperation((function(t){return t.reportPageView(e)})),t.executeOnPageViewQueue.length){var n=t.executeOnPageViewQueue;t.executeOnPageViewQueue=[];for(var r=0,i=n;r<i.length;r++){(0,i[r])()}}t.pageViewOccurred=!0}},this.reportSpaPageView=function(e){t.setExperimentData(),e.$hosted?t.executeAfterPageView((function(){return t.reportSpaPageViewImpl(e)})):t.reportSpaPageViewImpl(e)},this.getDefaultPlt=function(){return e=t.dom,n=e.getNow().getTime(),((r=e.getPerformanceTiming()).domComplete||n)-(r.fetchStart||n)||0;var e,n,r},this.getCurrentLocation=function(){return t.dom.getLocationHref()},this.getCurrentReferrer=function(){return t.dom.getReferrer()},this.getCurrentPageId=function(){return t.dom.getPageId()},this.getTrafficOriginator=function(){return t.dom.getCookie("tref").toLowerCase()},this.beginScenario=function(e,n,r){return t.$beginScenario({area:e,name:n,currentStep:"!START",attribution:r&&r.attribution,data:r&&r.data}),n},this.beginMultiStepScenario=function(e,n,r,i){return t.$beginScenario({area:e,name:n,currentStep:"!START",nextStep:r,attribution:i&&i.attribution,data:i&&i.data}),n},this.endScenario=function(e){t.$completeStep({area:e.area,name:e.name,currentStep:"!START",nextStep:t.getVirtualStepNameForTaskResult(!1,e),successful:e.isSuccess,canceled:!1,error:t.getSafeStepErrorCodeValue(e.error),attribution:e.attribution,data:e.data,timeMsec:t.calculateScenarioTime(e)})},this.cancelScenario=function(e){t.$completeStep({area:e.area,name:e.name,currentStep:"!START",nextStep:t.getVirtualStepNameForTaskResult(!0,e),successful:e.isSuccess,canceled:!0,error:t.getSafeStepErrorCodeValue(e.error),attribution:e.attribution,data:e.data,timeMsec:t.calculateScenarioTime(e)})},this.endStep=function(e){t.$completeStep({area:e.area,name:e.name,isStep:!0,currentStep:e.step,nextStep:e.next,successful:e.isSuccess,canceled:!1,error:t.getSafeStepErrorCodeValue(e.error),attribution:e.attribution,data:e.data})},this.cancelStep=function(e){t.$completeStep({area:e.area,name:e.name,isStep:!0,currentStep:e.step,nextStep:e.next,successful:e.isSuccess,canceled:!0,error:t.getSafeStepErrorCodeValue(e.error),attribution:e.attribution,data:e.data})},this.endMultiStepScenario=function(e){t.$completeStep({area:e.area,name:e.name,currentStep:e.step,nextStep:t.getVirtualStepNameForTaskResult(!1,e),successful:e.isSuccess,canceled:!1,error:t.getSafeStepErrorCodeValue(e.error),attribution:e.attribution,timeMsec:t.calculateScenarioTime(e),data:e.data})},this.cancelMultiStepScenario=function(e){t.$completeStep({area:e.area,name:e.name,currentStep:e.step,nextStep:t.getVirtualStepNameForTaskResult(!0,e),successful:e.isSuccess,canceled:!0,error:t.getSafeStepErrorCodeValue(e.error),attribution:e.attribution,timeMsec:t.calculateScenarioTime(e),data:e.data})},this.$beginScenario=function(e){t.ccManager.deleteProperty("scenario-id"),t.ccManager.deleteProperty("scenario-step"),t.ccManager.setProperty("scenario-id",t.getCorrelationScenarioId(e)),e.nextStep&&t.ccManager.setProperty("scenario-step",e.nextStep),t.executeAfterPageView((function(){var n=t.createScenarioId(e.area,e.name);t.scenarioStartPoints[n]=t.dom.getNow().getTime(),e.attribution=t.populateScenarioAttribution(e.attribution||{}),e.market=t.options.market,e.language=t.options.language,t.reportScenarioEvent((function(t){return t.$beginScenario(e)}))}))},this.$completeStep=function(e){t.ccManager.deleteProperty("scenario-id"),t.ccManager.deleteProperty("scenario-step"),e.isStep&&(t.ccManager.setProperty("scenario-id",t.getCorrelationScenarioId(e)),e.nextStep&&t.ccManager.setProperty("scenario-step",e.nextStep)),t.executeAfterPageView((function(){e.attribution=t.populateScenarioAttribution(e.attribution||{}),e.market=t.options.market,e.language=t.options.language,t.reportScenarioEvent((function(t){return t.$completeStep(e)}))}))},this.reportExperimentTrigger=function(e){t.reportExperimentOperation((function(t){return t.reportExperimentTrigger(e)}))},this.getCorrelationScenarioId=function(e){return e.area+"."+e.name},this.executeAfterPageView=function(e){t.pageViewOccurred||t.options.$ignorePageViewQueue?e():t.executeOnPageViewQueue.push(e)},this.reportBiOperation=function(e){if(!t.initializers.length||t.initializeTelemetry((function(){return t.reportBiOperation(e)})))for(var n=0,r=t.biSinks;n<r.length;n++){var i=r[n];e(i)}},this.reportQosOperation=function(e){if(!t.initializers.length||t.initializeTelemetry((function(){return t.reportQosOperation(e)})))for(var n=0,r=t.qosSinks;n<r.length;n++){var i=r[n];e(i)}},this.reportClientPerformance=function(e){if(!t.initializers.length||t.initializeTelemetry((function(){return t.reportClientPerformance(e)})))for(var n=0,r=t.perfSinks;n<r.length;n++){var i=r[n];e(i)}},this.reportScenarioEvent=function(e){if(!t.initializers.length||t.initializeTelemetry((function(){return t.reportScenarioEvent(e)})))for(var n=0,r=t.scenariosSinks;n<r.length;n++){var i=r[n];e(i)}},this.reportExperimentOperation=function(e){if(!t.initializers.length||t.initializeTelemetry((function(){return t.reportExperimentOperation(e)})))for(var n=0,r=t.experimentsSinks;n<r.length;n++){var i=r[n];e(i)}},this.reportSpaPageViewImpl=function(e){var n,r,i=y(t.dom.getRealLocationHref()),a=t.dom.getSpaLocationHref();t.dom.setSpaPageId(e.viewId),t.dom.setSpaLocationHref(i.protocol.toLowerCase()+"//"+i.host.toLowerCase()+(n=e.path,"/"!==(r=n||"/")[0]&&(r="/"+r),r)+i.search),a&&t.dom.setSpaReferrer(a),t.reportPageView({url:t.dom.getLocationHref(),viewId:e.viewId,pltMsec:e.pltMsec,$internalIsSpa:!0})},this.createScenarioId=function(e,t){return e+"."+t},this.calculateScenarioTime=function(e){var n=t.createScenarioId(e.area,e.name),r=0;return t.scenarioStartPoints[n]&&(r=t.dom.getNow().getTime()-t.scenarioStartPoints[n],delete t.scenarioStartPoints[n]),r},this.getVirtualStepNameForTaskResult=function(e,t){return e?t.isSuccess?"!CANCELOK":"!CANCELFAIL":t.isSuccess?"!OK":"!FAIL"},this.getSafeStepErrorCodeValue=function(e){var n=e;return(n=(n=n||"").substr(0,t.maxErrorStringLength))&&!/^[0-9a-zA-Z-_. ]+$/.test(n)&&(n="InvalidErrorCodeValue_ReadDocumentation"),n},this.populateScenarioAttribution=function(e){var n=t.getTrafficOriginator(),r=(e.flow||t.dom.getQueryParameter("fref")).toLowerCase();return r||(r=n?"ext":"int"),n||(n="int"),e.origin=n,e.flow=r,e.owner=(e.owner||"").toLowerCase(),e},this.initializeTelemetry=function(e){if(!t.initializers.length)return!0;for(var n=[],r=0,i=t.initializers;r<i.length;r++){var a=i[r];a.initialize(t.initializationAttempt)||n.push(a)}return n.length?(t.initializationAttempt++,t.initializers=n,setTimeout(e,t.initializationAttempt*t.timeoutMultiplier),!1):(t.initializers=[],!0)},this.dom=e.dom||d(e.urlScrubber),this.cvManager=new S,this.ccManager=new I,this.ajaxTelemetry=new b,this.utilities={}}return e.prototype.setExperimentData=function(){this.reportExperimentOperation((function(e){return e.setExperimentData()}))},e}();n.d(t,"a",(function(){return"Ms.Web.ClientError"})),n.d(t,"b",(function(){return"Ms.Osgs.ClientReliability"})),n.d(t,"c",(function(){return"Ms.Web.ContentUpdate"})),n.d(t,"e",(function(){return"Ms.Webi.MeePortal.Error"})),n.d(t,"f",(function(){return"Ms.Osgs.ExperimentTrigger"})),n.d(t,"g",(function(){return"Ms.Webi.MeePortal.UserFeedbackV2"})),n.d(t,"h",(function(){return"Ms.Webi.MeePortal.LoadScript"})),n.d(t,"k",(function(){return"Ms.Web.PageAction"})),n.d(t,"l",(function(){return"Ms.Web.PageUnload"})),n.d(t,"m",(function(){return"Ms.Web.PageView"})),n.d(t,"j",(function(){return"Ms.Qos.OutgoingServiceRequest"})),n.d(t,"d",(function(){return r})),n.d(t,"i",(function(){return T})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return d}))},6:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(1),i=null;function a(t){return void 0===t&&(t=!0),i&&t||(typeof globalThis!==r.l&&globalThis&&(i=globalThis),typeof self!==r.l&&self&&(i=self),typeof window!==r.l&&window&&(i=window),typeof e!==r.l&&e&&(i=e)),i}function o(e){throw new TypeError(e)}function s(e){var t=r.c;if(t)return t(e);if(null==e)return{};var n=typeof e;function i(){}return n!==r.j&&n!==r.h&&o("Object prototype may only be an Object:"+e),i[r.k]=e,new i}}).call(this,n(17))}})}));
